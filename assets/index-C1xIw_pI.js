var TO=Object.defineProperty;var Qy=e=>{throw TypeError(e)};var RO=(e,t,n)=>t in e?TO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var O=(e,t,n)=>RO(e,typeof t!="symbol"?t+"":t,n),pm=(e,t,n)=>t.has(e)||Qy("Cannot "+n);var I=(e,t,n)=>(pm(e,t,"read from private field"),n?n.call(e):t.get(e)),_e=(e,t,n)=>t.has(e)?Qy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ue=(e,t,n,r)=>(pm(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ze=(e,t,n)=>(pm(e,t,"access private method"),n);var Hu=(e,t,n,r)=>({set _(s){ue(e,t,s,n)},get _(){return I(e,t,r)}});function AO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function dC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fC={exports:{}},rh={},hC={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu=Symbol.for("react.element"),IO=Symbol.for("react.portal"),MO=Symbol.for("react.fragment"),OO=Symbol.for("react.strict_mode"),DO=Symbol.for("react.profiler"),FO=Symbol.for("react.provider"),LO=Symbol.for("react.context"),$O=Symbol.for("react.forward_ref"),zO=Symbol.for("react.suspense"),UO=Symbol.for("react.memo"),VO=Symbol.for("react.lazy"),Gy=Symbol.iterator;function BO(e){return e===null||typeof e!="object"?null:(e=Gy&&e[Gy]||e["@@iterator"],typeof e=="function"?e:null)}var mC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pC=Object.assign,gC={};function El(e,t,n){this.props=e,this.context=t,this.refs=gC,this.updater=n||mC}El.prototype.isReactComponent={};El.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};El.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xC(){}xC.prototype=El.prototype;function Cx(e,t,n){this.props=e,this.context=t,this.refs=gC,this.updater=n||mC}var _x=Cx.prototype=new xC;_x.constructor=Cx;pC(_x,El.prototype);_x.isPureReactComponent=!0;var Yy=Array.isArray,vC=Object.prototype.hasOwnProperty,kx={current:null},yC={key:!0,ref:!0,__self:!0,__source:!0};function wC(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)vC.call(t,r)&&!yC.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:bu,type:e,key:a,ref:o,props:s,_owner:kx.current}}function WO(e,t){return{$$typeof:bu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Px(e){return typeof e=="object"&&e!==null&&e.$$typeof===bu}function HO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zy=/\/+/g;function gm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HO(""+e.key):t.toString(36)}function Cd(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bu:case IO:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+gm(o,0):r,Yy(s)?(n="",e!=null&&(n=e.replace(Zy,"$&/")+"/"),Cd(s,t,n,"",function(u){return u})):s!=null&&(Px(s)&&(s=WO(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zy,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Yy(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+gm(a,l);o+=Cd(a,t,n,c,s)}else if(c=BO(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+gm(a,l++),o+=Cd(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qu(e,t,n){if(e==null)return e;var r=[],s=0;return Cd(e,r,"","",function(a){return t.call(n,a,s++)}),r}function qO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qn={current:null},_d={transition:null},KO={ReactCurrentDispatcher:Qn,ReactCurrentBatchConfig:_d,ReactCurrentOwner:kx};function bC(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:qu,forEach:function(e,t,n){qu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qu(e,function(){t++}),t},toArray:function(e){return qu(e,function(t){return t})||[]},only:function(e){if(!Px(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=El;Qe.Fragment=MO;Qe.Profiler=DO;Qe.PureComponent=Cx;Qe.StrictMode=OO;Qe.Suspense=zO;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KO;Qe.act=bC;Qe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pC({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=kx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)vC.call(t,c)&&!yC.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:bu,type:e.type,key:s,ref:a,props:r,_owner:o}};Qe.createContext=function(e){return e={$$typeof:LO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FO,_context:e},e.Consumer=e};Qe.createElement=wC;Qe.createFactory=function(e){var t=wC.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:$O,render:e}};Qe.isValidElement=Px;Qe.lazy=function(e){return{$$typeof:VO,_payload:{_status:-1,_result:e},_init:qO}};Qe.memo=function(e,t){return{$$typeof:UO,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=_d.transition;_d.transition={};try{e()}finally{_d.transition=t}};Qe.unstable_act=bC;Qe.useCallback=function(e,t){return Qn.current.useCallback(e,t)};Qe.useContext=function(e){return Qn.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return Qn.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return Qn.current.useEffect(e,t)};Qe.useId=function(){return Qn.current.useId()};Qe.useImperativeHandle=function(e,t,n){return Qn.current.useImperativeHandle(e,t,n)};Qe.useInsertionEffect=function(e,t){return Qn.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return Qn.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return Qn.current.useMemo(e,t)};Qe.useReducer=function(e,t,n){return Qn.current.useReducer(e,t,n)};Qe.useRef=function(e){return Qn.current.useRef(e)};Qe.useState=function(e){return Qn.current.useState(e)};Qe.useSyncExternalStore=function(e,t,n){return Qn.current.useSyncExternalStore(e,t,n)};Qe.useTransition=function(){return Qn.current.useTransition()};Qe.version="18.3.1";hC.exports=Qe;var m=hC.exports;const D=dC(m),Ex=AO({__proto__:null,default:D},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO=m,GO=Symbol.for("react.element"),YO=Symbol.for("react.fragment"),ZO=Object.prototype.hasOwnProperty,XO=QO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JO={key:!0,ref:!0,__self:!0,__source:!0};function jC(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ZO.call(t,r)&&!JO.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:GO,type:e,key:a,ref:o,props:s,_owner:XO.current}}rh.Fragment=YO;rh.jsx=jC;rh.jsxs=jC;fC.exports=rh;var i=fC.exports,NC={exports:{}},kr={},SC={exports:{}},CC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,F){var Q=S.length;S.push(F);e:for(;0<Q;){var J=Q-1>>>1,be=S[J];if(0<s(be,F))S[J]=F,S[Q]=be,Q=J;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var F=S[0],Q=S.pop();if(Q!==F){S[0]=Q;e:for(var J=0,be=S.length,He=be>>>1;J<He;){var De=2*(J+1)-1,yt=S[De],st=De+1,ve=S[st];if(0>s(yt,Q))st<be&&0>s(ve,yt)?(S[J]=ve,S[st]=Q,J=st):(S[J]=yt,S[De]=Q,J=De);else if(st<be&&0>s(ve,Q))S[J]=ve,S[st]=Q,J=st;else break e}}return F}function s(S,F){var Q=S.sortIndex-F.sortIndex;return Q!==0?Q:S.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,v=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(S){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=S)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function j(S){if(x=!1,p(S),!y)if(n(c)!==null)y=!0,W(N);else{var F=n(u);F!==null&&H(j,F.startTime-S)}}function N(S,F){y=!1,x&&(x=!1,w(C),C=-1),v=!0;var Q=h;try{for(p(F),f=n(c);f!==null&&(!(f.expirationTime>F)||S&&!A());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var be=J(f.expirationTime<=F);F=e.unstable_now(),typeof be=="function"?f.callback=be:f===n(c)&&r(c),p(F)}else r(c);f=n(c)}if(f!==null)var He=!0;else{var De=n(u);De!==null&&H(j,De.startTime-F),He=!1}return He}finally{f=null,h=Q,v=!1}}var _=!1,P=null,C=-1,L=5,k=-1;function A(){return!(e.unstable_now()-k<L)}function E(){if(P!==null){var S=e.unstable_now();k=S;var F=!0;try{F=P(!0,S)}finally{F?M():(_=!1,P=null)}}else _=!1}var M;if(typeof g=="function")M=function(){g(E)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,q=T.port2;T.port1.onmessage=E,M=function(){q.postMessage(null)}}else M=function(){b(E,0)};function W(S){P=S,_||(_=!0,M())}function H(S,F){C=b(function(){S(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,W(N))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var Q=h;h=F;try{return S()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,F){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var Q=h;h=S;try{return F()}finally{h=Q}},e.unstable_scheduleCallback=function(S,F,Q){var J=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?J+Q:J):Q=J,S){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Q+be,S={id:d++,callback:F,priorityLevel:S,startTime:Q,expirationTime:be,sortIndex:-1},Q>J?(S.sortIndex=Q,t(u,S),n(c)===null&&S===n(u)&&(x?(w(C),C=-1):x=!0,H(j,Q-J))):(S.sortIndex=be,t(c,S),y||v||(y=!0,W(N))),S},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(S){var F=h;return function(){var Q=h;h=F;try{return S.apply(this,arguments)}finally{h=Q}}}})(CC);SC.exports=CC;var e4=SC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t4=m,_r=e4;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _C=new Set,Tc={};function so(e,t){ml(e,t),ml(e+"Capture",t)}function ml(e,t){for(Tc[e]=t,e=0;e<t.length;e++)_C.add(t[e])}var Xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pp=Object.prototype.hasOwnProperty,n4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xy={},Jy={};function r4(e){return Pp.call(Jy,e)?!0:Pp.call(Xy,e)?!1:n4.test(e)?Jy[e]=!0:(Xy[e]=!0,!1)}function s4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function i4(e,t,n,r){if(t===null||typeof t>"u"||s4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gn(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nn[e]=new Gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nn[t]=new Gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nn[e]=new Gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nn[e]=new Gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nn[e]=new Gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nn[e]=new Gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nn[e]=new Gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nn[e]=new Gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nn[e]=new Gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tx=/[\-:]([a-z])/g;function Rx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tx,Rx);Nn[t]=new Gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tx,Rx);Nn[t]=new Gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tx,Rx);Nn[t]=new Gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nn[e]=new Gn(e,1,!1,e.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nn[e]=new Gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ax(e,t,n,r){var s=Nn.hasOwnProperty(t)?Nn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(i4(t,n,s,r)&&(n=null),r||s===null?r4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ai=t4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),_o=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),Ix=Symbol.for("react.strict_mode"),Ep=Symbol.for("react.profiler"),kC=Symbol.for("react.provider"),PC=Symbol.for("react.context"),Mx=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Rp=Symbol.for("react.suspense_list"),Ox=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),EC=Symbol.for("react.offscreen"),ew=Symbol.iterator;function Wl(e){return e===null||typeof e!="object"?null:(e=ew&&e[ew]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Object.assign,xm;function rc(e){if(xm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xm=t&&t[1]||""}return`
`+xm+e}var vm=!1;function ym(e,t){if(!e||vm)return"";vm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{vm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rc(e):""}function a4(e){switch(e.tag){case 5:return rc(e.type);case 16:return rc("Lazy");case 13:return rc("Suspense");case 19:return rc("SuspenseList");case 0:case 2:case 15:return e=ym(e.type,!1),e;case 11:return e=ym(e.type.render,!1),e;case 1:return e=ym(e.type,!0),e;default:return""}}function Ap(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ko:return"Fragment";case _o:return"Portal";case Ep:return"Profiler";case Ix:return"StrictMode";case Tp:return"Suspense";case Rp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case PC:return(e.displayName||"Context")+".Consumer";case kC:return(e._context.displayName||"Context")+".Provider";case Mx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ox:return t=e.displayName||null,t!==null?t:Ap(e.type)||"Memo";case gi:t=e._payload,e=e._init;try{return Ap(e(t))}catch{}}return null}function o4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ap(t);case 8:return t===Ix?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l4(e){var t=TC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qu(e){e._valueTracker||(e._valueTracker=l4(e))}function RC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=TC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ip(e,t){var n=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function AC(e,t){t=t.checked,t!=null&&Ax(e,"checked",t,!1)}function Mp(e,t){AC(e,t);var n=qi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Op(e,t.type,n):t.hasOwnProperty("defaultValue")&&Op(e,t.type,qi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Op(e,t,n){(t!=="number"||Zd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sc=Array.isArray;function Uo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qi(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(sc(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qi(n)}}function IC(e,t){var n=qi(t.value),r=qi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function MC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?MC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gu,OC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gu=Gu||document.createElement("div"),Gu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c4=["Webkit","ms","Moz","O"];Object.keys(hc).forEach(function(e){c4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hc[t]=hc[e]})});function DC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hc.hasOwnProperty(e)&&hc[e]?(""+t).trim():t+"px"}function FC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=DC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var u4=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(e,t){if(t){if(u4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function $p(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=null;function Dx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Up=null,Vo=null,Bo=null;function iw(e){if(e=Su(e)){if(typeof Up!="function")throw Error(X(280));var t=e.stateNode;t&&(t=lh(t),Up(e.stateNode,e.type,t))}}function LC(e){Vo?Bo?Bo.push(e):Bo=[e]:Vo=e}function $C(){if(Vo){var e=Vo,t=Bo;if(Bo=Vo=null,iw(e),t)for(e=0;e<t.length;e++)iw(t[e])}}function zC(e,t){return e(t)}function UC(){}var wm=!1;function VC(e,t,n){if(wm)return e(t,n);wm=!0;try{return zC(e,t,n)}finally{wm=!1,(Vo!==null||Bo!==null)&&(UC(),$C())}}function Ac(e,t){var n=e.stateNode;if(n===null)return null;var r=lh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var Vp=!1;if(Xs)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){Vp=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{Vp=!1}function d4(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var mc=!1,Xd=null,Jd=!1,Bp=null,f4={onError:function(e){mc=!0,Xd=e}};function h4(e,t,n,r,s,a,o,l,c){mc=!1,Xd=null,d4.apply(f4,arguments)}function m4(e,t,n,r,s,a,o,l,c){if(h4.apply(this,arguments),mc){if(mc){var u=Xd;mc=!1,Xd=null}else throw Error(X(198));Jd||(Jd=!0,Bp=u)}}function io(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function BC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aw(e){if(io(e)!==e)throw Error(X(188))}function p4(e){var t=e.alternate;if(!t){if(t=io(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return aw(s),e;if(a===r)return aw(s),t;a=a.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function WC(e){return e=p4(e),e!==null?HC(e):null}function HC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=HC(e);if(t!==null)return t;e=e.sibling}return null}var qC=_r.unstable_scheduleCallback,ow=_r.unstable_cancelCallback,g4=_r.unstable_shouldYield,x4=_r.unstable_requestPaint,Kt=_r.unstable_now,v4=_r.unstable_getCurrentPriorityLevel,Fx=_r.unstable_ImmediatePriority,KC=_r.unstable_UserBlockingPriority,ef=_r.unstable_NormalPriority,y4=_r.unstable_LowPriority,QC=_r.unstable_IdlePriority,sh=null,Ns=null;function w4(e){if(Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(sh,e,void 0,(e.current.flags&128)===128)}catch{}}var ts=Math.clz32?Math.clz32:N4,b4=Math.log,j4=Math.LN2;function N4(e){return e>>>=0,e===0?32:31-(b4(e)/j4|0)|0}var Yu=64,Zu=4194304;function ic(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ic(l):(a&=o,a!==0&&(r=ic(a)))}else o=n&~s,o!==0?r=ic(o):a!==0&&(r=ic(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ts(t),s=1<<n,r|=e[n],t&=~s;return r}function S4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C4(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ts(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=S4(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Wp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function GC(){var e=Yu;return Yu<<=1,!(Yu&4194240)&&(Yu=64),e}function bm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ju(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ts(t),e[t]=n}function _4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ts(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Lx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ts(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var mt=0;function YC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZC,$x,XC,JC,e_,Hp=!1,Xu=[],Oi=null,Di=null,Fi=null,Ic=new Map,Mc=new Map,wi=[],k4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lw(e,t){switch(e){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Ic.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(t.pointerId)}}function ql(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Su(t),t!==null&&$x(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function P4(e,t,n,r,s){switch(t){case"focusin":return Oi=ql(Oi,e,t,n,r,s),!0;case"dragenter":return Di=ql(Di,e,t,n,r,s),!0;case"mouseover":return Fi=ql(Fi,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Ic.set(a,ql(Ic.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Mc.set(a,ql(Mc.get(a)||null,e,t,n,r,s)),!0}return!1}function t_(e){var t=ja(e.target);if(t!==null){var n=io(t);if(n!==null){if(t=n.tag,t===13){if(t=BC(n),t!==null){e.blockedOn=t,e_(e.priority,function(){XC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zp=r,n.target.dispatchEvent(r),zp=null}else return t=Su(n),t!==null&&$x(t),e.blockedOn=n,!1;t.shift()}return!0}function cw(e,t,n){kd(e)&&n.delete(t)}function E4(){Hp=!1,Oi!==null&&kd(Oi)&&(Oi=null),Di!==null&&kd(Di)&&(Di=null),Fi!==null&&kd(Fi)&&(Fi=null),Ic.forEach(cw),Mc.forEach(cw)}function Kl(e,t){e.blockedOn===t&&(e.blockedOn=null,Hp||(Hp=!0,_r.unstable_scheduleCallback(_r.unstable_NormalPriority,E4)))}function Oc(e){function t(s){return Kl(s,e)}if(0<Xu.length){Kl(Xu[0],e);for(var n=1;n<Xu.length;n++){var r=Xu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Oi!==null&&Kl(Oi,e),Di!==null&&Kl(Di,e),Fi!==null&&Kl(Fi,e),Ic.forEach(t),Mc.forEach(t),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)t_(n),n.blockedOn===null&&wi.shift()}var Wo=ai.ReactCurrentBatchConfig,nf=!0;function T4(e,t,n,r){var s=mt,a=Wo.transition;Wo.transition=null;try{mt=1,zx(e,t,n,r)}finally{mt=s,Wo.transition=a}}function R4(e,t,n,r){var s=mt,a=Wo.transition;Wo.transition=null;try{mt=4,zx(e,t,n,r)}finally{mt=s,Wo.transition=a}}function zx(e,t,n,r){if(nf){var s=qp(e,t,n,r);if(s===null)Rm(e,t,r,rf,n),lw(e,r);else if(P4(s,e,t,n,r))r.stopPropagation();else if(lw(e,r),t&4&&-1<k4.indexOf(e)){for(;s!==null;){var a=Su(s);if(a!==null&&ZC(a),a=qp(e,t,n,r),a===null&&Rm(e,t,r,rf,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Rm(e,t,r,null,n)}}var rf=null;function qp(e,t,n,r){if(rf=null,e=Dx(r),e=ja(e),e!==null)if(t=io(e),t===null)e=null;else if(n=t.tag,n===13){if(e=BC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rf=e,null}function n_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v4()){case Fx:return 1;case KC:return 4;case ef:case y4:return 16;case QC:return 536870912;default:return 16}default:return 16}}var Ri=null,Ux=null,Pd=null;function r_(){if(Pd)return Pd;var e,t=Ux,n=t.length,r,s="value"in Ri?Ri.value:Ri.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return Pd=s.slice(e,1<r?1-r:void 0)}function Ed(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ju(){return!0}function uw(){return!1}function Pr(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ju:uw,this.isPropagationStopped=uw,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),t}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vx=Pr(Tl),Nu=Dt({},Tl,{view:0,detail:0}),A4=Pr(Nu),jm,Nm,Ql,ih=Dt({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ql&&(Ql&&e.type==="mousemove"?(jm=e.screenX-Ql.screenX,Nm=e.screenY-Ql.screenY):Nm=jm=0,Ql=e),jm)},movementY:function(e){return"movementY"in e?e.movementY:Nm}}),dw=Pr(ih),I4=Dt({},ih,{dataTransfer:0}),M4=Pr(I4),O4=Dt({},Nu,{relatedTarget:0}),Sm=Pr(O4),D4=Dt({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),F4=Pr(D4),L4=Dt({},Tl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$4=Pr(L4),z4=Dt({},Tl,{data:0}),fw=Pr(z4),U4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=B4[e])?!!t[e]:!1}function Bx(){return W4}var H4=Dt({},Nu,{key:function(e){if(e.key){var t=U4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ed(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bx,charCode:function(e){return e.type==="keypress"?Ed(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ed(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q4=Pr(H4),K4=Dt({},ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hw=Pr(K4),Q4=Dt({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bx}),G4=Pr(Q4),Y4=Dt({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z4=Pr(Y4),X4=Dt({},ih,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J4=Pr(X4),eD=[9,13,27,32],Wx=Xs&&"CompositionEvent"in window,pc=null;Xs&&"documentMode"in document&&(pc=document.documentMode);var tD=Xs&&"TextEvent"in window&&!pc,s_=Xs&&(!Wx||pc&&8<pc&&11>=pc),mw=" ",pw=!1;function i_(e,t){switch(e){case"keyup":return eD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Po=!1;function nD(e,t){switch(e){case"compositionend":return a_(t);case"keypress":return t.which!==32?null:(pw=!0,mw);case"textInput":return e=t.data,e===mw&&pw?null:e;default:return null}}function rD(e,t){if(Po)return e==="compositionend"||!Wx&&i_(e,t)?(e=r_(),Pd=Ux=Ri=null,Po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return s_&&t.locale!=="ko"?null:t.data;default:return null}}var sD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sD[e.type]:t==="textarea"}function o_(e,t,n,r){LC(r),t=sf(t,"onChange"),0<t.length&&(n=new Vx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gc=null,Dc=null;function iD(e){v_(e,0)}function ah(e){var t=Ro(e);if(RC(t))return e}function aD(e,t){if(e==="change")return t}var l_=!1;if(Xs){var Cm;if(Xs){var _m="oninput"in document;if(!_m){var xw=document.createElement("div");xw.setAttribute("oninput","return;"),_m=typeof xw.oninput=="function"}Cm=_m}else Cm=!1;l_=Cm&&(!document.documentMode||9<document.documentMode)}function vw(){gc&&(gc.detachEvent("onpropertychange",c_),Dc=gc=null)}function c_(e){if(e.propertyName==="value"&&ah(Dc)){var t=[];o_(t,Dc,e,Dx(e)),VC(iD,t)}}function oD(e,t,n){e==="focusin"?(vw(),gc=t,Dc=n,gc.attachEvent("onpropertychange",c_)):e==="focusout"&&vw()}function lD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ah(Dc)}function cD(e,t){if(e==="click")return ah(t)}function uD(e,t){if(e==="input"||e==="change")return ah(t)}function dD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var as=typeof Object.is=="function"?Object.is:dD;function Fc(e,t){if(as(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Pp.call(t,s)||!as(e[s],t[s]))return!1}return!0}function yw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ww(e,t){var n=yw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yw(n)}}function u_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?u_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function d_(){for(var e=window,t=Zd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zd(e.document)}return t}function Hx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fD(e){var t=d_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&u_(n.ownerDocument.documentElement,n)){if(r!==null&&Hx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=ww(n,a);var o=ww(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hD=Xs&&"documentMode"in document&&11>=document.documentMode,Eo=null,Kp=null,xc=null,Qp=!1;function bw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qp||Eo==null||Eo!==Zd(r)||(r=Eo,"selectionStart"in r&&Hx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xc&&Fc(xc,r)||(xc=r,r=sf(Kp,"onSelect"),0<r.length&&(t=new Vx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Eo)))}function ed(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var To={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},km={},f_={};Xs&&(f_=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function oh(e){if(km[e])return km[e];if(!To[e])return e;var t=To[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in f_)return km[e]=t[n];return e}var h_=oh("animationend"),m_=oh("animationiteration"),p_=oh("animationstart"),g_=oh("transitionend"),x_=new Map,jw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ta(e,t){x_.set(e,t),so(t,[e])}for(var Pm=0;Pm<jw.length;Pm++){var Em=jw[Pm],mD=Em.toLowerCase(),pD=Em[0].toUpperCase()+Em.slice(1);ta(mD,"on"+pD)}ta(h_,"onAnimationEnd");ta(m_,"onAnimationIteration");ta(p_,"onAnimationStart");ta("dblclick","onDoubleClick");ta("focusin","onFocus");ta("focusout","onBlur");ta(g_,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function Nw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,m4(r,t,void 0,e),e.currentTarget=null}function v_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Nw(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Nw(s,l,u),a=c}}}if(Jd)throw e=Bp,Jd=!1,Bp=null,e}function Ct(e,t){var n=t[Jp];n===void 0&&(n=t[Jp]=new Set);var r=e+"__bubble";n.has(r)||(y_(t,e,2,!1),n.add(r))}function Tm(e,t,n){var r=0;t&&(r|=4),y_(n,e,r,t)}var td="_reactListening"+Math.random().toString(36).slice(2);function Lc(e){if(!e[td]){e[td]=!0,_C.forEach(function(n){n!=="selectionchange"&&(gD.has(n)||Tm(n,!1,e),Tm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[td]||(t[td]=!0,Tm("selectionchange",!1,t))}}function y_(e,t,n,r){switch(n_(t)){case 1:var s=T4;break;case 4:s=R4;break;default:s=zx}n=s.bind(null,t,n,e),s=void 0,!Vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Rm(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ja(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}VC(function(){var u=a,d=Dx(n),f=[];e:{var h=x_.get(e);if(h!==void 0){var v=Vx,y=e;switch(e){case"keypress":if(Ed(n)===0)break e;case"keydown":case"keyup":v=q4;break;case"focusin":y="focus",v=Sm;break;case"focusout":y="blur",v=Sm;break;case"beforeblur":case"afterblur":v=Sm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=M4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=G4;break;case h_:case m_:case p_:v=F4;break;case g_:v=Z4;break;case"scroll":v=A4;break;case"wheel":v=J4;break;case"copy":case"cut":case"paste":v=$4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=hw}var x=(t&4)!==0,b=!x&&e==="scroll",w=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,p;g!==null;){p=g;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,w!==null&&(j=Ac(g,w),j!=null&&x.push($c(g,j,p)))),b)break;g=g.return}0<x.length&&(h=new v(h,y,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==zp&&(y=n.relatedTarget||n.fromElement)&&(ja(y)||y[Js]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?ja(y):null,y!==null&&(b=io(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(x=dw,j="onMouseLeave",w="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=hw,j="onPointerLeave",w="onPointerEnter",g="pointer"),b=v==null?h:Ro(v),p=y==null?h:Ro(y),h=new x(j,g+"leave",v,n,d),h.target=b,h.relatedTarget=p,j=null,ja(d)===u&&(x=new x(w,g+"enter",y,n,d),x.target=p,x.relatedTarget=b,j=x),b=j,v&&y)t:{for(x=v,w=y,g=0,p=x;p;p=po(p))g++;for(p=0,j=w;j;j=po(j))p++;for(;0<g-p;)x=po(x),g--;for(;0<p-g;)w=po(w),p--;for(;g--;){if(x===w||w!==null&&x===w.alternate)break t;x=po(x),w=po(w)}x=null}else x=null;v!==null&&Sw(f,h,v,x,!1),y!==null&&b!==null&&Sw(f,b,y,x,!0)}}e:{if(h=u?Ro(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var N=aD;else if(gw(h))if(l_)N=uD;else{N=lD;var _=oD}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=cD);if(N&&(N=N(e,u))){o_(f,N,n,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Op(h,"number",h.value)}switch(_=u?Ro(u):window,e){case"focusin":(gw(_)||_.contentEditable==="true")&&(Eo=_,Kp=u,xc=null);break;case"focusout":xc=Kp=Eo=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,bw(f,n,d);break;case"selectionchange":if(hD)break;case"keydown":case"keyup":bw(f,n,d)}var P;if(Wx)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Po?i_(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(s_&&n.locale!=="ko"&&(Po||C!=="onCompositionStart"?C==="onCompositionEnd"&&Po&&(P=r_()):(Ri=d,Ux="value"in Ri?Ri.value:Ri.textContent,Po=!0)),_=sf(u,C),0<_.length&&(C=new fw(C,e,null,n,d),f.push({event:C,listeners:_}),P?C.data=P:(P=a_(n),P!==null&&(C.data=P)))),(P=tD?nD(e,n):rD(e,n))&&(u=sf(u,"onBeforeInput"),0<u.length&&(d=new fw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}v_(f,t)})}function $c(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sf(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ac(e,n),a!=null&&r.unshift($c(e,a,s)),a=Ac(e,t),a!=null&&r.push($c(e,a,s))),e=e.return}return r}function po(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sw(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ac(n,a),c!=null&&o.unshift($c(n,c,l))):s||(c=Ac(n,a),c!=null&&o.push($c(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var xD=/\r\n?/g,vD=/\u0000|\uFFFD/g;function Cw(e){return(typeof e=="string"?e:""+e).replace(xD,`
`).replace(vD,"")}function nd(e,t,n){if(t=Cw(t),Cw(e)!==t&&n)throw Error(X(425))}function af(){}var Gp=null,Yp=null;function Zp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,yD=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,wD=typeof queueMicrotask=="function"?queueMicrotask:typeof _w<"u"?function(e){return _w.resolve(null).then(e).catch(bD)}:Xp;function bD(e){setTimeout(function(){throw e})}function Am(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Oc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oc(t)}function Li(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),ys="__reactFiber$"+Rl,zc="__reactProps$"+Rl,Js="__reactContainer$"+Rl,Jp="__reactEvents$"+Rl,jD="__reactListeners$"+Rl,ND="__reactHandles$"+Rl;function ja(e){var t=e[ys];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Js]||n[ys]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kw(e);e!==null;){if(n=e[ys])return n;e=kw(e)}return t}e=n,n=e.parentNode}return null}function Su(e){return e=e[ys]||e[Js],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ro(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function lh(e){return e[zc]||null}var eg=[],Ao=-1;function na(e){return{current:e}}function _t(e){0>Ao||(e.current=eg[Ao],eg[Ao]=null,Ao--)}function Nt(e,t){Ao++,eg[Ao]=e.current,e.current=t}var Ki={},An=na(Ki),or=na(!1),za=Ki;function pl(e,t){var n=e.type.contextTypes;if(!n)return Ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lr(e){return e=e.childContextTypes,e!=null}function of(){_t(or),_t(An)}function Pw(e,t,n){if(An.current!==Ki)throw Error(X(168));Nt(An,t),Nt(or,n)}function w_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(X(108,o4(e)||"Unknown",s));return Dt({},n,r)}function lf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ki,za=An.current,Nt(An,e),Nt(or,or.current),!0}function Ew(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=w_(e,t,za),r.__reactInternalMemoizedMergedChildContext=e,_t(or),_t(An),Nt(An,e)):_t(or),Nt(or,n)}var zs=null,ch=!1,Im=!1;function b_(e){zs===null?zs=[e]:zs.push(e)}function SD(e){ch=!0,b_(e)}function ra(){if(!Im&&zs!==null){Im=!0;var e=0,t=mt;try{var n=zs;for(mt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zs=null,ch=!1}catch(s){throw zs!==null&&(zs=zs.slice(e+1)),qC(Fx,ra),s}finally{mt=t,Im=!1}}return null}var Io=[],Mo=0,cf=null,uf=0,Ir=[],Mr=0,Ua=null,Ks=1,Qs="";function pa(e,t){Io[Mo++]=uf,Io[Mo++]=cf,cf=e,uf=t}function j_(e,t,n){Ir[Mr++]=Ks,Ir[Mr++]=Qs,Ir[Mr++]=Ua,Ua=e;var r=Ks;e=Qs;var s=32-ts(r)-1;r&=~(1<<s),n+=1;var a=32-ts(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ks=1<<32-ts(t)+s|n<<s|r,Qs=a+e}else Ks=1<<a|n<<s|r,Qs=e}function qx(e){e.return!==null&&(pa(e,1),j_(e,1,0))}function Kx(e){for(;e===cf;)cf=Io[--Mo],Io[Mo]=null,uf=Io[--Mo],Io[Mo]=null;for(;e===Ua;)Ua=Ir[--Mr],Ir[Mr]=null,Qs=Ir[--Mr],Ir[Mr]=null,Ks=Ir[--Mr],Ir[Mr]=null}var Nr=null,jr=null,Et=!1,Yr=null;function N_(e,t){var n=Dr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nr=e,jr=Li(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nr=e,jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ua!==null?{id:Ks,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nr=e,jr=null,!0):!1;default:return!1}}function tg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ng(e){if(Et){var t=jr;if(t){var n=t;if(!Tw(e,t)){if(tg(e))throw Error(X(418));t=Li(n.nextSibling);var r=Nr;t&&Tw(e,t)?N_(r,n):(e.flags=e.flags&-4097|2,Et=!1,Nr=e)}}else{if(tg(e))throw Error(X(418));e.flags=e.flags&-4097|2,Et=!1,Nr=e}}}function Rw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nr=e}function rd(e){if(e!==Nr)return!1;if(!Et)return Rw(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zp(e.type,e.memoizedProps)),t&&(t=jr)){if(tg(e))throw S_(),Error(X(418));for(;t;)N_(e,t),t=Li(t.nextSibling)}if(Rw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jr=Li(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jr=null}}else jr=Nr?Li(e.stateNode.nextSibling):null;return!0}function S_(){for(var e=jr;e;)e=Li(e.nextSibling)}function gl(){jr=Nr=null,Et=!1}function Qx(e){Yr===null?Yr=[e]:Yr.push(e)}var CD=ai.ReactCurrentBatchConfig;function Gl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function sd(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Aw(e){var t=e._init;return t(e._payload)}function C_(e){function t(w,g){if(e){var p=w.deletions;p===null?(w.deletions=[g],w.flags|=16):p.push(g)}}function n(w,g){if(!e)return null;for(;g!==null;)t(w,g),g=g.sibling;return null}function r(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function s(w,g){return w=Vi(w,g),w.index=0,w.sibling=null,w}function a(w,g,p){return w.index=p,e?(p=w.alternate,p!==null?(p=p.index,p<g?(w.flags|=2,g):p):(w.flags|=2,g)):(w.flags|=1048576,g)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,g,p,j){return g===null||g.tag!==6?(g=zm(p,w.mode,j),g.return=w,g):(g=s(g,p),g.return=w,g)}function c(w,g,p,j){var N=p.type;return N===ko?d(w,g,p.props.children,j,p.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===gi&&Aw(N)===g.type)?(j=s(g,p.props),j.ref=Gl(w,g,p),j.return=w,j):(j=Dd(p.type,p.key,p.props,null,w.mode,j),j.ref=Gl(w,g,p),j.return=w,j)}function u(w,g,p,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=Um(p,w.mode,j),g.return=w,g):(g=s(g,p.children||[]),g.return=w,g)}function d(w,g,p,j,N){return g===null||g.tag!==7?(g=Fa(p,w.mode,j,N),g.return=w,g):(g=s(g,p),g.return=w,g)}function f(w,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=zm(""+g,w.mode,p),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ku:return p=Dd(g.type,g.key,g.props,null,w.mode,p),p.ref=Gl(w,null,g),p.return=w,p;case _o:return g=Um(g,w.mode,p),g.return=w,g;case gi:var j=g._init;return f(w,j(g._payload),p)}if(sc(g)||Wl(g))return g=Fa(g,w.mode,p,null),g.return=w,g;sd(w,g)}return null}function h(w,g,p,j){var N=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:l(w,g,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ku:return p.key===N?c(w,g,p,j):null;case _o:return p.key===N?u(w,g,p,j):null;case gi:return N=p._init,h(w,g,N(p._payload),j)}if(sc(p)||Wl(p))return N!==null?null:d(w,g,p,j,null);sd(w,p)}return null}function v(w,g,p,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(p)||null,l(g,w,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ku:return w=w.get(j.key===null?p:j.key)||null,c(g,w,j,N);case _o:return w=w.get(j.key===null?p:j.key)||null,u(g,w,j,N);case gi:var _=j._init;return v(w,g,p,_(j._payload),N)}if(sc(j)||Wl(j))return w=w.get(p)||null,d(g,w,j,N,null);sd(g,j)}return null}function y(w,g,p,j){for(var N=null,_=null,P=g,C=g=0,L=null;P!==null&&C<p.length;C++){P.index>C?(L=P,P=null):L=P.sibling;var k=h(w,P,p[C],j);if(k===null){P===null&&(P=L);break}e&&P&&k.alternate===null&&t(w,P),g=a(k,g,C),_===null?N=k:_.sibling=k,_=k,P=L}if(C===p.length)return n(w,P),Et&&pa(w,C),N;if(P===null){for(;C<p.length;C++)P=f(w,p[C],j),P!==null&&(g=a(P,g,C),_===null?N=P:_.sibling=P,_=P);return Et&&pa(w,C),N}for(P=r(w,P);C<p.length;C++)L=v(P,w,C,p[C],j),L!==null&&(e&&L.alternate!==null&&P.delete(L.key===null?C:L.key),g=a(L,g,C),_===null?N=L:_.sibling=L,_=L);return e&&P.forEach(function(A){return t(w,A)}),Et&&pa(w,C),N}function x(w,g,p,j){var N=Wl(p);if(typeof N!="function")throw Error(X(150));if(p=N.call(p),p==null)throw Error(X(151));for(var _=N=null,P=g,C=g=0,L=null,k=p.next();P!==null&&!k.done;C++,k=p.next()){P.index>C?(L=P,P=null):L=P.sibling;var A=h(w,P,k.value,j);if(A===null){P===null&&(P=L);break}e&&P&&A.alternate===null&&t(w,P),g=a(A,g,C),_===null?N=A:_.sibling=A,_=A,P=L}if(k.done)return n(w,P),Et&&pa(w,C),N;if(P===null){for(;!k.done;C++,k=p.next())k=f(w,k.value,j),k!==null&&(g=a(k,g,C),_===null?N=k:_.sibling=k,_=k);return Et&&pa(w,C),N}for(P=r(w,P);!k.done;C++,k=p.next())k=v(P,w,C,k.value,j),k!==null&&(e&&k.alternate!==null&&P.delete(k.key===null?C:k.key),g=a(k,g,C),_===null?N=k:_.sibling=k,_=k);return e&&P.forEach(function(E){return t(w,E)}),Et&&pa(w,C),N}function b(w,g,p,j){if(typeof p=="object"&&p!==null&&p.type===ko&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ku:e:{for(var N=p.key,_=g;_!==null;){if(_.key===N){if(N=p.type,N===ko){if(_.tag===7){n(w,_.sibling),g=s(_,p.props.children),g.return=w,w=g;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===gi&&Aw(N)===_.type){n(w,_.sibling),g=s(_,p.props),g.ref=Gl(w,_,p),g.return=w,w=g;break e}n(w,_);break}else t(w,_);_=_.sibling}p.type===ko?(g=Fa(p.props.children,w.mode,j,p.key),g.return=w,w=g):(j=Dd(p.type,p.key,p.props,null,w.mode,j),j.ref=Gl(w,g,p),j.return=w,w=j)}return o(w);case _o:e:{for(_=p.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(w,g.sibling),g=s(g,p.children||[]),g.return=w,w=g;break e}else{n(w,g);break}else t(w,g);g=g.sibling}g=Um(p,w.mode,j),g.return=w,w=g}return o(w);case gi:return _=p._init,b(w,g,_(p._payload),j)}if(sc(p))return y(w,g,p,j);if(Wl(p))return x(w,g,p,j);sd(w,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(w,g.sibling),g=s(g,p),g.return=w,w=g):(n(w,g),g=zm(p,w.mode,j),g.return=w,w=g),o(w)):n(w,g)}return b}var xl=C_(!0),__=C_(!1),df=na(null),ff=null,Oo=null,Gx=null;function Yx(){Gx=Oo=ff=null}function Zx(e){var t=df.current;_t(df),e._currentValue=t}function rg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ho(e,t){ff=e,Gx=Oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ar=!0),e.firstContext=null)}function Ur(e){var t=e._currentValue;if(Gx!==e)if(e={context:e,memoizedValue:t,next:null},Oo===null){if(ff===null)throw Error(X(308));Oo=e,ff.dependencies={lanes:0,firstContext:e}}else Oo=Oo.next=e;return t}var Na=null;function Xx(e){Na===null?Na=[e]:Na.push(e)}function k_(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Xx(t)):(n.next=s.next,s.next=n),t.interleaved=n,ei(e,r)}function ei(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xi=!1;function Jx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,rt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ei(e,n)}return s=r.interleaved,s===null?(t.next=t,Xx(r)):(t.next=s.next,s.next=t),r.interleaved=t,ei(e,n)}function Td(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lx(e,n)}}function Iw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hf(e,t,n,r){var s=e.updateQueue;xi=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,v=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(h=t,v=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(v,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(v,f,h):y,h==null)break e;f=Dt({},f,h);break e;case 2:xi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ba|=o,e.lanes=o,e.memoizedState=f}}function Mw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Cu={},Ss=na(Cu),Uc=na(Cu),Vc=na(Cu);function Sa(e){if(e===Cu)throw Error(X(174));return e}function ev(e,t){switch(Nt(Vc,t),Nt(Uc,e),Nt(Ss,Cu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fp(t,e)}_t(Ss),Nt(Ss,t)}function vl(){_t(Ss),_t(Uc),_t(Vc)}function E_(e){Sa(Vc.current);var t=Sa(Ss.current),n=Fp(t,e.type);t!==n&&(Nt(Uc,e),Nt(Ss,n))}function tv(e){Uc.current===e&&(_t(Ss),_t(Uc))}var It=na(0);function mf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mm=[];function nv(){for(var e=0;e<Mm.length;e++)Mm[e]._workInProgressVersionPrimary=null;Mm.length=0}var Rd=ai.ReactCurrentDispatcher,Om=ai.ReactCurrentBatchConfig,Va=0,Ot=null,rn=null,fn=null,pf=!1,vc=!1,Bc=0,_D=0;function _n(){throw Error(X(321))}function rv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!as(e[n],t[n]))return!1;return!0}function sv(e,t,n,r,s,a){if(Va=a,Ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rd.current=e===null||e.memoizedState===null?TD:RD,e=n(r,s),vc){a=0;do{if(vc=!1,Bc=0,25<=a)throw Error(X(301));a+=1,fn=rn=null,t.updateQueue=null,Rd.current=AD,e=n(r,s)}while(vc)}if(Rd.current=gf,t=rn!==null&&rn.next!==null,Va=0,fn=rn=Ot=null,pf=!1,t)throw Error(X(300));return e}function iv(){var e=Bc!==0;return Bc=0,e}function ms(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ot.memoizedState=fn=e:fn=fn.next=e,fn}function Vr(){if(rn===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=rn.next;var t=fn===null?Ot.memoizedState:fn.next;if(t!==null)fn=t,rn=e;else{if(e===null)throw Error(X(310));rn=e,e={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},fn===null?Ot.memoizedState=fn=e:fn=fn.next=e}return fn}function Wc(e,t){return typeof t=="function"?t(e):t}function Dm(e){var t=Vr(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=rn,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Va&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Ot.lanes|=d,Ba|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,as(r,t.memoizedState)||(ar=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Ot.lanes|=a,Ba|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fm(e){var t=Vr(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);as(a,t.memoizedState)||(ar=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function T_(){}function R_(e,t){var n=Ot,r=Vr(),s=t(),a=!as(r.memoizedState,s);if(a&&(r.memoizedState=s,ar=!0),r=r.queue,av(M_.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||fn!==null&&fn.memoizedState.tag&1){if(n.flags|=2048,Hc(9,I_.bind(null,n,r,s,t),void 0,null),pn===null)throw Error(X(349));Va&30||A_(n,t,s)}return s}function A_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function I_(e,t,n,r){t.value=n,t.getSnapshot=r,O_(t)&&D_(e)}function M_(e,t,n){return n(function(){O_(t)&&D_(e)})}function O_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!as(e,n)}catch{return!0}}function D_(e){var t=ei(e,1);t!==null&&ns(t,e,1,-1)}function Ow(e){var t=ms();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:e},t.queue=e,e=e.dispatch=ED.bind(null,Ot,e),[t.memoizedState,e]}function Hc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function F_(){return Vr().memoizedState}function Ad(e,t,n,r){var s=ms();Ot.flags|=e,s.memoizedState=Hc(1|t,n,void 0,r===void 0?null:r)}function uh(e,t,n,r){var s=Vr();r=r===void 0?null:r;var a=void 0;if(rn!==null){var o=rn.memoizedState;if(a=o.destroy,r!==null&&rv(r,o.deps)){s.memoizedState=Hc(t,n,a,r);return}}Ot.flags|=e,s.memoizedState=Hc(1|t,n,a,r)}function Dw(e,t){return Ad(8390656,8,e,t)}function av(e,t){return uh(2048,8,e,t)}function L_(e,t){return uh(4,2,e,t)}function $_(e,t){return uh(4,4,e,t)}function z_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function U_(e,t,n){return n=n!=null?n.concat([e]):null,uh(4,4,z_.bind(null,t,e),n)}function ov(){}function V_(e,t){var n=Vr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function B_(e,t){var n=Vr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function W_(e,t,n){return Va&21?(as(n,t)||(n=GC(),Ot.lanes|=n,Ba|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ar=!0),e.memoizedState=n)}function kD(e,t){var n=mt;mt=n!==0&&4>n?n:4,e(!0);var r=Om.transition;Om.transition={};try{e(!1),t()}finally{mt=n,Om.transition=r}}function H_(){return Vr().memoizedState}function PD(e,t,n){var r=Ui(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},q_(e))K_(t,n);else if(n=k_(e,t,n,r),n!==null){var s=Hn();ns(n,e,r,s),Q_(n,t,r)}}function ED(e,t,n){var r=Ui(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(q_(e))K_(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,as(l,o)){var c=t.interleaved;c===null?(s.next=s,Xx(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=k_(e,t,s,r),n!==null&&(s=Hn(),ns(n,e,r,s),Q_(n,t,r))}}function q_(e){var t=e.alternate;return e===Ot||t!==null&&t===Ot}function K_(e,t){vc=pf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Q_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lx(e,n)}}var gf={readContext:Ur,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},TD={readContext:Ur,useCallback:function(e,t){return ms().memoizedState=[e,t===void 0?null:t],e},useContext:Ur,useEffect:Dw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ad(4194308,4,z_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ad(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ad(4,2,e,t)},useMemo:function(e,t){var n=ms();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ms();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=PD.bind(null,Ot,e),[r.memoizedState,e]},useRef:function(e){var t=ms();return e={current:e},t.memoizedState=e},useState:Ow,useDebugValue:ov,useDeferredValue:function(e){return ms().memoizedState=e},useTransition:function(){var e=Ow(!1),t=e[0];return e=kD.bind(null,e[1]),ms().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ot,s=ms();if(Et){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),pn===null)throw Error(X(349));Va&30||A_(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Dw(M_.bind(null,r,a,e),[e]),r.flags|=2048,Hc(9,I_.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ms(),t=pn.identifierPrefix;if(Et){var n=Qs,r=Ks;n=(r&~(1<<32-ts(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_D++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RD={readContext:Ur,useCallback:V_,useContext:Ur,useEffect:av,useImperativeHandle:U_,useInsertionEffect:L_,useLayoutEffect:$_,useMemo:B_,useReducer:Dm,useRef:F_,useState:function(){return Dm(Wc)},useDebugValue:ov,useDeferredValue:function(e){var t=Vr();return W_(t,rn.memoizedState,e)},useTransition:function(){var e=Dm(Wc)[0],t=Vr().memoizedState;return[e,t]},useMutableSource:T_,useSyncExternalStore:R_,useId:H_,unstable_isNewReconciler:!1},AD={readContext:Ur,useCallback:V_,useContext:Ur,useEffect:av,useImperativeHandle:U_,useInsertionEffect:L_,useLayoutEffect:$_,useMemo:B_,useReducer:Fm,useRef:F_,useState:function(){return Fm(Wc)},useDebugValue:ov,useDeferredValue:function(e){var t=Vr();return rn===null?t.memoizedState=e:W_(t,rn.memoizedState,e)},useTransition:function(){var e=Fm(Wc)[0],t=Vr().memoizedState;return[e,t]},useMutableSource:T_,useSyncExternalStore:R_,useId:H_,unstable_isNewReconciler:!1};function qr(e,t){if(e&&e.defaultProps){t=Dt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var dh={isMounted:function(e){return(e=e._reactInternals)?io(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hn(),s=Ui(e),a=Gs(r,s);a.payload=t,n!=null&&(a.callback=n),t=$i(e,a,s),t!==null&&(ns(t,e,s,r),Td(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hn(),s=Ui(e),a=Gs(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=$i(e,a,s),t!==null&&(ns(t,e,s,r),Td(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hn(),r=Ui(e),s=Gs(n,r);s.tag=2,t!=null&&(s.callback=t),t=$i(e,s,r),t!==null&&(ns(t,e,r,n),Td(t,e,r))}};function Fw(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Fc(n,r)||!Fc(s,a):!0}function G_(e,t,n){var r=!1,s=Ki,a=t.contextType;return typeof a=="object"&&a!==null?a=Ur(a):(s=lr(t)?za:An.current,r=t.contextTypes,a=(r=r!=null)?pl(e,s):Ki),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Lw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&dh.enqueueReplaceState(t,t.state,null)}function ig(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Jx(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ur(a):(a=lr(t)?za:An.current,s.context=pl(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(sg(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&dh.enqueueReplaceState(s,s.state,null),hf(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function yl(e,t){try{var n="",r=t;do n+=a4(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Lm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ag(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ID=typeof WeakMap=="function"?WeakMap:Map;function Y_(e,t,n){n=Gs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vf||(vf=!0,gg=r),ag(e,t)},n}function Z_(e,t,n){n=Gs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ag(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ag(e,t),typeof r!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function $w(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ID;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=KD.bind(null,e,t,n),t.then(e,e))}function zw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uw(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gs(-1,1),t.tag=2,$i(n,t,1))),n.lanes|=1),e)}var MD=ai.ReactCurrentOwner,ar=!1;function $n(e,t,n,r){t.child=e===null?__(t,null,n,r):xl(t,e.child,n,r)}function Vw(e,t,n,r,s){n=n.render;var a=t.ref;return Ho(t,s),r=sv(e,t,n,r,a,s),n=iv(),e!==null&&!ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ti(e,t,s)):(Et&&n&&qx(t),t.flags|=1,$n(e,t,r,s),t.child)}function Bw(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!pv(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,X_(e,t,a,r,s)):(e=Dd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Fc,n(o,r)&&e.ref===t.ref)return ti(e,t,s)}return t.flags|=1,e=Vi(a,r),e.ref=t.ref,e.return=t,t.child=e}function X_(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Fc(a,r)&&e.ref===t.ref)if(ar=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(ar=!0);else return t.lanes=e.lanes,ti(e,t,s)}return og(e,t,n,r,s)}function J_(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Fo,gr),gr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nt(Fo,gr),gr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Nt(Fo,gr),gr|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Nt(Fo,gr),gr|=r;return $n(e,t,s,n),t.child}function ek(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function og(e,t,n,r,s){var a=lr(n)?za:An.current;return a=pl(t,a),Ho(t,s),n=sv(e,t,n,r,a,s),r=iv(),e!==null&&!ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ti(e,t,s)):(Et&&r&&qx(t),t.flags|=1,$n(e,t,n,s),t.child)}function Ww(e,t,n,r,s){if(lr(n)){var a=!0;lf(t)}else a=!1;if(Ho(t,s),t.stateNode===null)Id(e,t),G_(t,n,r),ig(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ur(u):(u=lr(n)?za:An.current,u=pl(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Lw(t,o,r,u),xi=!1;var h=t.memoizedState;o.state=h,hf(t,r,o,s),c=t.memoizedState,l!==r||h!==c||or.current||xi?(typeof d=="function"&&(sg(t,n,d,r),c=t.memoizedState),(l=xi||Fw(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,P_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:qr(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ur(c):(c=lr(n)?za:An.current,c=pl(t,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Lw(t,o,r,c),xi=!1,h=t.memoizedState,o.state=h,hf(t,r,o,s);var y=t.memoizedState;l!==f||h!==y||or.current||xi?(typeof v=="function"&&(sg(t,n,v,r),y=t.memoizedState),(u=xi||Fw(t,n,u,r,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return lg(e,t,n,r,a,s)}function lg(e,t,n,r,s,a){ek(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ew(t,n,!1),ti(e,t,a);r=t.stateNode,MD.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=xl(t,e.child,null,a),t.child=xl(t,null,l,a)):$n(e,t,l,a),t.memoizedState=r.state,s&&Ew(t,n,!0),t.child}function tk(e){var t=e.stateNode;t.pendingContext?Pw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pw(e,t.context,!1),ev(e,t.containerInfo)}function Hw(e,t,n,r,s){return gl(),Qx(s),t.flags|=256,$n(e,t,n,r),t.child}var cg={dehydrated:null,treeContext:null,retryLane:0};function ug(e){return{baseLanes:e,cachePool:null,transitions:null}}function nk(e,t,n){var r=t.pendingProps,s=It.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Nt(It,s&1),e===null)return ng(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=mh(o,r,0,null),e=Fa(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ug(n),t.memoizedState=cg,e):lv(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return OD(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Vi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Vi(l,a):(a=Fa(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?ug(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=cg,r}return a=e.child,e=a.sibling,r=Vi(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function lv(e,t){return t=mh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function id(e,t,n,r){return r!==null&&Qx(r),xl(t,e.child,null,n),e=lv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OD(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Lm(Error(X(422))),id(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=mh({mode:"visible",children:r.children},s,0,null),a=Fa(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&xl(t,e.child,null,o),t.child.memoizedState=ug(o),t.memoizedState=cg,a);if(!(t.mode&1))return id(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(X(419)),r=Lm(a,r,void 0),id(e,t,o,r)}if(l=(o&e.childLanes)!==0,ar||l){if(r=pn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ei(e,s),ns(r,e,s,-1))}return mv(),r=Lm(Error(X(421))),id(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=QD.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,jr=Li(s.nextSibling),Nr=t,Et=!0,Yr=null,e!==null&&(Ir[Mr++]=Ks,Ir[Mr++]=Qs,Ir[Mr++]=Ua,Ks=e.id,Qs=e.overflow,Ua=t),t=lv(t,r.children),t.flags|=4096,t)}function qw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rg(e.return,t,n)}function $m(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function rk(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if($n(e,t,r.children,n),r=It.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qw(e,n,t);else if(e.tag===19)qw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Nt(It,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&mf(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),$m(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mf(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}$m(t,!0,n,null,a);break;case"together":$m(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Id(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ti(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ba|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=Vi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DD(e,t,n){switch(t.tag){case 3:tk(t),gl();break;case 5:E_(t);break;case 1:lr(t.type)&&lf(t);break;case 4:ev(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Nt(df,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Nt(It,It.current&1),t.flags|=128,null):n&t.child.childLanes?nk(e,t,n):(Nt(It,It.current&1),e=ti(e,t,n),e!==null?e.sibling:null);Nt(It,It.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rk(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Nt(It,It.current),r)break;return null;case 22:case 23:return t.lanes=0,J_(e,t,n)}return ti(e,t,n)}var sk,dg,ik,ak;sk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dg=function(){};ik=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Sa(Ss.current);var a=null;switch(n){case"input":s=Ip(e,s),r=Ip(e,r),a=[];break;case"select":s=Dt({},s,{value:void 0}),r=Dt({},r,{value:void 0}),a=[];break;case"textarea":s=Dp(e,s),r=Dp(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=af)}Lp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ct("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};ak=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yl(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function FD(e,t,n){var r=t.pendingProps;switch(Kx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(t),null;case 1:return lr(t.type)&&of(),kn(t),null;case 3:return r=t.stateNode,vl(),_t(or),_t(An),nv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(rd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yr!==null&&(yg(Yr),Yr=null))),dg(e,t),kn(t),null;case 5:tv(t);var s=Sa(Vc.current);if(n=t.type,e!==null&&t.stateNode!=null)ik(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return kn(t),null}if(e=Sa(Ss.current),rd(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ys]=t,r[zc]=a,e=(t.mode&1)!==0,n){case"dialog":Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":case"embed":Ct("load",r);break;case"video":case"audio":for(s=0;s<ac.length;s++)Ct(ac[s],r);break;case"source":Ct("error",r);break;case"img":case"image":case"link":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"input":tw(r,a),Ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ct("invalid",r);break;case"textarea":rw(r,a),Ct("invalid",r)}Lp(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&nd(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&nd(r.textContent,l,e),s=["children",""+l]):Tc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ct("scroll",r)}switch(n){case"input":Qu(r),nw(r,a,!0);break;case"textarea":Qu(r),sw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=af)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=MC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ys]=t,e[zc]=r,sk(e,t,!1,!1),t.stateNode=e;e:{switch(o=$p(n,r),n){case"dialog":Ct("cancel",e),Ct("close",e),s=r;break;case"iframe":case"object":case"embed":Ct("load",e),s=r;break;case"video":case"audio":for(s=0;s<ac.length;s++)Ct(ac[s],e);s=r;break;case"source":Ct("error",e),s=r;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),s=r;break;case"details":Ct("toggle",e),s=r;break;case"input":tw(e,r),s=Ip(e,r),Ct("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Dt({},r,{value:void 0}),Ct("invalid",e);break;case"textarea":rw(e,r),s=Dp(e,r),Ct("invalid",e);break;default:s=r}Lp(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?FC(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&OC(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Rc(e,c):typeof c=="number"&&Rc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Tc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ct("scroll",e):c!=null&&Ax(e,a,c,o))}switch(n){case"input":Qu(e),nw(e,r,!1);break;case"textarea":Qu(e),sw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qi(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Uo(e,!!r.multiple,a,!1):r.defaultValue!=null&&Uo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=af)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kn(t),null;case 6:if(e&&t.stateNode!=null)ak(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=Sa(Vc.current),Sa(Ss.current),rd(t)){if(r=t.stateNode,n=t.memoizedProps,r[ys]=t,(a=r.nodeValue!==n)&&(e=Nr,e!==null))switch(e.tag){case 3:nd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nd(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ys]=t,t.stateNode=r}return kn(t),null;case 13:if(_t(It),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&jr!==null&&t.mode&1&&!(t.flags&128))S_(),gl(),t.flags|=98560,a=!1;else if(a=rd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(X(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[ys]=t}else gl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kn(t),a=!1}else Yr!==null&&(yg(Yr),Yr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||It.current&1?cn===0&&(cn=3):mv())),t.updateQueue!==null&&(t.flags|=4),kn(t),null);case 4:return vl(),dg(e,t),e===null&&Lc(t.stateNode.containerInfo),kn(t),null;case 10:return Zx(t.type._context),kn(t),null;case 17:return lr(t.type)&&of(),kn(t),null;case 19:if(_t(It),a=t.memoizedState,a===null)return kn(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Yl(a,!1);else{if(cn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=mf(e),o!==null){for(t.flags|=128,Yl(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Nt(It,It.current&1|2),t.child}e=e.sibling}a.tail!==null&&Kt()>wl&&(t.flags|=128,r=!0,Yl(a,!1),t.lanes=4194304)}else{if(!r)if(e=mf(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Et)return kn(t),null}else 2*Kt()-a.renderingStartTime>wl&&n!==1073741824&&(t.flags|=128,r=!0,Yl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Kt(),t.sibling=null,n=It.current,Nt(It,r?n&1|2:n&1),t):(kn(t),null);case 22:case 23:return hv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gr&1073741824&&(kn(t),t.subtreeFlags&6&&(t.flags|=8192)):kn(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function LD(e,t){switch(Kx(t),t.tag){case 1:return lr(t.type)&&of(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vl(),_t(or),_t(An),nv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tv(t),null;case 13:if(_t(It),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));gl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(It),null;case 4:return vl(),null;case 10:return Zx(t.type._context),null;case 22:case 23:return hv(),null;case 24:return null;default:return null}}var ad=!1,Pn=!1,$D=typeof WeakSet=="function"?WeakSet:Set,we=null;function Do(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$t(e,t,r)}else n.current=null}function fg(e,t,n){try{n()}catch(r){$t(e,t,r)}}var Kw=!1;function zD(e,t){if(Gp=nf,e=d_(),Hx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===a&&++d===r&&(c=o),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yp={focusedElem:e,selectionRange:n},nf=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,w=t.stateNode,g=w.getSnapshotBeforeUpdate(t.elementType===t.type?x:qr(t.type,x),b);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(j){$t(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return y=Kw,Kw=!1,y}function yc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&fg(t,n,a)}s=s.next}while(s!==r)}}function fh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ok(e){var t=e.alternate;t!==null&&(e.alternate=null,ok(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ys],delete t[zc],delete t[Jp],delete t[jD],delete t[ND])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lk(e){return e.tag===5||e.tag===3||e.tag===4}function Qw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=af));else if(r!==4&&(e=e.child,e!==null))for(mg(e,t,n),e=e.sibling;e!==null;)mg(e,t,n),e=e.sibling}function pg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pg(e,t,n),e=e.sibling;e!==null;)pg(e,t,n),e=e.sibling}var vn=null,Gr=!1;function li(e,t,n){for(n=n.child;n!==null;)ck(e,t,n),n=n.sibling}function ck(e,t,n){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(sh,n)}catch{}switch(n.tag){case 5:Pn||Do(n,t);case 6:var r=vn,s=Gr;vn=null,li(e,t,n),vn=r,Gr=s,vn!==null&&(Gr?(e=vn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vn.removeChild(n.stateNode));break;case 18:vn!==null&&(Gr?(e=vn,n=n.stateNode,e.nodeType===8?Am(e.parentNode,n):e.nodeType===1&&Am(e,n),Oc(e)):Am(vn,n.stateNode));break;case 4:r=vn,s=Gr,vn=n.stateNode.containerInfo,Gr=!0,li(e,t,n),vn=r,Gr=s;break;case 0:case 11:case 14:case 15:if(!Pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&fg(n,t,o),s=s.next}while(s!==r)}li(e,t,n);break;case 1:if(!Pn&&(Do(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){$t(n,t,l)}li(e,t,n);break;case 21:li(e,t,n);break;case 22:n.mode&1?(Pn=(r=Pn)||n.memoizedState!==null,li(e,t,n),Pn=r):li(e,t,n);break;default:li(e,t,n)}}function Gw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $D),t.forEach(function(r){var s=GD.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:vn=l.stateNode,Gr=!1;break e;case 3:vn=l.stateNode.containerInfo,Gr=!0;break e;case 4:vn=l.stateNode.containerInfo,Gr=!0;break e}l=l.return}if(vn===null)throw Error(X(160));ck(a,o,s),vn=null,Gr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$t(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uk(t,e),t=t.sibling}function uk(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wr(t,e),hs(e),r&4){try{yc(3,e,e.return),fh(3,e)}catch(x){$t(e,e.return,x)}try{yc(5,e,e.return)}catch(x){$t(e,e.return,x)}}break;case 1:Wr(t,e),hs(e),r&512&&n!==null&&Do(n,n.return);break;case 5:if(Wr(t,e),hs(e),r&512&&n!==null&&Do(n,n.return),e.flags&32){var s=e.stateNode;try{Rc(s,"")}catch(x){$t(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&AC(s,a),$p(l,o);var u=$p(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?FC(s,f):d==="dangerouslySetInnerHTML"?OC(s,f):d==="children"?Rc(s,f):Ax(s,d,f,u)}switch(l){case"input":Mp(s,a);break;case"textarea":IC(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Uo(s,!!a.multiple,v,!1):h!==!!a.multiple&&(a.defaultValue!=null?Uo(s,!!a.multiple,a.defaultValue,!0):Uo(s,!!a.multiple,a.multiple?[]:"",!1))}s[zc]=a}catch(x){$t(e,e.return,x)}}break;case 6:if(Wr(t,e),hs(e),r&4){if(e.stateNode===null)throw Error(X(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){$t(e,e.return,x)}}break;case 3:if(Wr(t,e),hs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oc(t.containerInfo)}catch(x){$t(e,e.return,x)}break;case 4:Wr(t,e),hs(e);break;case 13:Wr(t,e),hs(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(dv=Kt())),r&4&&Gw(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Pn=(u=Pn)||d,Wr(t,e),Pn=u):Wr(t,e),hs(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(we=e,d=e.child;d!==null;){for(f=we=d;we!==null;){switch(h=we,v=h.child,h.tag){case 0:case 11:case 14:case 15:yc(4,h,h.return);break;case 1:Do(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){$t(r,n,x)}}break;case 5:Do(h,h.return);break;case 22:if(h.memoizedState!==null){Zw(f);continue}}v!==null?(v.return=h,we=v):Zw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=DC("display",o))}catch(x){$t(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){$t(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wr(t,e),hs(e),r&4&&Gw(e);break;case 21:break;default:Wr(t,e),hs(e)}}function hs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lk(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rc(s,""),r.flags&=-33);var a=Qw(e);pg(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Qw(e);mg(e,l,o);break;default:throw Error(X(161))}}catch(c){$t(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function UD(e,t,n){we=e,dk(e)}function dk(e,t,n){for(var r=(e.mode&1)!==0;we!==null;){var s=we,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ad;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Pn;l=ad;var u=Pn;if(ad=o,(Pn=c)&&!u)for(we=s;we!==null;)o=we,c=o.child,o.tag===22&&o.memoizedState!==null?Xw(s):c!==null?(c.return=o,we=c):Xw(s);for(;a!==null;)we=a,dk(a),a=a.sibling;we=s,ad=l,Pn=u}Yw(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,we=a):Yw(e)}}function Yw(e){for(;we!==null;){var t=we;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pn||fh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:qr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Mw(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mw(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Oc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Pn||t.flags&512&&hg(t)}catch(h){$t(t,t.return,h)}}if(t===e){we=null;break}if(n=t.sibling,n!==null){n.return=t.return,we=n;break}we=t.return}}function Zw(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var n=t.sibling;if(n!==null){n.return=t.return,we=n;break}we=t.return}}function Xw(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fh(4,t)}catch(c){$t(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){$t(t,s,c)}}var a=t.return;try{hg(t)}catch(c){$t(t,a,c)}break;case 5:var o=t.return;try{hg(t)}catch(c){$t(t,o,c)}}}catch(c){$t(t,t.return,c)}if(t===e){we=null;break}var l=t.sibling;if(l!==null){l.return=t.return,we=l;break}we=t.return}}var VD=Math.ceil,xf=ai.ReactCurrentDispatcher,cv=ai.ReactCurrentOwner,Fr=ai.ReactCurrentBatchConfig,rt=0,pn=null,Zt=null,jn=0,gr=0,Fo=na(0),cn=0,qc=null,Ba=0,hh=0,uv=0,wc=null,sr=null,dv=0,wl=1/0,$s=null,vf=!1,gg=null,zi=null,od=!1,Ai=null,yf=0,bc=0,xg=null,Md=-1,Od=0;function Hn(){return rt&6?Kt():Md!==-1?Md:Md=Kt()}function Ui(e){return e.mode&1?rt&2&&jn!==0?jn&-jn:CD.transition!==null?(Od===0&&(Od=GC()),Od):(e=mt,e!==0||(e=window.event,e=e===void 0?16:n_(e.type)),e):1}function ns(e,t,n,r){if(50<bc)throw bc=0,xg=null,Error(X(185));ju(e,n,r),(!(rt&2)||e!==pn)&&(e===pn&&(!(rt&2)&&(hh|=n),cn===4&&bi(e,jn)),cr(e,r),n===1&&rt===0&&!(t.mode&1)&&(wl=Kt()+500,ch&&ra()))}function cr(e,t){var n=e.callbackNode;C4(e,t);var r=tf(e,e===pn?jn:0);if(r===0)n!==null&&ow(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ow(n),t===1)e.tag===0?SD(Jw.bind(null,e)):b_(Jw.bind(null,e)),wD(function(){!(rt&6)&&ra()}),n=null;else{switch(YC(r)){case 1:n=Fx;break;case 4:n=KC;break;case 16:n=ef;break;case 536870912:n=QC;break;default:n=ef}n=yk(n,fk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fk(e,t){if(Md=-1,Od=0,rt&6)throw Error(X(327));var n=e.callbackNode;if(qo()&&e.callbackNode!==n)return null;var r=tf(e,e===pn?jn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wf(e,r);else{t=r;var s=rt;rt|=2;var a=mk();(pn!==e||jn!==t)&&($s=null,wl=Kt()+500,Da(e,t));do try{HD();break}catch(l){hk(e,l)}while(!0);Yx(),xf.current=a,rt=s,Zt!==null?t=0:(pn=null,jn=0,t=cn)}if(t!==0){if(t===2&&(s=Wp(e),s!==0&&(r=s,t=vg(e,s))),t===1)throw n=qc,Da(e,0),bi(e,r),cr(e,Kt()),n;if(t===6)bi(e,r);else{if(s=e.current.alternate,!(r&30)&&!BD(s)&&(t=wf(e,r),t===2&&(a=Wp(e),a!==0&&(r=a,t=vg(e,a))),t===1))throw n=qc,Da(e,0),bi(e,r),cr(e,Kt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:ga(e,sr,$s);break;case 3:if(bi(e,r),(r&130023424)===r&&(t=dv+500-Kt(),10<t)){if(tf(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Hn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Xp(ga.bind(null,e,sr,$s),t);break}ga(e,sr,$s);break;case 4:if(bi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ts(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=Kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VD(r/1960))-r,10<r){e.timeoutHandle=Xp(ga.bind(null,e,sr,$s),r);break}ga(e,sr,$s);break;case 5:ga(e,sr,$s);break;default:throw Error(X(329))}}}return cr(e,Kt()),e.callbackNode===n?fk.bind(null,e):null}function vg(e,t){var n=wc;return e.current.memoizedState.isDehydrated&&(Da(e,t).flags|=256),e=wf(e,t),e!==2&&(t=sr,sr=n,t!==null&&yg(t)),e}function yg(e){sr===null?sr=e:sr.push.apply(sr,e)}function BD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!as(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bi(e,t){for(t&=~uv,t&=~hh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ts(t),r=1<<n;e[n]=-1,t&=~r}}function Jw(e){if(rt&6)throw Error(X(327));qo();var t=tf(e,0);if(!(t&1))return cr(e,Kt()),null;var n=wf(e,t);if(e.tag!==0&&n===2){var r=Wp(e);r!==0&&(t=r,n=vg(e,r))}if(n===1)throw n=qc,Da(e,0),bi(e,t),cr(e,Kt()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ga(e,sr,$s),cr(e,Kt()),null}function fv(e,t){var n=rt;rt|=1;try{return e(t)}finally{rt=n,rt===0&&(wl=Kt()+500,ch&&ra())}}function Wa(e){Ai!==null&&Ai.tag===0&&!(rt&6)&&qo();var t=rt;rt|=1;var n=Fr.transition,r=mt;try{if(Fr.transition=null,mt=1,e)return e()}finally{mt=r,Fr.transition=n,rt=t,!(rt&6)&&ra()}}function hv(){gr=Fo.current,_t(Fo)}function Da(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yD(n)),Zt!==null)for(n=Zt.return;n!==null;){var r=n;switch(Kx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&of();break;case 3:vl(),_t(or),_t(An),nv();break;case 5:tv(r);break;case 4:vl();break;case 13:_t(It);break;case 19:_t(It);break;case 10:Zx(r.type._context);break;case 22:case 23:hv()}n=n.return}if(pn=e,Zt=e=Vi(e.current,null),jn=gr=t,cn=0,qc=null,uv=hh=Ba=0,sr=wc=null,Na!==null){for(t=0;t<Na.length;t++)if(n=Na[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}Na=null}return e}function hk(e,t){do{var n=Zt;try{if(Yx(),Rd.current=gf,pf){for(var r=Ot.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pf=!1}if(Va=0,fn=rn=Ot=null,vc=!1,Bc=0,cv.current=null,n===null||n.return===null){cn=1,qc=t,Zt=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=jn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=zw(o);if(v!==null){v.flags&=-257,Uw(v,o,l,a,t),v.mode&1&&$w(a,u,t),t=v,c=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){$w(a,u,t),mv();break e}c=Error(X(426))}}else if(Et&&l.mode&1){var b=zw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Uw(b,o,l,a,t),Qx(yl(c,l));break e}}a=c=yl(c,l),cn!==4&&(cn=2),wc===null?wc=[a]:wc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=Y_(a,c,t);Iw(a,w);break e;case 1:l=c;var g=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(zi===null||!zi.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Z_(a,l,t);Iw(a,j);break e}}a=a.return}while(a!==null)}gk(n)}catch(N){t=N,Zt===n&&n!==null&&(Zt=n=n.return);continue}break}while(!0)}function mk(){var e=xf.current;return xf.current=gf,e===null?gf:e}function mv(){(cn===0||cn===3||cn===2)&&(cn=4),pn===null||!(Ba&268435455)&&!(hh&268435455)||bi(pn,jn)}function wf(e,t){var n=rt;rt|=2;var r=mk();(pn!==e||jn!==t)&&($s=null,Da(e,t));do try{WD();break}catch(s){hk(e,s)}while(!0);if(Yx(),rt=n,xf.current=r,Zt!==null)throw Error(X(261));return pn=null,jn=0,cn}function WD(){for(;Zt!==null;)pk(Zt)}function HD(){for(;Zt!==null&&!g4();)pk(Zt)}function pk(e){var t=vk(e.alternate,e,gr);e.memoizedProps=e.pendingProps,t===null?gk(e):Zt=t,cv.current=null}function gk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=LD(n,t),n!==null){n.flags&=32767,Zt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{cn=6,Zt=null;return}}else if(n=FD(n,t,gr),n!==null){Zt=n;return}if(t=t.sibling,t!==null){Zt=t;return}Zt=t=e}while(t!==null);cn===0&&(cn=5)}function ga(e,t,n){var r=mt,s=Fr.transition;try{Fr.transition=null,mt=1,qD(e,t,n,r)}finally{Fr.transition=s,mt=r}return null}function qD(e,t,n,r){do qo();while(Ai!==null);if(rt&6)throw Error(X(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(_4(e,a),e===pn&&(Zt=pn=null,jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||od||(od=!0,yk(ef,function(){return qo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Fr.transition,Fr.transition=null;var o=mt;mt=1;var l=rt;rt|=4,cv.current=null,zD(e,n),uk(n,e),fD(Yp),nf=!!Gp,Yp=Gp=null,e.current=n,UD(n),x4(),rt=l,mt=o,Fr.transition=a}else e.current=n;if(od&&(od=!1,Ai=e,yf=s),a=e.pendingLanes,a===0&&(zi=null),w4(n.stateNode),cr(e,Kt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vf)throw vf=!1,e=gg,gg=null,e;return yf&1&&e.tag!==0&&qo(),a=e.pendingLanes,a&1?e===xg?bc++:(bc=0,xg=e):bc=0,ra(),null}function qo(){if(Ai!==null){var e=YC(yf),t=Fr.transition,n=mt;try{if(Fr.transition=null,mt=16>e?16:e,Ai===null)var r=!1;else{if(e=Ai,Ai=null,yf=0,rt&6)throw Error(X(331));var s=rt;for(rt|=4,we=e.current;we!==null;){var a=we,o=a.child;if(we.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:yc(8,d,a)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var h=d.sibling,v=d.return;if(ok(d),d===u){we=null;break}if(h!==null){h.return=v,we=h;break}we=v}}}var y=a.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}we=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,we=o;else e:for(;we!==null;){if(a=we,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yc(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,we=w;break e}we=a.return}}var g=e.current;for(we=g;we!==null;){o=we;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,we=p;else e:for(o=g;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fh(9,l)}}catch(N){$t(l,l.return,N)}if(l===o){we=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,we=j;break e}we=l.return}}if(rt=s,ra(),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(sh,e)}catch{}r=!0}return r}finally{mt=n,Fr.transition=t}}return!1}function e0(e,t,n){t=yl(n,t),t=Y_(e,t,1),e=$i(e,t,1),t=Hn(),e!==null&&(ju(e,1,t),cr(e,t))}function $t(e,t,n){if(e.tag===3)e0(e,e,n);else for(;t!==null;){if(t.tag===3){e0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zi===null||!zi.has(r))){e=yl(n,e),e=Z_(t,e,1),t=$i(t,e,1),e=Hn(),t!==null&&(ju(t,1,e),cr(t,e));break}}t=t.return}}function KD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Hn(),e.pingedLanes|=e.suspendedLanes&n,pn===e&&(jn&n)===n&&(cn===4||cn===3&&(jn&130023424)===jn&&500>Kt()-dv?Da(e,0):uv|=n),cr(e,t)}function xk(e,t){t===0&&(e.mode&1?(t=Zu,Zu<<=1,!(Zu&130023424)&&(Zu=4194304)):t=1);var n=Hn();e=ei(e,t),e!==null&&(ju(e,t,n),cr(e,n))}function QD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xk(e,n)}function GD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),xk(e,n)}var vk;vk=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||or.current)ar=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ar=!1,DD(e,t,n);ar=!!(e.flags&131072)}else ar=!1,Et&&t.flags&1048576&&j_(t,uf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Id(e,t),e=t.pendingProps;var s=pl(t,An.current);Ho(t,n),s=sv(null,t,r,e,s,n);var a=iv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lr(r)?(a=!0,lf(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jx(t),s.updater=dh,t.stateNode=s,s._reactInternals=t,ig(t,r,e,n),t=lg(null,t,r,!0,a,n)):(t.tag=0,Et&&a&&qx(t),$n(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Id(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ZD(r),e=qr(r,e),s){case 0:t=og(null,t,r,e,n);break e;case 1:t=Ww(null,t,r,e,n);break e;case 11:t=Vw(null,t,r,e,n);break e;case 14:t=Bw(null,t,r,qr(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qr(r,s),og(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qr(r,s),Ww(e,t,r,s,n);case 3:e:{if(tk(t),e===null)throw Error(X(387));r=t.pendingProps,a=t.memoizedState,s=a.element,P_(e,t),hf(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=yl(Error(X(423)),t),t=Hw(e,t,r,n,s);break e}else if(r!==s){s=yl(Error(X(424)),t),t=Hw(e,t,r,n,s);break e}else for(jr=Li(t.stateNode.containerInfo.firstChild),Nr=t,Et=!0,Yr=null,n=__(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gl(),r===s){t=ti(e,t,n);break e}$n(e,t,r,n)}t=t.child}return t;case 5:return E_(t),e===null&&ng(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Zp(r,s)?o=null:a!==null&&Zp(r,a)&&(t.flags|=32),ek(e,t),$n(e,t,o,n),t.child;case 6:return e===null&&ng(t),null;case 13:return nk(e,t,n);case 4:return ev(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xl(t,null,r,n):$n(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qr(r,s),Vw(e,t,r,s,n);case 7:return $n(e,t,t.pendingProps,n),t.child;case 8:return $n(e,t,t.pendingProps.children,n),t.child;case 12:return $n(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Nt(df,r._currentValue),r._currentValue=o,a!==null)if(as(a.value,o)){if(a.children===s.children&&!or.current){t=ti(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Gs(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),rg(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(X(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),rg(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}$n(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ho(t,n),s=Ur(s),r=r(s),t.flags|=1,$n(e,t,r,n),t.child;case 14:return r=t.type,s=qr(r,t.pendingProps),s=qr(r.type,s),Bw(e,t,r,s,n);case 15:return X_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qr(r,s),Id(e,t),t.tag=1,lr(r)?(e=!0,lf(t)):e=!1,Ho(t,n),G_(t,r,s),ig(t,r,s,n),lg(null,t,r,!0,e,n);case 19:return rk(e,t,n);case 22:return J_(e,t,n)}throw Error(X(156,t.tag))};function yk(e,t){return qC(e,t)}function YD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,n,r){return new YD(e,t,n,r)}function pv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZD(e){if(typeof e=="function")return pv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mx)return 11;if(e===Ox)return 14}return 2}function Vi(e,t){var n=e.alternate;return n===null?(n=Dr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dd(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")pv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ko:return Fa(n.children,s,a,t);case Ix:o=8,s|=8;break;case Ep:return e=Dr(12,n,t,s|2),e.elementType=Ep,e.lanes=a,e;case Tp:return e=Dr(13,n,t,s),e.elementType=Tp,e.lanes=a,e;case Rp:return e=Dr(19,n,t,s),e.elementType=Rp,e.lanes=a,e;case EC:return mh(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kC:o=10;break e;case PC:o=9;break e;case Mx:o=11;break e;case Ox:o=14;break e;case gi:o=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Dr(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Fa(e,t,n,r){return e=Dr(7,e,r,t),e.lanes=n,e}function mh(e,t,n,r){return e=Dr(22,e,r,t),e.elementType=EC,e.lanes=n,e.stateNode={isHidden:!1},e}function zm(e,t,n){return e=Dr(6,e,null,t),e.lanes=n,e}function Um(e,t,n){return t=Dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XD(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bm(0),this.expirationTimes=bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gv(e,t,n,r,s,a,o,l,c){return e=new XD(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Dr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jx(a),e}function JD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_o,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wk(e){if(!e)return Ki;e=e._reactInternals;e:{if(io(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(lr(n))return w_(e,n,t)}return t}function bk(e,t,n,r,s,a,o,l,c){return e=gv(n,r,!0,e,s,a,o,l,c),e.context=wk(null),n=e.current,r=Hn(),s=Ui(n),a=Gs(r,s),a.callback=t??null,$i(n,a,s),e.current.lanes=s,ju(e,s,r),cr(e,r),e}function ph(e,t,n,r){var s=t.current,a=Hn(),o=Ui(s);return n=wk(n),t.context===null?t.context=n:t.pendingContext=n,t=Gs(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$i(s,t,o),e!==null&&(ns(e,s,o,a),Td(e,s,o)),o}function bf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function t0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xv(e,t){t0(e,t),(e=e.alternate)&&t0(e,t)}function eF(){return null}var jk=typeof reportError=="function"?reportError:function(e){console.error(e)};function vv(e){this._internalRoot=e}gh.prototype.render=vv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));ph(e,t,null,null)};gh.prototype.unmount=vv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wa(function(){ph(null,e,null,null)}),t[Js]=null}};function gh(e){this._internalRoot=e}gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=JC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wi.length&&t!==0&&t<wi[n].priority;n++);wi.splice(n,0,e),n===0&&t_(e)}};function yv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function n0(){}function tF(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=bf(o);a.call(u)}}var o=bk(t,r,e,0,null,!1,!1,"",n0);return e._reactRootContainer=o,e[Js]=o.current,Lc(e.nodeType===8?e.parentNode:e),Wa(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=bf(c);l.call(u)}}var c=gv(e,0,!1,null,null,!1,!1,"",n0);return e._reactRootContainer=c,e[Js]=c.current,Lc(e.nodeType===8?e.parentNode:e),Wa(function(){ph(t,c,n,r)}),c}function vh(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=bf(o);l.call(c)}}ph(t,o,e,s)}else o=tF(n,t,e,s,r);return bf(o)}ZC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ic(t.pendingLanes);n!==0&&(Lx(t,n|1),cr(t,Kt()),!(rt&6)&&(wl=Kt()+500,ra()))}break;case 13:Wa(function(){var r=ei(e,1);if(r!==null){var s=Hn();ns(r,e,1,s)}}),xv(e,1)}};$x=function(e){if(e.tag===13){var t=ei(e,134217728);if(t!==null){var n=Hn();ns(t,e,134217728,n)}xv(e,134217728)}};XC=function(e){if(e.tag===13){var t=Ui(e),n=ei(e,t);if(n!==null){var r=Hn();ns(n,e,t,r)}xv(e,t)}};JC=function(){return mt};e_=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}};Up=function(e,t,n){switch(t){case"input":if(Mp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=lh(r);if(!s)throw Error(X(90));RC(r),Mp(r,s)}}}break;case"textarea":IC(e,n);break;case"select":t=n.value,t!=null&&Uo(e,!!n.multiple,t,!1)}};zC=fv;UC=Wa;var nF={usingClientEntryPoint:!1,Events:[Su,Ro,lh,LC,$C,fv]},Zl={findFiberByHostInstance:ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rF={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WC(e),e===null?null:e.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||eF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{sh=ld.inject(rF),Ns=ld}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nF;kr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yv(t))throw Error(X(200));return JD(e,t,null,n)};kr.createRoot=function(e,t){if(!yv(e))throw Error(X(299));var n=!1,r="",s=jk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gv(e,1,!1,null,null,n,!1,r,s),e[Js]=t.current,Lc(e.nodeType===8?e.parentNode:e),new vv(t)};kr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=WC(t),e=e===null?null:e.stateNode,e};kr.flushSync=function(e){return Wa(e)};kr.hydrate=function(e,t,n){if(!xh(t))throw Error(X(200));return vh(null,e,t,!0,n)};kr.hydrateRoot=function(e,t,n){if(!yv(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=jk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=bk(t,null,e,1,n??null,s,!1,a,o),e[Js]=t.current,Lc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new gh(t)};kr.render=function(e,t,n){if(!xh(t))throw Error(X(200));return vh(null,e,t,!1,n)};kr.unmountComponentAtNode=function(e){if(!xh(e))throw Error(X(40));return e._reactRootContainer?(Wa(function(){vh(null,null,e,!1,function(){e._reactRootContainer=null,e[Js]=null})}),!0):!1};kr.unstable_batchedUpdates=fv;kr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xh(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return vh(e,t,n,!1,r)};kr.version="18.3.1-next-f1338f8080-20240426";function Nk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nk)}catch(e){console.error(e)}}Nk(),NC.exports=kr;var sa=NC.exports;const sF=dC(sa);var Sk,r0=sa;Sk=r0.createRoot,r0.hydrateRoot;var iF=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function Ck({packageName:e,customMessages:t}){let n=e;function r(a,o){if(!o)return`${n}: ${a}`;let l=a;const c=a.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const u of c){const d=(o[u[1]]||"").toString();l=l.replace(`{{${u[1]}}}`,d)}return`${n}: ${l}`}const s={...iF,...t};return{setPackageName({packageName:a}){return typeof a=="string"&&(n=a),this},setMessages({customMessages:a}){return Object.assign(s,a||{}),this},throwInvalidPublishableKeyError(a){throw new Error(r(s.InvalidPublishableKeyErrorMessage,a))},throwInvalidProxyUrl(a){throw new Error(r(s.InvalidProxyUrlErrorMessage,a))},throwMissingPublishableKeyError(){throw new Error(r(s.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(r(s.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(a){throw new Error(r(s.MissingClerkProvider,a))},throw(a){throw new Error(r(a))}}}var _k=class kk extends Error{constructor(n,{code:r,cause:s}){const a=" Clerk:",o=new RegExp(a.replace(" ","\\s*"),"i"),l=n.replace(o,""),c=`${a} ${l.trim()}

(code="${r}")
`;super(c);O(this,"clerkRuntimeError");O(this,"message");O(this,"code");O(this,"cause");O(this,"toString",()=>`[${this.name}]
Message:${this.message}`);Object.setPrototypeOf(this,kk.prototype),this.cause=s,this.code=r,this.message=c,this.clerkRuntimeError=!0,this.name="ClerkRuntimeError"}},Pk=Object.defineProperty,aF=Object.getOwnPropertyDescriptor,oF=Object.getOwnPropertyNames,lF=Object.prototype.hasOwnProperty,cF=(e,t)=>{for(var n in t)Pk(e,n,{get:t[n],enumerable:!0})},uF=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of oF(t))!lF.call(e,s)&&s!==n&&Pk(e,s,{get:()=>t[s],enumerable:!(r=aF(t,s))||r.enumerable});return e},dF=(e,t,n)=>(uF(e,t,"default"),n),fF={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},hF=new Set(["first_factor","second_factor","multi_factor"]),mF=new Set(["strict_mfa","strict","moderate","lax"]),pF=e=>typeof e=="number"&&e>0,gF=e=>hF.has(e),xF=e=>mF.has(e),Vm=e=>e.replace(/^(org:)*/,"org:"),vF=(e,t)=>{const{orgId:n,orgRole:r,orgPermissions:s}=t;return!e.role&&!e.permission||!n||!r||!s?null:e.permission?s.includes(Vm(e.permission)):e.role?Vm(r)===Vm(e.role):null},s0=(e,t)=>{const{org:n,user:r}=wF(e),[s,a]=t.split(":"),o=a||s;return s==="org"?n.includes(o):s==="user"?r.includes(o):[...n,...r].includes(o)},yF=(e,t)=>{const{features:n,plans:r}=t;return e.feature&&n?s0(n,e.feature):e.plan&&r?s0(r,e.plan):null},wF=e=>{const t=e?e.split(",").map(n=>n.trim()):[];return{org:t.filter(n=>n.split(":")[0].includes("o")).map(n=>n.split(":")[1]),user:t.filter(n=>n.split(":")[0].includes("u")).map(n=>n.split(":")[1])}},bF=e=>{if(!e)return!1;const t=s=>typeof s=="string"?fF[s]:s,n=typeof e=="string"&&xF(e),r=typeof e=="object"&&gF(e.level)&&pF(e.afterMinutes);return n||r?t.bind(null,e):!1},jF=(e,{factorVerificationAge:t})=>{if(!e.reverification||!t)return null;const n=bF(e.reverification);if(!n)return null;const{level:r,afterMinutes:s}=n(),[a,o]=t,l=a!==-1?s>a:null,c=o!==-1?s>o:null;switch(r){case"first_factor":return l;case"second_factor":return o!==-1?c:l;case"multi_factor":return o===-1?l:l&&c}},NF=e=>t=>{if(!e.userId)return!1;const n=yF(t,e),r=vF(t,e),s=jF(t,e);return[n||r,s].some(a=>a===null)?[n||r,s].some(a=>a===!0):[n||r,s].every(a=>a===!0)},SF=({authObject:{sessionId:e,sessionStatus:t,userId:n,actor:r,orgId:s,orgRole:a,orgSlug:o,signOut:l,getToken:c,has:u,sessionClaims:d},options:{treatPendingAsSignedOut:f=!0}})=>{if(e===void 0&&n===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:n,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:l,getToken:c};if(e===null&&n===null)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:n,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:c};if(f&&t==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:c};if(e&&d&&n&&s&&a)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:d,userId:n,actor:r||null,orgId:s,orgRole:a,orgSlug:o||null,has:u,signOut:l,getToken:c};if(e&&d&&n&&!s)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:d,userId:n,actor:r||null,orgId:null,orgRole:null,orgSlug:null,has:u,signOut:l,getToken:c}},Ek=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,CF=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],Tk="pk_live_",_F="pk_test_";function Rk(e){if(!e.endsWith("$"))return!1;const t=e.slice(0,-1);return t.includes("$")?!1:t.includes(".")}function i0(e,t={}){if(e=e||"",!e||!wg(e)){if(t.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(t.fatal&&!wg(e))throw new Error("Publishable key not valid.");return null}const n=e.startsWith(Tk)?"production":"development";let r;try{r=Ek(e.split("_")[2])}catch{if(t.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!Rk(r)){if(t.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let s=r.slice(0,-1);return t.proxyUrl?s=t.proxyUrl:n!=="development"&&t.domain&&t.isSatellite&&(s=`clerk.${t.domain}`),{instanceType:n,frontendApi:s}}function wg(e=""){try{if(!(e.startsWith(Tk)||e.startsWith(_F)))return!1;const n=e.split("_");if(n.length!==3)return!1;const r=n[2];if(!r)return!1;const s=Ek(r);return Rk(s)}catch{return!1}}function kF(){const e=new Map;return{isDevOrStagingUrl:t=>{if(!t)return!1;const n=typeof t=="string"?t:t.hostname;let r=e.get(n);return r===void 0&&(r=CF.some(s=>n.endsWith(s)),e.set(n,r)),r}}}var PF="METHOD_CALLED",EF=.1;function Ak(e,t){return{event:PF,eventSamplingRate:EF,payload:{method:e,...t}}}var Ik={exports:{}},Mk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=m;function TF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RF=typeof Object.is=="function"?Object.is:TF,AF=bl.useState,IF=bl.useEffect,MF=bl.useLayoutEffect,OF=bl.useDebugValue;function DF(e,t){var n=t(),r=AF({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return MF(function(){s.value=n,s.getSnapshot=t,Bm(s)&&a({inst:s})},[e,n,t]),IF(function(){return Bm(s)&&a({inst:s}),e(function(){Bm(s)&&a({inst:s})})},[e]),OF(n),n}function Bm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!RF(e,n)}catch{return!0}}function FF(e,t){return t()}var LF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?FF:DF;Mk.useSyncExternalStore=bl.useSyncExternalStore!==void 0?bl.useSyncExternalStore:LF;Ik.exports=Mk;var yh=Ik.exports;const Ok=0,Dk=1,Fk=2,a0=3;var o0=Object.prototype.hasOwnProperty;function bg(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&bg(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(o0.call(e,n)&&++r&&!o0.call(t,n)||!(n in t)||!bg(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const Zr=new WeakMap,Ii=()=>{},sn=Ii(),jf=Object,Ue=e=>e===sn,Or=e=>typeof e=="function",ni=(e,t)=>({...e,...t}),Lk=e=>Or(e.then),Wm={},cd={},wv="undefined",_u=typeof window!=wv,jg=typeof document!=wv,$F=_u&&"Deno"in window,zF=()=>_u&&typeof window.requestAnimationFrame!=wv,vi=(e,t)=>{const n=Zr.get(e);return[()=>!Ue(t)&&e.get(t)||Wm,r=>{if(!Ue(t)){const s=e.get(t);t in cd||(cd[t]=s),n[5](t,ni(s,r),s||Wm)}},n[6],()=>!Ue(t)&&t in cd?cd[t]:!Ue(t)&&e.get(t)||Wm]};let Ng=!0;const UF=()=>Ng,[Sg,Cg]=_u&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ii,Ii],VF=()=>{const e=jg&&document.visibilityState;return Ue(e)||e!=="hidden"},BF=e=>(jg&&document.addEventListener("visibilitychange",e),Sg("focus",e),()=>{jg&&document.removeEventListener("visibilitychange",e),Cg("focus",e)}),WF=e=>{const t=()=>{Ng=!0,e()},n=()=>{Ng=!1};return Sg("online",t),Sg("offline",n),()=>{Cg("online",t),Cg("offline",n)}},HF={isOnline:UF,isVisible:VF},qF={initFocus:BF,initReconnect:WF},l0=!D.useId,Kc=!_u||$F,KF=e=>zF()?window.requestAnimationFrame(e):setTimeout(e,1),jc=Kc?m.useEffect:m.useLayoutEffect,Hm=typeof navigator<"u"&&navigator.connection,c0=!Kc&&Hm&&(["slow-2g","2g"].includes(Hm.effectiveType)||Hm.saveData),ud=new WeakMap,QF=e=>jf.prototype.toString.call(e),qm=(e,t)=>e===`[object ${t}]`;let GF=0;const _g=e=>{const t=typeof e,n=QF(e),r=qm(n,"Date"),s=qm(n,"RegExp"),a=qm(n,"Object");let o,l;if(jf(e)===e&&!r&&!s){if(o=ud.get(e),o)return o;if(o=++GF+"~",ud.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=_g(e[l])+",";ud.set(e,o)}if(a){o="#";const c=jf.keys(e).sort();for(;!Ue(l=c.pop());)Ue(e[l])||(o+=l+":"+_g(e[l])+",");ud.set(e,o)}}else o=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},jl=e=>{if(Or(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?_g(e):"",[e,t]};let YF=0;const kg=()=>++YF;async function $k(...e){const[t,n,r,s]=e,a=ni({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let o=a.populateCache;const l=a.rollbackOnError;let c=a.optimisticData;const u=h=>typeof l=="function"?l(h):l!==!1,d=a.throwOnError;if(Or(n)){const h=n,v=[],y=t.keys();for(const x of y)!/^\$(inf|sub)\$/.test(x)&&h(t.get(x)._k)&&v.push(x);return Promise.all(v.map(f))}return f(n);async function f(h){const[v]=jl(h);if(!v)return;const[y,x]=vi(t,v),[b,w,g,p]=Zr.get(t),j=()=>{const T=b[v];return(Or(a.revalidate)?a.revalidate(y().data,h):a.revalidate!==!1)&&(delete g[v],delete p[v],T&&T[0])?T[0](Fk).then(()=>y().data):y().data};if(e.length<3)return j();let N=r,_,P=!1;const C=kg();w[v]=[C,0];const L=!Ue(c),k=y(),A=k.data,E=k._c,M=Ue(E)?A:E;if(L&&(c=Or(c)?c(M,A):c,x({data:c,_c:M})),Or(N))try{N=N(M)}catch(T){_=T,P=!0}if(N&&Lk(N))if(N=await N.catch(T=>{_=T,P=!0}),C!==w[v][0]){if(P)throw _;return N}else P&&L&&u(_)&&(o=!0,x({data:M,_c:sn}));if(o&&!P)if(Or(o)){const T=o(N,M);x({data:T,error:sn,_c:sn})}else x({data:N,error:sn,_c:sn});if(w[v][1]=kg(),Promise.resolve(j()).then(()=>{x({_c:sn})}),P){if(d)throw _;return}return N}}const u0=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},zk=(e,t)=>{if(!Zr.has(e)){const n=ni(qF,t),r=Object.create(null),s=$k.bind(sn,e);let a=Ii;const o=Object.create(null),l=(d,f)=>{const h=o[d]||[];return o[d]=h,h.push(f),()=>h.splice(h.indexOf(f),1)},c=(d,f,h)=>{e.set(d,f);const v=o[d];if(v)for(const y of v)y(f,h)},u=()=>{if(!Zr.has(e)&&(Zr.set(e,[r,Object.create(null),Object.create(null),Object.create(null),s,c,l]),!Kc)){const d=n.initFocus(setTimeout.bind(sn,u0.bind(sn,r,Ok))),f=n.initReconnect(setTimeout.bind(sn,u0.bind(sn,r,Dk)));a=()=>{d&&d(),f&&f(),Zr.delete(e)}}};return u(),[e,s,u,a]}return[e,Zr.get(e)[4]]},ZF=(e,t,n,r,s)=>{const a=n.errorRetryCount,o=s.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!Ue(a)&&o>a||setTimeout(r,l,s)},XF=bg,[ku,Uk]=zk(new Map),Vk=ni({onLoadingSlow:Ii,onSuccess:Ii,onError:Ii,onErrorRetry:ZF,onDiscarded:Ii,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:c0?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:c0?5e3:3e3,compare:XF,isPaused:()=>!1,cache:ku,mutate:Uk,fallback:{}},HF),Bk=(e,t)=>{const n=ni(e,t);if(t){const{use:r,fallback:s}=e,{use:a,fallback:o}=t;r&&a&&(n.use=r.concat(a)),s&&o&&(n.fallback=ni(s,o))}return n},Pg=m.createContext({}),JF=e=>{const{value:t}=e,n=m.useContext(Pg),r=Or(t),s=m.useMemo(()=>r?t(n):t,[r,n,t]),a=m.useMemo(()=>r?s:Bk(n,s),[r,n,s]),o=s&&s.provider,l=m.useRef(sn);o&&!l.current&&(l.current=zk(o(a.cache||ku),s));const c=l.current;return c&&(a.cache=c[0],a.mutate=c[1]),jc(()=>{if(c)return c[2]&&c[2](),c[3]},[]),m.createElement(Pg.Provider,ni(e,{value:a}))},Wk="$inf$",Hk=_u&&window.__SWR_DEVTOOLS_USE__,eL=Hk?window.__SWR_DEVTOOLS_USE__:[],tL=()=>{Hk&&(window.__SWR_DEVTOOLS_REACT__=D)},qk=e=>Or(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Kk=()=>ni(Vk,m.useContext(Pg)),nL=(e,t)=>{const[n,r]=jl(e),[,,,s]=Zr.get(ku);if(s[n])return s[n];const a=t(r);return s[n]=a,a},rL=e=>(t,n,r)=>e(t,n&&((...a)=>{const[o]=jl(t),[,,,l]=Zr.get(ku);if(o.startsWith(Wk))return n(...a);const c=l[o];return Ue(c)?n(...a):(delete l[o],c)}),r),sL=eL.concat(rL),iL=e=>function(...n){const r=Kk(),[s,a,o]=qk(n),l=Bk(r,o);let c=e;const{use:u}=l,d=(u||[]).concat(sL);for(let f=d.length;f--;)c=d[f](c);return c(s,a||l.fetcher||null,l)},aL=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}},oL=(e,t)=>(...n)=>{const[r,s,a]=qk(n),o=(a.use||[]).concat(t);return e(r,s,{...a,use:o})};tL();const lL=()=>{},cL=lL(),Eg=Object,d0=e=>e===cL,uL=e=>typeof e=="function",dd=new WeakMap,dL=e=>Eg.prototype.toString.call(e),Km=(e,t)=>e===`[object ${t}]`;let fL=0;const Tg=e=>{const t=typeof e,n=dL(e),r=Km(n,"Date"),s=Km(n,"RegExp"),a=Km(n,"Object");let o,l;if(Eg(e)===e&&!r&&!s){if(o=dd.get(e),o)return o;if(o=++fL+"~",dd.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=Tg(e[l])+",";dd.set(e,o)}if(a){o="#";const c=Eg.keys(e).sort();for(;!d0(l=c.pop());)d0(e[l])||(o+=l+":"+Tg(e[l])+",");dd.set(e,o)}}else o=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},hL=e=>{if(uL(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Tg(e):"",[e,t]},mL=e=>hL(e)[0],Qm=D.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Gm={dedupe:!0},pL=(e,t,n)=>{const{cache:r,compare:s,suspense:a,fallbackData:o,revalidateOnMount:l,revalidateIfStale:c,refreshInterval:u,refreshWhenHidden:d,refreshWhenOffline:f,keepPreviousData:h}=n,[v,y,x,b]=Zr.get(r),[w,g]=jl(e),p=m.useRef(!1),j=m.useRef(!1),N=m.useRef(w),_=m.useRef(t),P=m.useRef(n),C=()=>P.current,L=()=>C().isVisible()&&C().isOnline(),[k,A,E,M]=vi(r,w),T=m.useRef({}).current,q=Ue(o)?Ue(n.fallback)?sn:n.fallback[w]:o,W=(Oe,Ie)=>{for(const gt in T){const it=gt;if(it==="data"){if(!s(Oe[it],Ie[it])&&(!Ue(Oe[it])||!s(yt,Ie[it])))return!1}else if(Ie[it]!==Oe[it])return!1}return!0},H=m.useMemo(()=>{const Oe=!w||!t?!1:Ue(l)?C().isPaused()||a?!1:c!==!1:l,Ie=R=>{const z=ni(R);return delete z._k,Oe?{isValidating:!0,isLoading:!0,...z}:z},gt=k(),it=M(),Ht=Ie(gt),fr=gt===it?Ht:Ie(it);let dt=Ht;return[()=>{const R=Ie(k());return W(R,dt)?(dt.data=R.data,dt.isLoading=R.isLoading,dt.isValidating=R.isValidating,dt.error=R.error,dt):(dt=R,R)},()=>fr]},[r,w]),S=yh.useSyncExternalStore(m.useCallback(Oe=>E(w,(Ie,gt)=>{W(gt,Ie)||Oe()}),[r,w]),H[0],H[1]),F=!p.current,Q=v[w]&&v[w].length>0,J=S.data,be=Ue(J)?q&&Lk(q)?Qm(q):q:J,He=S.error,De=m.useRef(be),yt=h?Ue(J)?Ue(De.current)?be:De.current:J:be,st=Q&&!Ue(He)?!1:F&&!Ue(l)?l:C().isPaused()?!1:a?Ue(be)?!1:c:Ue(be)||c,ve=!!(w&&t&&F&&st),Ge=Ue(S.isValidating)?ve:S.isValidating,et=Ue(S.isLoading)?ve:S.isLoading,Te=m.useCallback(async Oe=>{const Ie=_.current;if(!w||!Ie||j.current||C().isPaused())return!1;let gt,it,Ht=!0;const fr=Oe||{},dt=!x[w]||!fr.dedupe,R=()=>l0?!j.current&&w===N.current&&p.current:w===N.current,z={isValidating:!1,isLoading:!1},V=()=>{A(z)},ie=()=>{const G=x[w];G&&G[1]===it&&delete x[w]},Z={isValidating:!0};Ue(k().data)&&(Z.isLoading=!0);try{if(dt&&(A(Z),n.loadingTimeout&&Ue(k().data)&&setTimeout(()=>{Ht&&R()&&C().onLoadingSlow(w,n)},n.loadingTimeout),x[w]=[Ie(g),kg()]),[gt,it]=x[w],gt=await gt,dt&&setTimeout(ie,n.dedupingInterval),!x[w]||x[w][1]!==it)return dt&&R()&&C().onDiscarded(w),!1;z.error=sn;const G=y[w];if(!Ue(G)&&(it<=G[0]||it<=G[1]||G[1]===0))return V(),dt&&R()&&C().onDiscarded(w),!1;const oe=k().data;z.data=s(oe,gt)?oe:gt,dt&&R()&&C().onSuccess(gt,w,n)}catch(G){ie();const oe=C(),{shouldRetryOnError:Ye}=oe;oe.isPaused()||(z.error=G,dt&&R()&&(oe.onError(G,w,oe),(Ye===!0||Or(Ye)&&Ye(G))&&(!C().revalidateOnFocus||!C().revalidateOnReconnect||L())&&oe.onErrorRetry(G,w,oe,Be=>{const tn=v[w];tn&&tn[0]&&tn[0](a0,Be)},{retryCount:(fr.retryCount||0)+1,dedupe:!0})))}return Ht=!1,V(),!0},[w,r]),Ae=m.useCallback((...Oe)=>$k(r,N.current,...Oe),[]);if(jc(()=>{_.current=t,P.current=n,Ue(J)||(De.current=J)}),jc(()=>{if(!w)return;const Oe=Te.bind(sn,Gm);let Ie=0;C().revalidateOnFocus&&(Ie=Date.now()+C().focusThrottleInterval);const it=aL(w,v,(Ht,fr={})=>{if(Ht==Ok){const dt=Date.now();C().revalidateOnFocus&&dt>Ie&&L()&&(Ie=dt+C().focusThrottleInterval,Oe())}else if(Ht==Dk)C().revalidateOnReconnect&&L()&&Oe();else{if(Ht==Fk)return Te();if(Ht==a0)return Te(fr)}});return j.current=!1,N.current=w,p.current=!0,A({_k:g}),st&&(x[w]||(Ue(be)||Kc?Oe():KF(Oe))),()=>{j.current=!0,it()}},[w]),jc(()=>{let Oe;function Ie(){const it=Or(u)?u(k().data):u;it&&Oe!==-1&&(Oe=setTimeout(gt,it))}function gt(){!k().error&&(d||C().isVisible())&&(f||C().isOnline())?Te(Gm).then(Ie):Ie()}return Ie(),()=>{Oe&&(clearTimeout(Oe),Oe=-1)}},[u,d,f,w]),m.useDebugValue(yt),a&&Ue(be)&&w){if(!l0&&Kc)throw new Error("Fallback data is required when using Suspense in SSR.");_.current=t,P.current=n,j.current=!1;const Oe=b[w];if(!Ue(Oe)){const Ie=Ae(Oe);Qm(Ie)}if(Ue(He)){const Ie=Te(Gm);Ue(yt)||(Ie.status="fulfilled",Ie.value=!0),Qm(Ie)}else throw He}return{mutate:Ae,get data(){return T.data=!0,yt},get error(){return T.error=!0,He},get isValidating(){return T.isValidating=!0,Ge},get isLoading(){return T.isLoading=!0,et}}},gL=jf.defineProperty(JF,"defaultValue",{value:Vk}),bv=iL(pL),xL=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:gL,default:bv,mutate:Uk,preload:nL,unstable_serialize:mL,useSWRConfig:Kk},Symbol.toStringTag,{value:"Module"})),vL=()=>{},yL=vL(),Rg=Object,f0=e=>e===yL,wL=e=>typeof e=="function",fd=new WeakMap,bL=e=>Rg.prototype.toString.call(e),Ym=(e,t)=>e===`[object ${t}]`;let jL=0;const Ag=e=>{const t=typeof e,n=bL(e),r=Ym(n,"Date"),s=Ym(n,"RegExp"),a=Ym(n,"Object");let o,l;if(Rg(e)===e&&!r&&!s){if(o=fd.get(e),o)return o;if(o=++jL+"~",fd.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=Ag(e[l])+",";fd.set(e,o)}if(a){o="#";const c=Rg.keys(e).sort();for(;!f0(l=c.pop());)f0(e[l])||(o+=l+":"+Ag(e[l])+",");fd.set(e,o)}}else o=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},NL=e=>{if(wL(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Ag(e):"",[e,t]},SL=e=>NL(e?e(0,null):null)[0],Zm=Promise.resolve(),CL=e=>(t,n,r)=>{const s=m.useRef(!1),{cache:a,initialSize:o=1,revalidateAll:l=!1,persistSize:c=!1,revalidateFirstPage:u=!0,revalidateOnMount:d=!1,parallel:f=!1}=r,[,,,h]=Zr.get(ku);let v;try{v=SL(t),v&&(v=Wk+v)}catch{}const[y,x,b]=vi(a,v),w=m.useCallback(()=>Ue(y()._l)?o:y()._l,[a,v,o]);yh.useSyncExternalStore(m.useCallback(C=>v?b(v,()=>{C()}):()=>{},[a,v]),w,w);const g=m.useCallback(()=>{const C=y()._l;return Ue(C)?o:C},[v,o]),p=m.useRef(g());jc(()=>{if(!s.current){s.current=!0;return}v&&x({_l:c?p.current:g()})},[v,a]);const j=d&&!s.current,N=e(v,async C=>{const L=y()._i,k=y()._r;x({_r:sn});const A=[],E=g(),[M]=vi(a,C),T=M().data,q=[];let W=null;for(let H=0;H<E;++H){const[S,F]=jl(t(H,f?null:W));if(!S)break;const[Q,J]=vi(a,S);let be=Q().data;const He=l||L||Ue(be)||u&&!H&&!Ue(T)||j||T&&!Ue(T[H])&&!r.compare(T[H],be);if(n&&(typeof k=="function"?k(be,F):He)){const De=async()=>{if(!(S in h))be=await n(F);else{const st=h[S];delete h[S],be=await st}J({data:be,_k:F}),A[H]=be};f?q.push(De):await De()}else A[H]=be;f||(W=be)}return f&&await Promise.all(q.map(H=>H())),x({_i:sn}),A},r),_=m.useCallback(function(C,L){const k=typeof L=="boolean"?{revalidate:L}:L||{},A=k.revalidate!==!1;return v?(A&&(Ue(C)?x({_i:!0,_r:k.revalidate}):x({_i:!1,_r:k.revalidate})),arguments.length?N.mutate(C,{...k,revalidate:A}):N.mutate()):Zm},[v,a]),P=m.useCallback(C=>{if(!v)return Zm;const[,L]=vi(a,v);let k;if(Or(C)?k=C(g()):typeof C=="number"&&(k=C),typeof k!="number")return Zm;L({_l:k}),p.current=k;const A=[],[E]=vi(a,v);let M=null;for(let T=0;T<k;++T){const[q]=jl(t(T,M)),[W]=vi(a,q),H=q?W().data:sn;if(Ue(H))return _(E().data);A.push(H),M=H}return _(A)},[v,a,_,g]);return{size:g(),setSize:P,mutate:_,get data(){return N.data},get error(){return N.error},get isValidating(){return N.isValidating},get isLoading(){return N.isLoading}}},_L=oL(bv,CL);var h0=Object.prototype.hasOwnProperty;function m0(e,t,n){for(n of e.keys())if(Nc(n,t))return n}function Nc(e,t){var n,r,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Nc(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(s=r,s&&typeof s=="object"&&(s=m0(t,s),!s)||!t.has(s))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(s=r[0],s&&typeof s=="object"&&(s=m0(t,s),!s)||!Nc(r[1],t.get(s)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(h0.call(e,n)&&++r&&!h0.call(t,n)||!(n in t)||!Nc(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function kL(e,t){if(!e)throw typeof t=="string"?new Error(t):new Error(`${t.displayName} not found`)}var As=(e,t)=>{const{assertCtxFn:n=kL}={},r=D.createContext(void 0);return r.displayName=e,[r,()=>{const o=D.useContext(r);return n(o,`${e} not found`),o.value},()=>{const o=D.useContext(r);return o?o.value:{}}]},jv={};cF(jv,{useSWR:()=>bv,useSWRInfinite:()=>_L});dF(jv,xL);var[Qk,Gk]=As("ClerkInstanceContext"),[PL,EL]=As("UserContext"),[TL]=As("ClientContext"),[RL]=As("SessionContext");D.createContext({});var[AL]=As("CheckoutContext"),IL=({children:e,...t})=>D.createElement(AL.Provider,{value:{value:t}},e),[ML]=As("OrganizationContext"),OL=({children:e,organization:t,swrConfig:n})=>D.createElement(jv.SWRConfig,{value:n},D.createElement(ML.Provider,{value:{value:{organization:t}}},e));function Yk(e){if(!D.useContext(Qk)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?D.useLayoutEffect:D.useEffect;var p0="useUser";function Nv(){var n;Yk(p0);const e=EL();return(n=Gk().telemetry)==null||n.record(Ak(p0)),e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var g0=Nc,DL=e=>{const t=m.useRef(e);return m.useEffect(()=>{t.current=e},[e]),t.current},pr=(e,t,n)=>{const r=!!n,s=m.useRef(n);m.useEffect(()=>{s.current=n},[n]),m.useEffect(()=>{if(!r||!e)return()=>{};const a=(...o)=>{s.current&&s.current(...o)};return e.on(t,a),()=>{e.off(t,a)}},[r,t,e,s])},Zk=D.createContext(null);Zk.displayName="ElementsContext";var FL=(e,t)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${t} in an <Elements> provider.`);return e},Nf=e=>e!==null&&typeof e=="object",LL=(e,t,n)=>Nf(e)?Object.keys(e).reduce((r,s)=>{const a=!Nf(t)||!Xk(e[s],t[s]);return n.includes(s)?(a&&console.warn(`Unsupported prop change: options.${s} is not a mutable property.`),r):a?{...r||{},[s]:e[s]}:r},null):null,x0="[object Object]",Xk=(e,t)=>{if(!Nf(e)||!Nf(t))return e===t;const n=Array.isArray(e),r=Array.isArray(t);if(n!==r)return!1;const s=Object.prototype.toString.call(e)===x0,a=Object.prototype.toString.call(t)===x0;if(s!==a)return!1;if(!s&&!n)return e===t;const o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;const c={};for(let v=0;v<o.length;v+=1)c[o[v]]=!0;for(let v=0;v<l.length;v+=1)c[l[v]]=!0;const u=Object.keys(c);if(u.length!==o.length)return!1;const d=e,f=t,h=v=>Xk(d[v],f[v]);return u.every(h)},v0=e=>{const t=D.useContext(Zk);return FL(t,e)},$L=e=>e.charAt(0).toUpperCase()+e.slice(1),zL=(e,t)=>{const n=`${$L(e)}Element`,a=t?o=>{v0(`mounts <${n}>`);const{id:l,className:c}=o;return D.createElement("div",{id:l,className:c})}:({id:o,className:l,fallback:c,options:u={},onBlur:d,onFocus:f,onReady:h,onChange:v,onEscape:y,onClick:x,onLoadError:b,onLoaderStart:w,onNetworksChange:g,onConfirm:p,onCancel:j,onShippingAddressChange:N,onShippingRateChange:_})=>{const P=v0(`mounts <${n}>`),C="elements"in P?P.elements:null,[L,k]=D.useState(null),A=D.useRef(null),E=D.useRef(null),[M,T]=m.useState(!1);pr(L,"blur",d),pr(L,"focus",f),pr(L,"escape",y),pr(L,"click",x),pr(L,"loaderror",b),pr(L,"loaderstart",w),pr(L,"networkschange",g),pr(L,"confirm",p),pr(L,"cancel",j),pr(L,"shippingaddresschange",N),pr(L,"shippingratechange",_),pr(L,"change",v);let q;h&&(q=()=>{T(!0),h(L)}),pr(L,"ready",q),D.useLayoutEffect(()=>{if(A.current===null&&E.current!==null&&C){let H=null;C&&(H=C.create(e,u)),A.current=H,k(H),H&&H.mount(E.current)}},[C,u]);const W=DL(u);return D.useEffect(()=>{if(!A.current)return;const H=LL(u,W,["paymentRequest"]);H&&"update"in A.current&&A.current.update(H)},[u,W]),D.useLayoutEffect(()=>()=>{if(A.current&&typeof A.current.destroy=="function")try{A.current.destroy(),A.current=null}catch{}},[]),D.createElement(D.Fragment,null,!M&&c,D.createElement("div",{id:o,style:{height:M?"unset":"0px",visibility:M?"visible":"hidden"},className:l,ref:E}))};return a.displayName=n,a.__elementType=e,a},UL=typeof window>"u";zL("payment",UL);As("StripeLibsContext");As("PaymentElementContext");As("StripeUtilsContext");var rs=Ck({packageName:"@clerk/clerk-react"});function VL(e){rs.setMessages(e).setPackageName(e)}var[BL,WL]=As("AuthContext"),HL=Qk,Jk=Gk,qL="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",KL=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,QL="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",Xm="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",GL="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",YL="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",ZL="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",XL="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",JL=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,e3=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,t3=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,n3="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",r3="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",s3="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",i3="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",a3="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",o3="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",l3="Missing props. <UserButton.Action /> component requires the following props: label.",e2=e=>{Yk(()=>{rs.throwMissingClerkProviderError({source:e})})},t2=e=>new Promise(t=>{const n=r=>{["ready","degraded"].includes(r)&&(t(),e.off("status",n))};e.on("status",n,{notify:!0})}),c3=e=>async t=>(await t2(e),e.session?e.session.getToken(t):null),u3=e=>async(...t)=>(await t2(e),e.signOut(...t)),ia=(e={})=>{var t;e2("useAuth");const{treatPendingAsSignedOut:n,...r}=e??{},s=r;let o=WL();o.sessionId===void 0&&o.userId===void 0&&(o=s??{});const l=Jk(),c=m.useCallback(c3(l),[l]),u=m.useCallback(u3(l),[l]);return(t=l.telemetry)==null||t.record(Ak("useAuth",{treatPendingAsSignedOut:n})),d3({...o,getToken:c,signOut:u},{treatPendingAsSignedOut:n})};function d3(e,{treatPendingAsSignedOut:t=!0}={}){const{userId:n,orgId:r,orgRole:s,has:a,signOut:o,getToken:l,orgPermissions:c,factorVerificationAge:u,sessionClaims:d}=e??{},f=m.useCallback(v=>a?a(v):NF({userId:n,orgId:r,orgRole:s,orgPermissions:c,factorVerificationAge:u,features:(d==null?void 0:d.fea)||"",plans:(d==null?void 0:d.pla)||""})(v),[a,n,r,s,c,u]),h=SF({authObject:{...e,getToken:l,signOut:o,has:f},options:{treatPendingAsSignedOut:t}});return h||rs.throw(QL)}var kt=(e,t)=>{const r=(typeof t=="string"?t:t==null?void 0:t.component)||e.displayName||e.name||"Component";e.displayName=r;const s=typeof t=="string"?void 0:t,a=o=>{e2(r||"withClerk");const l=Jk();return!l.loaded&&!(s!=null&&s.renderWhileLoading)?null:D.createElement(e,{...o,component:r,clerk:l})};return a.displayName=`withClerk(${r})`,a},f3=()=>{try{return!1}catch{}return!1},h3=()=>{try{return!1}catch{}return!1},m3=()=>{try{return!0}catch{}return!1},y0=new Set,Sv=(e,t,n)=>{const r=h3()||m3(),s=e;y0.has(s)||r||(y0.add(s),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))};kt(({clerk:e,...t})=>{const{client:n,session:r}=e,s=n.signedInSessions?n.signedInSessions.length>0:n.activeSessions&&n.activeSessions.length>0;return D.useEffect(()=>{r===null&&s?e.redirectToAfterSignOut():e.redirectToSignIn(t)},[]),null},"RedirectToSignIn");kt(({clerk:e,...t})=>(D.useEffect(()=>{e.redirectToSignUp(t)},[]),null),"RedirectToSignUp");kt(({clerk:e,...t})=>(D.useEffect(()=>{e.redirectToTasks(t)},[]),null),"RedirectToTasks");kt(({clerk:e})=>(D.useEffect(()=>{Sv("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");kt(({clerk:e})=>(D.useEffect(()=>{Sv("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");kt(({clerk:e})=>(D.useEffect(()=>{Sv("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");kt(({clerk:e,...t})=>(D.useEffect(()=>{e.handleRedirectCallback(t)},[]),null),"AuthenticateWithRedirectCallback");var Bn=e=>{f3()&&console.error(`Clerk: ${e}`)};function Jm(e,t,n){if(typeof e=="function")return e(t);if(typeof e<"u")return e;if(typeof n<"u")return n}var w0=(e,...t)=>{const n={...e};for(const r of t)delete n[r];return n},wh=e=>t=>{try{return D.Children.only(e)}catch{return rs.throw(KL(t))}},bh=(e,t)=>(e||(e=t),typeof e=="string"&&(e=D.createElement("button",null,e)),e),jh=e=>(...t)=>{if(e&&typeof e=="function")return e(...t)};function p3(e){return typeof e=="function"}var hd=new Map;function g3(e,t,n=1){D.useEffect(()=>{const r=hd.get(e)||0;return r==n?rs.throw(t):(hd.set(e,r+1),()=>{hd.set(e,(hd.get(e)||1)-1)})},[])}function x3(e,t,n){const r=e.displayName||e.name||t||"Component",s=a=>(g3(t,n),D.createElement(e,{...a}));return s.displayName=`withMaxAllowedInstancesGuard(${r})`,s}var Sc=e=>{const[t,n]=m.useState(new Map);return e.map(r=>({id:r.id,mount:s=>n(a=>new Map(a).set(String(r.id),s)),unmount:()=>n(s=>{const a=new Map(s);return a.set(String(r.id),null),a}),portal:()=>{const s=t.get(String(r.id));return s?sa.createPortal(r.component,s):null}}))},zn=(e,t)=>!!e&&D.isValidElement(e)&&(e==null?void 0:e.type)===t,n2=(e,t)=>i2({children:e,reorderItemsLabels:["account","security"],LinkComponent:Eu,PageComponent:Pu,MenuItemsComponent:Sh,componentName:"UserProfile"},t),r2=(e,t)=>i2({children:e,reorderItemsLabels:["general","members"],LinkComponent:_h,PageComponent:Ch,componentName:"OrganizationProfile"},t),s2=e=>{const t=[],n=[_h,Ch,Sh,Pu,Eu];return D.Children.forEach(e,r=>{n.some(s=>zn(r,s))||t.push(r)}),t},i2=(e,t)=>{const{children:n,LinkComponent:r,PageComponent:s,MenuItemsComponent:a,reorderItemsLabels:o,componentName:l}=e,{allowForAnyChildren:c=!1}=t||{},u=[];D.Children.forEach(n,g=>{if(!zn(g,s)&&!zn(g,r)&&!zn(g,a)){g&&!c&&Bn(JL(l));return}const{props:p}=g,{children:j,label:N,url:_,labelIcon:P}=p;if(zn(g,s))if(b0(p,o))u.push({label:N});else if(ep(p))u.push({label:N,labelIcon:P,children:j,url:_});else{Bn(e3(l));return}if(zn(g,r))if(tp(p))u.push({label:N,labelIcon:P,url:_});else{Bn(t3(l));return}});const d=[],f=[],h=[];u.forEach((g,p)=>{if(ep(g)){d.push({component:g.children,id:p}),f.push({component:g.labelIcon,id:p});return}tp(g)&&h.push({component:g.labelIcon,id:p})});const v=Sc(d),y=Sc(f),x=Sc(h),b=[],w=[];return u.forEach((g,p)=>{if(b0(g,o)){b.push({label:g.label});return}if(ep(g)){const{portal:j,mount:N,unmount:_}=v.find(k=>k.id===p),{portal:P,mount:C,unmount:L}=y.find(k=>k.id===p);b.push({label:g.label,url:g.url,mount:N,unmount:_,mountIcon:C,unmountIcon:L}),w.push(j),w.push(P);return}if(tp(g)){const{portal:j,mount:N,unmount:_}=x.find(P=>P.id===p);b.push({label:g.label,url:g.url,mountIcon:N,unmountIcon:_}),w.push(j);return}}),{customPages:b,customPagesPortals:w}},b0=(e,t)=>{const{children:n,label:r,url:s,labelIcon:a}=e;return!n&&!s&&!a&&t.some(o=>o===r)},ep=e=>{const{children:t,label:n,url:r,labelIcon:s}=e;return!!t&&!!r&&!!s&&!!n},tp=e=>{const{children:t,label:n,url:r,labelIcon:s}=e;return!t&&!!r&&!!s&&!!n},v3=(e,t)=>{var n;return y3({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:Sh,MenuActionComponent:o2,MenuLinkComponent:l2,UserProfileLinkComponent:Eu,UserProfilePageComponent:Pu,allowForAnyChildren:(n=t==null?void 0:t.allowForAnyChildren)!=null?n:!1})},y3=({children:e,MenuItemsComponent:t,MenuActionComponent:n,MenuLinkComponent:r,UserProfileLinkComponent:s,UserProfilePageComponent:a,reorderItemsLabels:o,allowForAnyChildren:l=!1})=>{const c=[],u=[],d=[];D.Children.forEach(e,x=>{if(!zn(x,t)&&!zn(x,s)&&!zn(x,a)){x&&!l&&Bn(n3);return}if(zn(x,s)||zn(x,a))return;const{props:b}=x;D.Children.forEach(b.children,w=>{if(!zn(w,n)&&!zn(w,r)){w&&Bn(r3);return}const{props:g}=w,{label:p,labelIcon:j,href:N,onClick:_,open:P}=g;if(zn(w,n))if(j0(g,o))c.push({label:p});else if(np(g)){const C={label:p,labelIcon:j};if(_!==void 0)c.push({...C,onClick:_});else if(P!==void 0)c.push({...C,open:P.startsWith("/")?P:`/${P}`});else{Bn("Custom menu item must have either onClick or open property");return}}else{Bn(l3);return}if(zn(w,r))if(rp(g))c.push({label:p,labelIcon:j,href:N});else{Bn(o3);return}})});const f=[],h=[];c.forEach((x,b)=>{np(x)&&f.push({component:x.labelIcon,id:b}),rp(x)&&h.push({component:x.labelIcon,id:b})});const v=Sc(f),y=Sc(h);return c.forEach((x,b)=>{if(j0(x,o)&&u.push({label:x.label}),np(x)){const{portal:w,mount:g,unmount:p}=v.find(N=>N.id===b),j={label:x.label,mountIcon:g,unmountIcon:p};"onClick"in x?j.onClick=x.onClick:"open"in x&&(j.open=x.open),u.push(j),d.push(w)}if(rp(x)){const{portal:w,mount:g,unmount:p}=y.find(j=>j.id===b);u.push({label:x.label,href:x.href,mountIcon:g,unmountIcon:p}),d.push(w)}}),{customMenuItems:u,customMenuItemsPortals:d}},j0=(e,t)=>{const{children:n,label:r,onClick:s,labelIcon:a}=e;return!n&&!s&&!a&&t.some(o=>o===r)},np=e=>{const{label:t,labelIcon:n,onClick:r,open:s}=e;return!!n&&!!t&&(typeof r=="function"||typeof s=="string")},rp=e=>{const{label:t,href:n,labelIcon:r}=e;return!!n&&!!r&&!!t},w3=e=>{const t=e==null?void 0:e.isReady;return n=>new Promise((r,s)=>{const{root:a=document==null?void 0:document.body,selector:o,timeout:l=0}=n;if(!a){s(new Error("No root element provided"));return}let c=a;if(o&&(c=a==null?void 0:a.querySelector(o)),t(c,o)){r();return}const u=new MutationObserver(d=>{for(const f of d)if(!c&&o&&(c=a==null?void 0:a.querySelector(o)),(e.childList&&f.type==="childList"||e.attributes&&f.type==="attributes")&&t(c,o)){u.disconnect(),r();return}});u.observe(a,e),l>0&&setTimeout(()=>{u.disconnect(),s(new Error(`Timeout waiting for ${o}`))},l)})},b3=w3({childList:!0,subtree:!0,isReady:(e,t)=>{var n;return!!(e!=null&&e.childElementCount)&&((n=e==null?void 0:e.matches)==null?void 0:n.call(e,t))&&e.childElementCount>0}});function dr(e,t){const n=m.useRef(),[r,s]=m.useState("rendering");return m.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");if(typeof window<"u"&&!n.current){const a=`[data-clerk-component="${e}"]`,o=t==null?void 0:t.selector;n.current=b3({selector:o?a+o:a}).then(()=>{s("rendered")}).catch(()=>{s("error")})}},[e,t==null?void 0:t.selector]),r}var md=e=>"mount"in e,N0=e=>"open"in e,S0=e=>e==null?void 0:e.map(({mountIcon:t,unmountIcon:n,...r})=>r),Mn=class extends D.PureComponent{constructor(){super(...arguments),this.rootRef=D.createRef()}componentDidUpdate(e){var t,n,r,s;if(!md(e)||!md(this.props))return;const a=w0(e.props,"customPages","customMenuItems","children"),o=w0(this.props.props,"customPages","customMenuItems","children"),l=((t=a.customPages)==null?void 0:t.length)!==((n=o.customPages)==null?void 0:n.length),c=((r=a.customMenuItems)==null?void 0:r.length)!==((s=o.customMenuItems)==null?void 0:s.length),u=S0(e.props.customMenuItems),d=S0(this.props.props.customMenuItems);(!g0(a,o)||!g0(u,d)||l||c)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(md(this.props)&&this.props.mount(this.rootRef.current,this.props.props),N0(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(md(this.props)&&this.props.unmount(this.rootRef.current),N0(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,t={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return D.createElement(D.Fragment,null,!e&&D.createElement("div",{...t}),this.props.children)}},Nh=e=>{var t,n;return D.createElement(D.Fragment,null,(t=e==null?void 0:e.customPagesPortals)==null?void 0:t.map((r,s)=>m.createElement(r,{key:s})),(n=e==null?void 0:e.customMenuItemsPortals)==null?void 0:n.map((r,s)=>m.createElement(r,{key:s})))},j3=kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}};return D.createElement(D.Fragment,null,a&&n,e.loaded&&D.createElement(Mn,{component:t,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:r,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0}),N3=kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}};return D.createElement(D.Fragment,null,a&&n,e.loaded&&D.createElement(Mn,{component:t,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:r,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function Pu({children:e}){return Bn(GL),D.createElement(D.Fragment,null,e)}function Eu({children:e}){return Bn(YL),D.createElement(D.Fragment,null,e)}var S3=kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}},{customPages:l,customPagesPortals:c}=n2(r.children);return D.createElement(D.Fragment,null,a&&n,D.createElement(Mn,{component:t,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...r,customPages:l},rootProps:o},D.createElement(Nh,{customPagesPortals:c})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(S3,{Page:Pu,Link:Eu});var a2=m.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),C3=kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}},{customPages:l,customPagesPortals:c}=n2(r.children,{allowForAnyChildren:!!r.__experimental_asProvider}),u=Object.assign(r.userProfileProps||{},{customPages:l}),{customMenuItems:d,customMenuItemsPortals:f}=v3(r.children,{allowForAnyChildren:!!r.__experimental_asProvider}),h=s2(r.children),v={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...r,userProfileProps:u,customMenuItems:d}},y={customPagesPortals:c,customMenuItemsPortals:f};return D.createElement(a2.Provider,{value:v},a&&n,e.loaded&&D.createElement(Mn,{component:t,...v,hideRootHtmlElement:!!r.__experimental_asProvider,rootProps:o},r.__experimental_asProvider?h:null,D.createElement(Nh,{...y})))},{component:"UserButton",renderWhileLoading:!0});function Sh({children:e}){return Bn(s3),D.createElement(D.Fragment,null,e)}function o2({children:e}){return Bn(i3),D.createElement(D.Fragment,null,e)}function l2({children:e}){return Bn(a3),D.createElement(D.Fragment,null,e)}function _3(e){const t=m.useContext(a2),n={...t,props:{...t.props,...e}};return D.createElement(Mn,{...n})}var k3=Object.assign(C3,{UserProfilePage:Pu,UserProfileLink:Eu,MenuItems:Sh,Action:o2,Link:l2,__experimental_Outlet:_3});function Ch({children:e}){return Bn(ZL),D.createElement(D.Fragment,null,e)}function _h({children:e}){return Bn(XL),D.createElement(D.Fragment,null,e)}var P3=kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}},{customPages:l,customPagesPortals:c}=r2(r.children);return D.createElement(D.Fragment,null,a&&n,e.loaded&&D.createElement(Mn,{component:t,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...r,customPages:l},rootProps:o},D.createElement(Nh,{customPagesPortals:c})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(P3,{Page:Ch,Link:_h});kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}};return D.createElement(D.Fragment,null,a&&n,e.loaded&&D.createElement(Mn,{component:t,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:r,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var c2=m.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),E3=kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}},{customPages:l,customPagesPortals:c}=r2(r.children,{allowForAnyChildren:!!r.__experimental_asProvider}),u=Object.assign(r.organizationProfileProps||{},{customPages:l}),d=s2(r.children),f={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...r,organizationProfileProps:u},rootProps:o,component:t};return e.__experimental_prefetchOrganizationSwitcher(),D.createElement(c2.Provider,{value:f},D.createElement(D.Fragment,null,a&&n,e.loaded&&D.createElement(Mn,{...f,hideRootHtmlElement:!!r.__experimental_asProvider},r.__experimental_asProvider?d:null,D.createElement(Nh,{customPagesPortals:c}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function T3(e){const t=m.useContext(c2),n={...t,props:{...t.props,...e}};return D.createElement(Mn,{...n})}Object.assign(E3,{OrganizationProfilePage:Ch,OrganizationProfileLink:_h,__experimental_Outlet:T3});kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}};return D.createElement(D.Fragment,null,a&&n,e.loaded&&D.createElement(Mn,{component:t,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:r,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}};return D.createElement(D.Fragment,null,a&&n,e.loaded&&D.createElement(Mn,{component:t,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:r,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}};return D.createElement(D.Fragment,null,a&&n,e.loaded&&D.createElement(Mn,{component:t,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:r,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t,{selector:'[data-component-status="ready"]'})==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}};return D.createElement(D.Fragment,null,a&&n,e.loaded&&D.createElement(Mn,{component:t,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:r,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}};return D.createElement(D.Fragment,null,a&&n,e.loaded&&D.createElement(Mn,{component:t,mount:e.mountApiKeys,unmount:e.unmountApiKeys,updateProps:e.__unstable__updateProps,props:r,rootProps:o}))},{component:"ApiKeys",renderWhileLoading:!0});kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}};return D.createElement(D.Fragment,null,a&&n,e.loaded&&D.createElement(Mn,{component:t,mount:e.mountUserAvatar,unmount:e.unmountUserAvatar,updateProps:e.__unstable__updateProps,props:r,rootProps:o}))},{component:"UserAvatar",renderWhileLoading:!0});kt(({clerk:e,component:t,fallback:n,...r})=>{const a=dr(t)==="rendering"||!e.loaded,o={...a&&n&&{style:{display:"none"}}};return D.createElement(D.Fragment,null,a&&n,e.loaded&&D.createElement(Mn,{component:t,mount:e.mountTaskChooseOrganization,unmount:e.unmountTaskChooseOrganization,updateProps:e.__unstable__updateProps,props:r,rootProps:o}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var u2=e=>{throw TypeError(e)},Cv=(e,t,n)=>t.has(e)||u2("Cannot "+n),Pt=(e,t,n)=>(Cv(e,t,"read from private field"),n?n.call(e):t.get(e)),fi=(e,t,n)=>t.has(e)?u2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ma=(e,t,n,r)=>(Cv(e,t,"write to private field"),t.set(e,n),n),sp=(e,t,n)=>(Cv(e,t,"access private method"),n),R3=(e,t="5.100.0")=>{if(e)return e;const n=A3(t);return n?n==="snapshot"?"5.100.0":n:I3(t)},A3=e=>{var t;return(t=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:t[1]},I3=e=>e.trim().replace(/^v/,"").split(".")[0];function M3(e){return e?O3(e)||d2(e):!0}function O3(e){return/^http(s)?:\/\//.test(e||"")}function d2(e){return e.startsWith("/")}function D3(e){return e?d2(e)?new URL(e,window.location.origin).toString():e:""}function F3(e){if(!e)return"";let t;if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}return`clerk.${e.replace(t,"")}`}var L3={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,t)=>t<5,retryImmediately:!1,jitter:!0},$3=100,f2=async e=>new Promise(t=>setTimeout(t,e)),h2=(e,t)=>t?e*(1+Math.random()):e,z3=e=>{let t=0;const n=()=>{const r=e.initialDelay,s=e.factor;let a=r*Math.pow(s,t);return a=h2(a,e.jitter),Math.min(e.maxDelayBetweenRetries||a,a)};return async()=>{await f2(n()),t++}},U3=async(e,t={})=>{let n=0;const{shouldRetry:r,initialDelay:s,maxDelayBetweenRetries:a,factor:o,retryImmediately:l,jitter:c,onBeforeRetry:u}={...L3,...t},d=z3({initialDelay:s,maxDelayBetweenRetries:a,factor:o,jitter:c});for(;;)try{return await e()}catch(f){if(n++,!r(f,n))throw f;u&&await u(n),l&&n===1?await f2(h2($3,c)):await d()}},V3="loadScript cannot be called when document does not exist",B3="loadScript cannot be called without a src";async function W3(e="",t){const{async:n,defer:r,beforeLoad:s,crossOrigin:a,nonce:o}=t||{};return U3(()=>new Promise((c,u)=>{e||u(new Error(B3)),(!document||!document.body)&&u(new Error(V3));const d=document.createElement("script");a&&d.setAttribute("crossorigin",a),d.async=n||!1,d.defer=r||!1,d.addEventListener("load",()=>{d.remove(),c(d)}),d.addEventListener("error",f=>{d.remove(),u(f.error??new Error(`failed to load script: ${e}`))}),d.src=e,d.nonce=o,s==null||s(d),document.body.appendChild(d)}),{shouldRetry:(c,u)=>u<=5})}var H3="failed_to_load_clerk_js",q3="failed_to_load_clerk_js_timeout",m2="Failed to load Clerk",{isDevOrStagingUrl:K3}=kF(),p2=Ck({packageName:"@clerk/shared"});function Q3(e){p2.setPackageName({packageName:e})}function Ig(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function C0(e){return new Promise((t,n)=>{let r=!1;const s=(u,d)=>{clearTimeout(u),clearInterval(d)},a=()=>{r||Ig()&&(r=!0,s(l,c),t(null))},l=setTimeout(()=>{r||(r=!0,s(l,c),Ig()?t(null):n(new _k(m2,{code:q3})))},e);a();const c=setInterval(()=>{if(r){clearInterval(c);return}a()},100)})}var G3=async e=>{const t=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(Ig())return null;if(document.querySelector("script[data-clerk-js-script]"))return C0(t);if(!(e!=null&&e.publishableKey))return p2.throwMissingPublishableKeyError(),null;const r=C0(t);return W3(Y3(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:X3(e)}).catch(s=>{throw new _k(m2+(s.message?`, ${s.message}`:""),{code:H3,cause:s})}),r},Y3=e=>{var d,f;const{clerkJSUrl:t,clerkJSVariant:n,clerkJSVersion:r,proxyUrl:s,domain:a,publishableKey:o}=e;if(t)return t;let l="";s&&M3(s)?l=D3(s).replace(/http(s)?:\/\//,""):a&&!K3(((d=i0(o))==null?void 0:d.frontendApi)||"")?l=F3(a):l=((f=i0(o))==null?void 0:f.frontendApi)||"";const c=n?`${n.replace(/\.+$/,"")}.`:"",u=R3(r);return`https://${l}/npm/@clerk/clerk-js@${u}/dist/clerk.${c}browser.js`},Z3=e=>{const t={};return e.publishableKey&&(t["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(t["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(t["data-clerk-domain"]=e.domain),e.nonce&&(t.nonce=e.nonce),t},X3=e=>t=>{const n=Z3(e);for(const r in n)t.setAttribute(r,n[r])},J3=(e,t,n)=>!e&&n?e$(n):t$(t),e$=e=>{const t=e.userId,n=e.user,r=e.sessionId,s=e.sessionStatus,a=e.sessionClaims,o=e.session,l=e.organization,c=e.orgId,u=e.orgRole,d=e.orgPermissions,f=e.orgSlug,h=e.actor,v=e.factorVerificationAge;return{userId:t,user:n,sessionId:r,session:o,sessionStatus:s,sessionClaims:a,organization:l,orgId:c,orgRole:u,orgPermissions:d,orgSlug:f,actor:h,factorVerificationAge:v}},t$=e=>{var x,b,w,g;const t=e.user?e.user.id:e.user,n=e.user,r=e.session?e.session.id:e.session,s=e.session,a=(x=e.session)==null?void 0:x.status,o=e.session?(w=(b=e.session.lastActiveToken)==null?void 0:b.jwt)==null?void 0:w.claims:null,l=e.session?e.session.factorVerificationAge:null,c=s==null?void 0:s.actor,u=e.organization,d=e.organization?e.organization.id:e.organization,f=u==null?void 0:u.slug,h=u&&((g=n==null?void 0:n.organizationMemberships)==null?void 0:g.find(p=>p.organization.id===d)),v=h&&h.permissions,y=h&&h.role;return{userId:t,user:n,sessionId:r,session:s,sessionStatus:a,sessionClaims:o,organization:u,orgId:d,orgRole:y,orgSlug:f,orgPermissions:v,actor:c,factorVerificationAge:l}};function Sf(){return typeof window<"u"}var _0=(e,t,n,r,s)=>{const{notify:a}=s||{};let o=e.get(n);o||(o=[],e.set(n,o)),o.push(r),a&&t.has(n)&&r(t.get(n))},k0=(e,t,n)=>(e.get(t)||[]).map(r=>r(n)),P0=(e,t,n)=>{const r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},n$=()=>{const e=new Map,t=new Map,n=new Map;return{on:(...s)=>_0(e,t,...s),prioritizedOn:(...s)=>_0(n,t,...s),emit:(s,a)=>{t.set(s,a),k0(n,s,a),k0(e,s,a)},off:(...s)=>P0(e,...s),prioritizedOff:(...s)=>P0(n,...s),internal:{retrieveListeners:s=>e.get(s)||[]}}},pd={Status:"status"},r$=()=>n$();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);var g2=kt(({clerk:e,children:t,...n})=>{const{signUpFallbackRedirectUrl:r,forceRedirectUrl:s,fallbackRedirectUrl:a,signUpForceRedirectUrl:o,mode:l,initialValues:c,withSignUp:u,oauthFlow:d,...f}=n;t=bh(t,"Sign in");const h=wh(t)("SignInButton"),v=()=>{const b={forceRedirectUrl:s,fallbackRedirectUrl:a,signUpFallbackRedirectUrl:r,signUpForceRedirectUrl:o,initialValues:c,withSignUp:u,oauthFlow:d};return l==="modal"?e.openSignIn({...b,appearance:n.appearance}):e.redirectToSignIn({...b,signInFallbackRedirectUrl:a,signInForceRedirectUrl:s})},x={...f,onClick:async b=>(h&&typeof h=="object"&&"props"in h&&await jh(h.props.onClick)(b),v())};return D.cloneElement(h,x)},{component:"SignInButton",renderWhileLoading:!0});kt(({clerk:e,children:t,...n})=>{const{redirectUrl:r,...s}=n;t=bh(t,"Sign in with Metamask");const a=wh(t)("SignInWithMetamaskButton"),o=async()=>{async function u(){await e.authenticateWithMetamask({redirectUrl:r||void 0})}u()},c={...s,onClick:async u=>(await jh(a.props.onClick)(u),o())};return D.cloneElement(a,c)},{component:"SignInWithMetamask",renderWhileLoading:!0});kt(({clerk:e,children:t,...n})=>{const{redirectUrl:r="/",signOutOptions:s,...a}=n;t=bh(t,"Sign out");const o=wh(t)("SignOutButton"),l=()=>e.signOut({redirectUrl:r,...s}),u={...a,onClick:async d=>(await jh(o.props.onClick)(d),l())};return D.cloneElement(o,u)},{component:"SignOutButton",renderWhileLoading:!0});var s$=kt(({clerk:e,children:t,...n})=>{const{fallbackRedirectUrl:r,forceRedirectUrl:s,signInFallbackRedirectUrl:a,signInForceRedirectUrl:o,mode:l,initialValues:c,oauthFlow:u,...d}=n;t=bh(t,"Sign up");const f=wh(t)("SignUpButton"),h=()=>{const x={fallbackRedirectUrl:r,forceRedirectUrl:s,signInFallbackRedirectUrl:a,signInForceRedirectUrl:o,initialValues:c,oauthFlow:u};return l==="modal"?e.openSignUp({...x,appearance:n.appearance,unsafeMetadata:n.unsafeMetadata}):e.redirectToSignUp({...x,signUpFallbackRedirectUrl:r,signUpForceRedirectUrl:s})},y={...d,onClick:async x=>(f&&typeof f=="object"&&"props"in f&&await jh(f.props.onClick)(x),h())};return D.cloneElement(f,y)},{component:"SignUpButton",renderWhileLoading:!0}),E0=()=>({fields:{firstName:null,lastName:null,emailAddress:null,identifier:null,phoneNumber:null,password:null,username:null,code:null,captcha:null,legalAccepted:null},raw:null,global:null}),i$=class{constructor(e){this.isomorphicClerk=e,this.signInSignalProxy=this.buildSignInProxy(),this.signUpSignalProxy=this.buildSignUpProxy()}signInSignal(){return this.signInSignalProxy}signUpSignal(){return this.signUpSignalProxy}buildSignInProxy(){const e=this.gateProperty.bind(this),t=()=>this.client.signIn.__internal_future;return{errors:E0(),fetchStatus:"idle",signIn:{status:"needs_identifier",availableStrategies:[],isTransferable:!1,get id(){return e(t,"id",void 0)},get supportedFirstFactors(){return e(t,"supportedFirstFactors",[])},get supportedSecondFactors(){return e(t,"supportedSecondFactors",[])},get secondFactorVerification(){return e(t,"secondFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")}})},get identifier(){return e(t,"identifier",null)},get createdSessionId(){return e(t,"createdSessionId",null)},get userData(){return e(t,"userData",{})},get firstFactorVerification(){return e(t,"firstFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")}})},create:this.gateMethod(t,"create"),password:this.gateMethod(t,"password"),sso:this.gateMethod(t,"sso"),finalize:this.gateMethod(t,"finalize"),emailCode:this.wrapMethods(()=>t().emailCode,["sendCode","verifyCode"]),emailLink:this.wrapStruct(()=>t().emailLink,["sendLink","waitForVerification"],["verification"],{verification:null}),resetPasswordEmailCode:this.wrapMethods(()=>t().resetPasswordEmailCode,["sendCode","verifyCode","submitPassword"]),phoneCode:this.wrapMethods(()=>t().phoneCode,["sendCode","verifyCode"]),mfa:this.wrapMethods(()=>t().mfa,["sendPhoneCode","verifyPhoneCode","verifyTOTP","verifyBackupCode"]),ticket:this.gateMethod(t,"ticket"),web3:this.gateMethod(t,"web3")}}}buildSignUpProxy(){const e=this.gateProperty.bind(this),t=this.gateMethod.bind(this),n=this.wrapMethods.bind(this),r=()=>this.client.signUp.__internal_future;return{errors:E0(),fetchStatus:"idle",signUp:{get id(){return e(r,"id",void 0)},get requiredFields(){return e(r,"requiredFields",[])},get optionalFields(){return e(r,"optionalFields",[])},get missingFields(){return e(r,"missingFields",[])},get username(){return e(r,"username",null)},get firstName(){return e(r,"firstName",null)},get lastName(){return e(r,"lastName",null)},get emailAddress(){return e(r,"emailAddress",null)},get phoneNumber(){return e(r,"phoneNumber",null)},get web3Wallet(){return e(r,"web3Wallet",null)},get hasPassword(){return e(r,"hasPassword",!1)},get unsafeMetadata(){return e(r,"unsafeMetadata",{})},get createdSessionId(){return e(r,"createdSessionId",null)},get createdUserId(){return e(r,"createdUserId",null)},get abandonAt(){return e(r,"abandonAt",null)},get legalAcceptedAt(){return e(r,"legalAcceptedAt",null)},get locale(){return e(r,"locale",null)},get status(){return e(r,"status","missing_requirements")},get unverifiedFields(){return e(r,"unverifiedFields",[])},get isTransferable(){return e(r,"isTransferable",!1)},create:t(r,"create"),update:t(r,"update"),sso:t(r,"sso"),password:t(r,"password"),ticket:t(r,"ticket"),web3:t(r,"web3"),finalize:t(r,"finalize"),verifications:n(()=>r().verifications,["sendEmailCode","verifyEmailCode","sendPhoneCode","verifyPhoneCode"])}}}__internal_effect(e){throw new Error("__internal_effect called before Clerk is loaded")}__internal_computed(e){throw new Error("__internal_computed called before Clerk is loaded")}get client(){const e=this.isomorphicClerk.client;if(!e)throw new Error("Clerk client not ready");return e}gateProperty(e,t,n){return!Sf()||!this.isomorphicClerk.loaded?n:e()[t]}gateMethod(e,t){return async(...n)=>{if(!Sf())return rs.throw(`Attempted to call a method (${t}) that is not supported on the server.`);this.isomorphicClerk.loaded||await new Promise(s=>this.isomorphicClerk.addOnLoaded(s));const r=e();return r[t].apply(r,n)}}wrapMethods(e,t){return Object.fromEntries(t.map(n=>[n,this.gateMethod(e,n)]))}wrapStruct(e,t,n,r){const s={};for(const a of t)s[a]=this.gateMethod(e,a);for(const a of n)Object.defineProperty(s,a,{get:()=>this.gateProperty(e,a,r[a]),enumerable:!0});return s}};typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var a$={name:"@clerk/clerk-react",version:"5.52.0",environment:"production"},Fd,jo,No,hi,Ds,Ld,yi,oc,$d,x2=class v2{constructor(t){fi(this,oc),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserAvatarNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],fi(this,Fd,"loading"),fi(this,jo),fi(this,No),fi(this,hi),fi(this,Ds,r$()),fi(this,Ld),this.buildSignInUrl=s=>{const a=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(s))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildSignInUrl",a)},this.buildSignUpUrl=s=>{const a=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(s))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildSignUpUrl",a)},this.buildAfterSignInUrl=(...s)=>{const a=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...s))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterSignInUrl",a)},this.buildAfterSignUpUrl=(...s)=>{const a=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...s))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterSignUpUrl",a)},this.buildAfterSignOutUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterSignOutUrl",s)},this.buildNewSubscriptionRedirectUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",s)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",s)},this.buildUserProfileUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildUserProfileUrl",s)},this.buildCreateOrganizationUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildCreateOrganizationUrl",s)},this.buildOrganizationProfileUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildOrganizationProfileUrl",s)},this.buildWaitlistUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildWaitlistUrl",s)},this.buildTasksUrl=()=>{const s=()=>{var a;return((a=this.clerkjs)==null?void 0:a.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildTasksUrl",s)},this.buildUrlWithAuth=s=>{const a=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(s))||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildUrlWithAuth",a)},this.handleUnauthenticated=async()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.handleUnauthenticated()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("handleUnauthenticated",s)},this.on=(...s)=>{var a;if((a=this.clerkjs)!=null&&a.on)return this.clerkjs.on(...s);Pt(this,Ds).on(...s)},this.off=(...s)=>{var a;if((a=this.clerkjs)!=null&&a.off)return this.clerkjs.off(...s);Pt(this,Ds).off(...s)},this.addOnLoaded=s=>{this.loadedListeners.push(s),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(s=>s()),this.loadedListeners=[]},this.beforeLoad=s=>{if(!s)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=s=>{var a;if(!s)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=s,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,l)=>{o.nativeUnsubscribe=s.addListener(l)}),(a=Pt(this,Ds).internal.retrieveListeners("status"))==null||a.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&s.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&s.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&s.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&s.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&s.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&s.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&s.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&s.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&s.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&s.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&s.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,l)=>{s.mountSignIn(l,o)}),this.premountSignUpNodes.forEach((o,l)=>{s.mountSignUp(l,o)}),this.premountUserProfileNodes.forEach((o,l)=>{s.mountUserProfile(l,o)}),this.premountUserAvatarNodes.forEach((o,l)=>{s.mountUserAvatar(l,o)}),this.premountUserButtonNodes.forEach((o,l)=>{s.mountUserButton(l,o)}),this.premountOrganizationListNodes.forEach((o,l)=>{s.mountOrganizationList(l,o)}),this.premountWaitlistNodes.forEach((o,l)=>{s.mountWaitlist(l,o)}),this.premountPricingTableNodes.forEach((o,l)=>{s.mountPricingTable(l,o)}),this.premountApiKeysNodes.forEach((o,l)=>{s.mountApiKeys(l,o)}),this.premountOAuthConsentNodes.forEach((o,l)=>{s.__internal_mountOAuthConsent(l,o)}),this.premountTaskChooseOrganizationNodes.forEach((o,l)=>{s.mountTaskChooseOrganization(l,o)}),typeof this.clerkjs.status>"u"&&Pt(this,Ds).emit(pd.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...s)=>{var a;return(a=this.clerkjs)==null?void 0:a.__experimental_checkout(...s)},this.__unstable__updateProps=async s=>{const a=await sp(this,oc,$d).call(this);if(a&&"__unstable__updateProps"in a)return a.__unstable__updateProps(s)},this.setActive=s=>this.clerkjs?this.clerkjs.setActive(s):Promise.reject(),this.openSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(s):this.preopenSignIn=s},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(s):this.preopenCheckout=s},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(s):this.preopenPlanDetails=s},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(s):this.preopenSubscriptionDetails=s??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(s):this.preopenUserVerification=s},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=s=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(s):this.preopenOneTap=s},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(s):this.preopenUserProfile=s},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(s):this.preopenOrganizationProfile=s},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(s):this.preopenCreateOrganization=s},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(s):this.preOpenWaitlist=s},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(s):this.preopenSignUp=s},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(s,a):this.premountSignInNodes.set(s,a)},this.unmountSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(s):this.premountSignInNodes.delete(s)},this.mountSignUp=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(s,a):this.premountSignUpNodes.set(s,a)},this.unmountSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(s):this.premountSignUpNodes.delete(s)},this.mountUserAvatar=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserAvatar(s,a):this.premountUserAvatarNodes.set(s,a)},this.unmountUserAvatar=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserAvatar(s):this.premountUserAvatarNodes.delete(s)},this.mountUserProfile=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(s,a):this.premountUserProfileNodes.set(s,a)},this.unmountUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(s):this.premountUserProfileNodes.delete(s)},this.mountOrganizationProfile=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(s,a):this.premountOrganizationProfileNodes.set(s,a)},this.unmountOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(s):this.premountOrganizationProfileNodes.delete(s)},this.mountCreateOrganization=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(s,a):this.premountCreateOrganizationNodes.set(s,a)},this.unmountCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(s):this.premountCreateOrganizationNodes.delete(s)},this.mountOrganizationSwitcher=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(s,a):this.premountOrganizationSwitcherNodes.set(s,a)},this.unmountOrganizationSwitcher=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(s):this.premountOrganizationSwitcherNodes.delete(s)},this.__experimental_prefetchOrganizationSwitcher=()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",s)},this.mountOrganizationList=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(s,a):this.premountOrganizationListNodes.set(s,a)},this.unmountOrganizationList=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(s):this.premountOrganizationListNodes.delete(s)},this.mountUserButton=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(s,a):this.premountUserButtonNodes.set(s,a)},this.unmountUserButton=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(s):this.premountUserButtonNodes.delete(s)},this.mountWaitlist=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(s,a):this.premountWaitlistNodes.set(s,a)},this.unmountWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(s):this.premountWaitlistNodes.delete(s)},this.mountPricingTable=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(s,a):this.premountPricingTableNodes.set(s,a)},this.unmountPricingTable=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(s):this.premountPricingTableNodes.delete(s)},this.mountApiKeys=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(s,a):this.premountApiKeysNodes.set(s,a)},this.unmountApiKeys=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(s):this.premountApiKeysNodes.delete(s)},this.__internal_mountOAuthConsent=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(s,a):this.premountOAuthConsentNodes.set(s,a)},this.__internal_unmountOAuthConsent=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(s):this.premountOAuthConsentNodes.delete(s)},this.mountTaskChooseOrganization=(s,a)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(s,a):this.premountTaskChooseOrganizationNodes.set(s,a)},this.unmountTaskChooseOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(s):this.premountTaskChooseOrganizationNodes.delete(s)},this.addListener=s=>{if(this.clerkjs)return this.clerkjs.addListener(s);{const a=()=>{var o;const l=this.premountAddListenerCalls.get(s);l&&((o=l.nativeUnsubscribe)==null||o.call(l),this.premountAddListenerCalls.delete(s))};return this.premountAddListenerCalls.set(s,{unsubscribe:a,nativeUnsubscribe:void 0}),a}},this.navigate=s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(s)};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("navigate",a)},this.redirectWithAuth=async(...s)=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectWithAuth",a)},this.redirectToSignIn=async s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToSignIn",a)},this.redirectToSignUp=async s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToSignUp",a)},this.redirectToUserProfile=async()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToUserProfile",s)},this.redirectToAfterSignUp=()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToAfterSignUp",s)},this.redirectToAfterSignIn=()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToAfterSignIn()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignIn",s)},this.redirectToAfterSignOut=()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToAfterSignOut()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignOut",s)},this.redirectToOrganizationProfile=async()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToOrganizationProfile",s)},this.redirectToCreateOrganization=async()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToCreateOrganization",s)},this.redirectToWaitlist=async()=>{const s=()=>{var a;return(a=this.clerkjs)==null?void 0:a.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToWaitlist",s)},this.redirectToTasks=async s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToTasks(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToTasks",a)},this.handleRedirectCallback=async s=>{var a;const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleRedirectCallback(s)};this.clerkjs&&this.loaded?(a=o())==null||a.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(s,a)=>{var o;const l=()=>{var c;return(c=this.clerkjs)==null?void 0:c.handleGoogleOneTapCallback(s,a)};this.clerkjs&&this.loaded?(o=l())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",l)},this.handleEmailLinkVerification=async s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("handleEmailLinkVerification",a)},this.authenticateWithMetamask=async s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithMetamask",a)},this.authenticateWithCoinbaseWallet=async s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",a)},this.authenticateWithBase=async s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithBase(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithBase",a)},this.authenticateWithOKXWallet=async s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithOKXWallet",a)},this.authenticateWithWeb3=async s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("authenticateWithWeb3",a)},this.authenticateWithGoogleOneTap=async s=>(await sp(this,oc,$d).call(this)).authenticateWithGoogleOneTap(s),this.__internal_loadStripeJs=async()=>(await sp(this,oc,$d).call(this)).__internal_loadStripeJs(),this.createOrganization=async s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("createOrganization",a)},this.getOrganization=async s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("getOrganization",a)},this.joinWaitlist=async s=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("joinWaitlist",a)},this.signOut=async(...s)=>{const a=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...s)};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("signOut",a)};const{Clerk:n=null,publishableKey:r}=t||{};ma(this,hi,r),ma(this,No,t==null?void 0:t.proxyUrl),ma(this,jo,t==null?void 0:t.domain),this.options=t,this.Clerk=n,this.mode=Sf()?"browser":"server",ma(this,Ld,new i$(this)),this.options.sdkMetadata||(this.options.sdkMetadata=a$),Pt(this,Ds).emit(pd.Status,"loading"),Pt(this,Ds).prioritizedOn(pd.Status,s=>ma(this,Fd,s)),Pt(this,hi)&&this.loadClerkJS()}get publishableKey(){return Pt(this,hi)}get loaded(){var t;return((t=this.clerkjs)==null?void 0:t.loaded)||!1}get status(){var t;return this.clerkjs?((t=this.clerkjs)==null?void 0:t.status)||(this.clerkjs.loaded?"ready":"loading"):Pt(this,Fd)}static getOrCreateInstance(t){return(!Sf()||!Pt(this,yi)||t.Clerk&&Pt(this,yi).Clerk!==t.Clerk||Pt(this,yi).publishableKey!==t.publishableKey)&&ma(this,yi,new v2(t)),Pt(this,yi)}static clearInstance(){ma(this,yi,null)}get domain(){return typeof window<"u"&&window.location?Jm(Pt(this,jo),new URL(window.location.href),""):typeof Pt(this,jo)=="function"?rs.throw(Xm):Pt(this,jo)||""}get proxyUrl(){return typeof window<"u"&&window.location?Jm(Pt(this,No),new URL(window.location.href),""):typeof Pt(this,No)=="function"?rs.throw(Xm):Pt(this,No)||""}__internal_getOption(t){var n,r;return(n=this.clerkjs)!=null&&n.__internal_getOption?(r=this.clerkjs)==null?void 0:r.__internal_getOption(t):this.options[t]}get sdkMetadata(){var t;return((t=this.clerkjs)==null?void 0:t.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var t;return(t=this.clerkjs)==null?void 0:t.instanceType}get frontendApi(){var t;return((t=this.clerkjs)==null?void 0:t.frontendApi)||""}get isStandardBrowser(){var t;return((t=this.clerkjs)==null?void 0:t.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?Jm(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?rs.throw(Xm):!1}async loadClerkJS(){var t;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=Pt(this,hi),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let n;p3(this.Clerk)?(n=new this.Clerk(Pt(this,hi),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(n),await n.load(this.options)):(n=this.Clerk,n.loaded||(this.beforeLoad(n),await n.load(this.options))),global.Clerk=n}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await G3({...this.options,publishableKey:Pt(this,hi),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(t=global.Clerk)!=null&&t.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(n){const r=n;Pt(this,Ds).emit(pd.Status,"error"),console.error(r.stack||r.message||r);return}}}get version(){var t;return(t=this.clerkjs)==null?void 0:t.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var t;return(t=this.clerkjs)==null?void 0:t.billing}get __internal_state(){return this.loaded&&this.clerkjs?this.clerkjs.__internal_state:Pt(this,Ld)}get apiKeys(){var t;return(t=this.clerkjs)==null?void 0:t.apiKeys}__unstable__setEnvironment(...t){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(t);else return}};Fd=new WeakMap;jo=new WeakMap;No=new WeakMap;hi=new WeakMap;Ds=new WeakMap;Ld=new WeakMap;yi=new WeakMap;oc=new WeakSet;$d=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};fi(x2,yi);var T0=x2;function o$(e){const{isomorphicClerkOptions:t,initialState:n,children:r}=e,{isomorphicClerk:s,clerkStatus:a}=l$(t),[o,l]=D.useState({client:s.client,session:s.session,user:s.user,organization:s.organization});D.useEffect(()=>s.addListener(E=>l({...E})),[]);const c=J3(s.loaded,o,n),u=D.useMemo(()=>({value:s}),[a]),d=D.useMemo(()=>({value:o.client}),[o.client]),{sessionId:f,sessionStatus:h,sessionClaims:v,session:y,userId:x,user:b,orgId:w,actor:g,organization:p,orgRole:j,orgSlug:N,orgPermissions:_,factorVerificationAge:P}=c,C=D.useMemo(()=>({value:{sessionId:f,sessionStatus:h,sessionClaims:v,userId:x,actor:g,orgId:w,orgRole:j,orgSlug:N,orgPermissions:_,factorVerificationAge:P}}),[f,h,x,g,w,j,N,P,v==null?void 0:v.__raw]),L=D.useMemo(()=>({value:y}),[f,y]),k=D.useMemo(()=>({value:b}),[x,b]),A=D.useMemo(()=>({value:{organization:p}}),[w,p]);return D.createElement(HL.Provider,{value:u},D.createElement(TL.Provider,{value:d},D.createElement(RL.Provider,{value:L},D.createElement(OL,{...A.value},D.createElement(BL.Provider,{value:C},D.createElement(PL.Provider,{value:k},D.createElement(IL,{value:void 0},r)))))))}var l$=e=>{const t=D.useRef(T0.getOrCreateInstance(e)),[n,r]=D.useState(t.current.status);return D.useEffect(()=>{t.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),D.useEffect(()=>{t.current.__unstable__updateProps({options:e})},[e.localization]),D.useEffect(()=>(t.current.on("status",r),()=>{t.current&&t.current.off("status",r),T0.clearInstance()}),[]),{isomorphicClerk:t.current,clerkStatus:n}};function c$(e){const{initialState:t,children:n,__internal_bypassMissingPublishableKey:r,...s}=e,{publishableKey:a="",Clerk:o}=s;return!o&&!r&&(a?a&&!wg(a)&&rs.throwInvalidPublishableKeyError({key:a}):rs.throwMissingPublishableKeyError()),D.createElement(o$,{initialState:t,isomorphicClerkOptions:s},n)}var y2=x3(c$,"ClerkProvider",qL);y2.displayName="ClerkProvider";VL({packageName:"@clerk/clerk-react"});Q3("@clerk/clerk-react");function u$(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~r?r:~a?a:s.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}const d$=Ex.useInsertionEffect,f$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h$=f$?m.useLayoutEffect:m.useEffect,m$=d$||h$,w2=e=>{const t=m.useRef([e,(...n)=>t[0](...n)]).current;return m$(()=>{t[0]=e}),t[1]},p$="popstate",_v="pushState",kv="replaceState",g$="hashchange",R0=[p$,_v,kv,g$],x$=e=>{for(const t of R0)addEventListener(t,e);return()=>{for(const t of R0)removeEventListener(t,e)}},b2=(e,t)=>yh.useSyncExternalStore(x$,e,t),v$=()=>location.search,y$=({ssrSearch:e=""}={})=>b2(v$,()=>e),A0=()=>location.pathname,w$=({ssrPath:e}={})=>b2(A0,e?()=>e:A0),b$=(e,{replace:t=!1,state:n=null}={})=>history[t?kv:_v](n,"",e),j$=(e={})=>[w$(e),b$],I0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[I0]>"u"){for(const e of[_v,kv]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,I0,{value:!0})}const N$=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",j2=(e="")=>e==="/"?"":e,S$=(e,t)=>e[0]==="~"?e.slice(1):j2(t)+e,C$=(e="",t)=>N$(Mg(j2(e)),Mg(t)),_$=e=>e[0]==="?"?e.slice(1):e,Mg=e=>{try{return decodeURI(e)}catch{return e}},k$=e=>Mg(_$(e)),N2={hook:j$,searchHook:y$,parser:u$,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},S2=m.createContext(N2),ao=()=>m.useContext(S2),C2={},_2=m.createContext(C2),Tu=()=>m.useContext(_2),kh=e=>{const[t,n]=e.hook(e);return[C$(e.base,t),w2((r,s)=>n(S$(r,e.base),s))]},Br=()=>kh(ao()),P$=()=>{const e=ao();return k$(e.searchHook(e))},Pv=(e,t,n,r)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[l]:[]]:[!1,null]},k2=e=>Pv(ao().parser,e,Br()[0]),E$=({children:e,...t})=>{var d,f;const n=ao(),r=t.hook?N2:n;let s=r;const[a,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=m.useRef({}),c=l.current,u=c;for(let h in r){const v=h==="base"?r[h]+(t[h]||""):t[h]||r[h];c===u&&v!==u[h]&&(l.current=u={...u}),u[h]=v,(v!==r[h]||v!==s[h])&&(s=u)}return m.createElement(S2.Provider,{value:s,children:e})},M0=({children:e,component:t},n)=>t?m.createElement(t,{params:n}):typeof e=="function"?e(n):e,T$=e=>{let t=m.useRef(C2);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,s])=>s!==n[r])?e:n},Jn=({path:e,nest:t,match:n,...r})=>{const s=ao(),[a]=kh(s),[o,l,c]=n??Pv(s.parser,e,a,t),u=T$({...Tu(),...l});if(!o)return null;const d=c?m.createElement(E$,{base:c},M0(r,u)):M0(r,u);return m.createElement(_2.Provider,{value:u,children:d})},xr=m.forwardRef((e,t)=>{const n=ao(),[r,s]=kh(n),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...v}=e,y=w2(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),s(o,e)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&m.isValidElement(u)?m.cloneElement(u,{onClick:y,href:x}):m.createElement("a",{...v,onClick:y,href:x,className:d!=null&&d.call?d(r===o):d,children:u,ref:t})}),P2=e=>Array.isArray(e)?e.flatMap(t=>P2(t&&t.type===m.Fragment?t.props.children:t)):[e],R$=({children:e,location:t})=>{const n=ao(),[r]=kh(n);for(const s of P2(e)){let a=0;if(m.isValidElement(s)&&(a=Pv(n.parser,s.props.path,t||r,s.props.nest))[0])return m.cloneElement(s,{match:a})}return null};var Al=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},A$={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ji,Sx,dj,I$=(dj=class{constructor(){_e(this,ji,A$);_e(this,Sx,!1)}setTimeoutProvider(e){ue(this,ji,e)}setTimeout(e,t){return I(this,ji).setTimeout(e,t)}clearTimeout(e){I(this,ji).clearTimeout(e)}setInterval(e,t){return I(this,ji).setInterval(e,t)}clearInterval(e){I(this,ji).clearInterval(e)}},ji=new WeakMap,Sx=new WeakMap,dj),Ca=new I$;function M$(e){setTimeout(e,0)}var Ha=typeof window>"u"||"Deno"in globalThis;function Un(){}function O$(e,t){return typeof e=="function"?e(t):e}function Og(e){return typeof e=="number"&&e>=0&&e!==1/0}function E2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bi(e,t){return typeof e=="function"?e(t):e}function Ar(e,t){return typeof e=="function"?e(t):e}function O0(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Ev(o,t.options))return!1}else if(!Qc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function D0(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(qa(t.options.mutationKey)!==qa(a))return!1}else if(!Qc(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Ev(e,t){return((t==null?void 0:t.queryKeyHashFn)||qa)(e)}function qa(e){return JSON.stringify(e,(t,n)=>Dg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Qc(e[n],t[n])):!1}var D$=Object.prototype.hasOwnProperty;function T2(e,t){if(e===t)return e;const n=F0(e)&&F0(t);if(!n&&!(Dg(e)&&Dg(t)))return t;const s=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],f=e[d],h=t[d];if(f===h){l[d]=f,(n?u<s:D$.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const v=T2(f,h);l[d]=v,v===f&&c++}return s===o&&c===s?e:l}function Cf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function F0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Dg(e){if(!L0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!L0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function L0(e){return Object.prototype.toString.call(e)==="[object Object]"}function F$(e){return new Promise(t=>{Ca.setTimeout(t,e)})}function Fg(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?T2(e,t):t}function L$(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function $$(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Tv=Symbol();function R2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Tv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function A2(e,t){return typeof e=="function"?e(...t):!!e}var ka,Ni,nl,fj,z$=(fj=class extends Al{constructor(){super();_e(this,ka);_e(this,Ni);_e(this,nl);ue(this,nl,t=>{if(!Ha&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){I(this,Ni)||this.setEventListener(I(this,nl))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,Ni))==null||t.call(this),ue(this,Ni,void 0))}setEventListener(t){var n;ue(this,nl,t),(n=I(this,Ni))==null||n.call(this),ue(this,Ni,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){I(this,ka)!==t&&(ue(this,ka,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof I(this,ka)=="boolean"?I(this,ka):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ka=new WeakMap,Ni=new WeakMap,nl=new WeakMap,fj),Rv=new z$;function Lg(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var U$=M$;function V$(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=U$;const a=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var an=V$(),rl,Si,sl,hj,B$=(hj=class extends Al{constructor(){super();_e(this,rl,!0);_e(this,Si);_e(this,sl);ue(this,sl,t=>{if(!Ha&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){I(this,Si)||this.setEventListener(I(this,sl))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,Si))==null||t.call(this),ue(this,Si,void 0))}setEventListener(t){var n;ue(this,sl,t),(n=I(this,Si))==null||n.call(this),ue(this,Si,t(this.setOnline.bind(this)))}setOnline(t){I(this,rl)!==t&&(ue(this,rl,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return I(this,rl)}},rl=new WeakMap,Si=new WeakMap,sl=new WeakMap,hj),_f=new B$;function W$(e){return Math.min(1e3*2**e,3e4)}function I2(e){return(e??"online")==="online"?_f.isOnline():!0}var $g=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function M2(e){let t=!1,n=0,r;const s=Lg(),a=()=>s.status!=="pending",o=x=>{var b;if(!a()){const w=new $g(x);h(w),(b=e.onCancel)==null||b.call(e,w)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Rv.isFocused()&&(e.networkMode==="always"||_f.isOnline())&&e.canRun(),d=()=>I2(e.networkMode)&&e.canRun(),f=x=>{a()||(r==null||r(),s.resolve(x))},h=x=>{a()||(r==null||r(),s.reject(x))},v=()=>new Promise(x=>{var b;r=w=>{(a()||u())&&x(w)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;r=void 0,a()||(x=e.onContinue)==null||x.call(e)}),y=()=>{if(a())return;let x;const b=n===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(f).catch(w=>{var _;if(a())return;const g=e.retry??(Ha?0:3),p=e.retryDelay??W$,j=typeof p=="function"?p(n,w):p,N=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,w);if(t||!N){h(w);return}n++,(_=e.onFail)==null||_.call(e,n,w),F$(j).then(()=>u()?void 0:v()).then(()=>{t?h(w):y()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():v().then(y),s)}}var Pa,mj,O2=(mj=class{constructor(){_e(this,Pa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Og(this.gcTime)&&ue(this,Pa,Ca.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ha?1/0:5*60*1e3))}clearGcTimeout(){I(this,Pa)&&(Ca.clearTimeout(I(this,Pa)),ue(this,Pa,void 0))}},Pa=new WeakMap,mj),Ea,il,Tr,Ta,dn,gu,Ra,Kr,Fs,pj,H$=(pj=class extends O2{constructor(t){super();_e(this,Kr);_e(this,Ea);_e(this,il);_e(this,Tr);_e(this,Ta);_e(this,dn);_e(this,gu);_e(this,Ra);ue(this,Ra,!1),ue(this,gu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ue(this,Ta,t.client),ue(this,Tr,I(this,Ta).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ue(this,Ea,$0(this.options)),this.state=t.state??I(this,Ea),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=I(this,dn))==null?void 0:t.promise}setOptions(t){if(this.options={...I(this,gu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=$0(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),ue(this,Ea,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,Tr).remove(this)}setData(t,n){const r=Fg(this.state.data,t,this.options);return ze(this,Kr,Fs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ze(this,Kr,Fs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=I(this,dn))==null?void 0:r.promise;return(s=I(this,dn))==null||s.cancel(t),n?n.then(Un).catch(Un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,Ea))}isActive(){return this.observers.some(t=>Ar(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Tv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!E2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,dn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,dn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),I(this,Tr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(I(this,dn)&&(I(this,Ra)?I(this,dn).cancel({revert:!0}):I(this,dn).cancelRetry()),this.scheduleGc()),I(this,Tr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ze(this,Kr,Fs).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,h,v,y,x,b,w,g,p;if(this.state.fetchStatus!=="idle"&&((c=I(this,dn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(I(this,dn))return I(this,dn).continueRetry(),I(this,dn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const r=new AbortController,s=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ue(this,Ra,!0),r.signal)})},a=()=>{const j=R2(this.options,n),_=(()=>{const P={client:I(this,Ta),queryKey:this.queryKey,meta:this.meta};return s(P),P})();return ue(this,Ra,!1),this.options.persister?this.options.persister(j,_,this):j(_)},l=(()=>{const j={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:I(this,Ta),state:this.state,fetchFn:a};return s(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),ue(this,il,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ze(this,Kr,Fs).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ue(this,dn,M2({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof $g&&j.revert&&this.setState({...I(this,il),fetchStatus:"idle"}),r.abort()},onFail:(j,N)=>{ze(this,Kr,Fs).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{ze(this,Kr,Fs).call(this,{type:"pause"})},onContinue:()=>{ze(this,Kr,Fs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await I(this,dn).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(v=(h=I(this,Tr).config).onSuccess)==null||v.call(h,j,this),(x=(y=I(this,Tr).config).onSettled)==null||x.call(y,j,this.state.error,this),j}catch(j){if(j instanceof $g){if(j.silent)return I(this,dn).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw ze(this,Kr,Fs).call(this,{type:"error",error:j}),(w=(b=I(this,Tr).config).onError)==null||w.call(b,j,this),(p=(g=I(this,Tr).config).onSettled)==null||p.call(g,this.state.data,j,this),j}finally{this.scheduleGc()}}},Ea=new WeakMap,il=new WeakMap,Tr=new WeakMap,Ta=new WeakMap,dn=new WeakMap,gu=new WeakMap,Ra=new WeakMap,Kr=new WeakSet,Fs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...D2(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ue(this,il,t.manual?s:void 0),s;case"error":const a=t.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),an.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),I(this,Tr).notify({query:this,type:"updated",action:t})})},pj);function D2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:I2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var er,Xe,xu,Fn,Aa,al,Vs,Ci,vu,ol,ll,Ia,Ma,_i,cl,ut,lc,zg,Ug,Vg,Bg,Wg,Hg,qg,F2,gj,q$=(gj=class extends Al{constructor(t,n){super();_e(this,ut);_e(this,er);_e(this,Xe);_e(this,xu);_e(this,Fn);_e(this,Aa);_e(this,al);_e(this,Vs);_e(this,Ci);_e(this,vu);_e(this,ol);_e(this,ll);_e(this,Ia);_e(this,Ma);_e(this,_i);_e(this,cl,new Set);this.options=n,ue(this,er,t),ue(this,Ci,null),ue(this,Vs,Lg()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(I(this,Xe).addObserver(this),z0(I(this,Xe),this.options)?ze(this,ut,lc).call(this):this.updateResult(),ze(this,ut,Bg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kg(I(this,Xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kg(I(this,Xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ze(this,ut,Wg).call(this),ze(this,ut,Hg).call(this),I(this,Xe).removeObserver(this)}setOptions(t){const n=this.options,r=I(this,Xe);if(this.options=I(this,er).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ar(this.options.enabled,I(this,Xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ze(this,ut,qg).call(this),I(this,Xe).setOptions(this.options),n._defaulted&&!Cf(this.options,n)&&I(this,er).getQueryCache().notify({type:"observerOptionsUpdated",query:I(this,Xe),observer:this});const s=this.hasListeners();s&&U0(I(this,Xe),r,this.options,n)&&ze(this,ut,lc).call(this),this.updateResult(),s&&(I(this,Xe)!==r||Ar(this.options.enabled,I(this,Xe))!==Ar(n.enabled,I(this,Xe))||Bi(this.options.staleTime,I(this,Xe))!==Bi(n.staleTime,I(this,Xe)))&&ze(this,ut,zg).call(this);const a=ze(this,ut,Ug).call(this);s&&(I(this,Xe)!==r||Ar(this.options.enabled,I(this,Xe))!==Ar(n.enabled,I(this,Xe))||a!==I(this,_i))&&ze(this,ut,Vg).call(this,a)}getOptimisticResult(t){const n=I(this,er).getQueryCache().build(I(this,er),t),r=this.createResult(n,t);return Q$(this,r)&&(ue(this,Fn,r),ue(this,al,this.options),ue(this,Aa,I(this,Xe).state)),r}getCurrentResult(){return I(this,Fn)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&!this.options.experimental_prefetchInRender&&I(this,Vs).status==="pending"&&I(this,Vs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,s))})}trackProp(t){I(this,cl).add(t)}getCurrentQuery(){return I(this,Xe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=I(this,er).defaultQueryOptions(t),r=I(this,er).getQueryCache().build(I(this,er),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ze(this,ut,lc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),I(this,Fn)))}createResult(t,n){var L;const r=I(this,Xe),s=this.options,a=I(this,Fn),o=I(this,Aa),l=I(this,al),u=t!==r?t.state:I(this,xu),{state:d}=t;let f={...d},h=!1,v;if(n._optimisticResults){const k=this.hasListeners(),A=!k&&z0(t,n),E=k&&U0(t,r,n,s);(A||E)&&(f={...f,...D2(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:b}=f;v=f.data;let w=!1;if(n.placeholderData!==void 0&&v===void 0&&b==="pending"){let k;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(k=a.data,w=!0):k=typeof n.placeholderData=="function"?n.placeholderData((L=I(this,ll))==null?void 0:L.state.data,I(this,ll)):n.placeholderData,k!==void 0&&(b="success",v=Fg(a==null?void 0:a.data,k,n),h=!0)}if(n.select&&v!==void 0&&!w)if(a&&v===(o==null?void 0:o.data)&&n.select===I(this,vu))v=I(this,ol);else try{ue(this,vu,n.select),v=n.select(v),v=Fg(a==null?void 0:a.data,v,n),ue(this,ol,v),ue(this,Ci,null)}catch(k){ue(this,Ci,k)}I(this,Ci)&&(y=I(this,Ci),v=I(this,ol),x=Date.now(),b="error");const g=f.fetchStatus==="fetching",p=b==="pending",j=b==="error",N=p&&g,_=v!==void 0,C={status:b,fetchStatus:f.fetchStatus,isPending:p,isSuccess:b==="success",isError:j,isInitialLoading:N,isLoading:N,data:v,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!p,isLoadingError:j&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&_,isStale:Av(t,n),refetch:this.refetch,promise:I(this,Vs),isEnabled:Ar(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=M=>{C.status==="error"?M.reject(C.error):C.data!==void 0&&M.resolve(C.data)},A=()=>{const M=ue(this,Vs,C.promise=Lg());k(M)},E=I(this,Vs);switch(E.status){case"pending":t.queryHash===r.queryHash&&k(E);break;case"fulfilled":(C.status==="error"||C.data!==E.value)&&A();break;case"rejected":(C.status!=="error"||C.error!==E.reason)&&A();break}}return C}updateResult(){const t=I(this,Fn),n=this.createResult(I(this,Xe),this.options);if(ue(this,Aa,I(this,Xe).state),ue(this,al,this.options),I(this,Aa).data!==void 0&&ue(this,ll,I(this,Xe)),Cf(n,t))return;ue(this,Fn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!I(this,cl).size)return!0;const o=new Set(a??I(this,cl));return this.options.throwOnError&&o.add("error"),Object.keys(I(this,Fn)).some(l=>{const c=l;return I(this,Fn)[c]!==t[c]&&o.has(c)})};ze(this,ut,F2).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ze(this,ut,Bg).call(this)}},er=new WeakMap,Xe=new WeakMap,xu=new WeakMap,Fn=new WeakMap,Aa=new WeakMap,al=new WeakMap,Vs=new WeakMap,Ci=new WeakMap,vu=new WeakMap,ol=new WeakMap,ll=new WeakMap,Ia=new WeakMap,Ma=new WeakMap,_i=new WeakMap,cl=new WeakMap,ut=new WeakSet,lc=function(t){ze(this,ut,qg).call(this);let n=I(this,Xe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Un)),n},zg=function(){ze(this,ut,Wg).call(this);const t=Bi(this.options.staleTime,I(this,Xe));if(Ha||I(this,Fn).isStale||!Og(t))return;const r=E2(I(this,Fn).dataUpdatedAt,t)+1;ue(this,Ia,Ca.setTimeout(()=>{I(this,Fn).isStale||this.updateResult()},r))},Ug=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(I(this,Xe)):this.options.refetchInterval)??!1},Vg=function(t){ze(this,ut,Hg).call(this),ue(this,_i,t),!(Ha||Ar(this.options.enabled,I(this,Xe))===!1||!Og(I(this,_i))||I(this,_i)===0)&&ue(this,Ma,Ca.setInterval(()=>{(this.options.refetchIntervalInBackground||Rv.isFocused())&&ze(this,ut,lc).call(this)},I(this,_i)))},Bg=function(){ze(this,ut,zg).call(this),ze(this,ut,Vg).call(this,ze(this,ut,Ug).call(this))},Wg=function(){I(this,Ia)&&(Ca.clearTimeout(I(this,Ia)),ue(this,Ia,void 0))},Hg=function(){I(this,Ma)&&(Ca.clearInterval(I(this,Ma)),ue(this,Ma,void 0))},qg=function(){const t=I(this,er).getQueryCache().build(I(this,er),this.options);if(t===I(this,Xe))return;const n=I(this,Xe);ue(this,Xe,t),ue(this,xu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},F2=function(t){an.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(I(this,Fn))}),I(this,er).getQueryCache().notify({query:I(this,Xe),type:"observerResultsUpdated"})})},gj);function K$(e,t){return Ar(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function z0(e,t){return K$(e,t)||e.state.data!==void 0&&Kg(e,t,t.refetchOnMount)}function Kg(e,t,n){if(Ar(t.enabled,e)!==!1&&Bi(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Av(e,t)}return!1}function U0(e,t,n,r){return(e!==t||Ar(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Av(e,n)}function Av(e,t){return Ar(t.enabled,e)!==!1&&e.isStaleByTime(Bi(t.staleTime,e))}function Q$(e,t){return!Cf(e.getCurrentResult(),t)}function V0(e){return{onFetch:(t,n)=>{var d,f,h,v,y;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((v=t.state.data)==null?void 0:v.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const b=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},w=R2(t.options,t.fetchOptions),g=async(p,j,N)=>{if(x)return Promise.reject();if(j==null&&p.pages.length)return Promise.resolve(p);const P=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return b(A),A})(),C=await w(P),{maxPages:L}=t.options,k=N?$$:L$;return{pages:k(p.pages,C,L),pageParams:k(p.pageParams,j,L)}};if(s&&a.length){const p=s==="backward",j=p?G$:B0,N={pages:a,pageParams:o},_=j(r,N);l=await g(N,_,p)}else{const p=e??a.length;do{const j=c===0?o[0]??r.initialPageParam:B0(r,l);if(c>0&&j==null)break;l=await g(l,j),c++}while(c<p)}return l};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function B0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function G$(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var yu,ps,Ln,Oa,gs,mi,xj,Y$=(xj=class extends O2{constructor(t){super();_e(this,gs);_e(this,yu);_e(this,ps);_e(this,Ln);_e(this,Oa);ue(this,yu,t.client),this.mutationId=t.mutationId,ue(this,Ln,t.mutationCache),ue(this,ps,[]),this.state=t.state||L2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){I(this,ps).includes(t)||(I(this,ps).push(t),this.clearGcTimeout(),I(this,Ln).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ue(this,ps,I(this,ps).filter(n=>n!==t)),this.scheduleGc(),I(this,Ln).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){I(this,ps).length||(this.state.status==="pending"?this.scheduleGc():I(this,Ln).remove(this))}continue(){var t;return((t=I(this,Oa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,v,y,x,b,w,g,p,j,N,_,P,C,L;const n=()=>{ze(this,gs,mi).call(this,{type:"continue"})},r={client:I(this,yu),meta:this.options.meta,mutationKey:this.options.mutationKey};ue(this,Oa,M2({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(k,A)=>{ze(this,gs,mi).call(this,{type:"failed",failureCount:k,error:A})},onPause:()=>{ze(this,gs,mi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,Ln).canRun(this)}));const s=this.state.status==="pending",a=!I(this,Oa).canStart();try{if(s)n();else{ze(this,gs,mi).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=I(this,Ln).config).onMutate)==null?void 0:l.call(o,t,this,r));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));A!==this.state.context&&ze(this,gs,mi).call(this,{type:"pending",context:A,variables:t,isPaused:a})}const k=await I(this,Oa).start();return await((f=(d=I(this,Ln).config).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,this,r)),await((v=(h=this.options).onSuccess)==null?void 0:v.call(h,k,t,this.state.context,r)),await((x=(y=I(this,Ln).config).onSettled)==null?void 0:x.call(y,k,null,this.state.variables,this.state.context,this,r)),await((w=(b=this.options).onSettled)==null?void 0:w.call(b,k,null,t,this.state.context,r)),ze(this,gs,mi).call(this,{type:"success",data:k}),k}catch(k){try{throw await((p=(g=I(this,Ln).config).onError)==null?void 0:p.call(g,k,t,this.state.context,this,r)),await((N=(j=this.options).onError)==null?void 0:N.call(j,k,t,this.state.context,r)),await((P=(_=I(this,Ln).config).onSettled)==null?void 0:P.call(_,void 0,k,this.state.variables,this.state.context,this,r)),await((L=(C=this.options).onSettled)==null?void 0:L.call(C,void 0,k,t,this.state.context,r)),k}finally{ze(this,gs,mi).call(this,{type:"error",error:k})}}finally{I(this,Ln).runNext(this)}}},yu=new WeakMap,ps=new WeakMap,Ln=new WeakMap,Oa=new WeakMap,gs=new WeakSet,mi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),an.batch(()=>{I(this,ps).forEach(r=>{r.onMutationUpdate(t)}),I(this,Ln).notify({mutation:this,type:"updated",action:t})})},xj);function L2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bs,Qr,wu,vj,Z$=(vj=class extends Al{constructor(t={}){super();_e(this,Bs);_e(this,Qr);_e(this,wu);this.config=t,ue(this,Bs,new Set),ue(this,Qr,new Map),ue(this,wu,0)}build(t,n,r){const s=new Y$({client:t,mutationCache:this,mutationId:++Hu(this,wu)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){I(this,Bs).add(t);const n=gd(t);if(typeof n=="string"){const r=I(this,Qr).get(n);r?r.push(t):I(this,Qr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(I(this,Bs).delete(t)){const n=gd(t);if(typeof n=="string"){const r=I(this,Qr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&I(this,Qr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=gd(t);if(typeof n=="string"){const r=I(this,Qr).get(n),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=gd(t);if(typeof n=="string"){const s=(r=I(this,Qr).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){an.batch(()=>{I(this,Bs).forEach(t=>{this.notify({type:"removed",mutation:t})}),I(this,Bs).clear(),I(this,Qr).clear()})}getAll(){return Array.from(I(this,Bs))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>D0(n,r))}findAll(t={}){return this.getAll().filter(n=>D0(t,n))}notify(t){an.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return an.batch(()=>Promise.all(t.map(n=>n.continue().catch(Un))))}},Bs=new WeakMap,Qr=new WeakMap,wu=new WeakMap,vj);function gd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ws,ki,tr,Hs,Zs,zd,Qg,yj,X$=(yj=class extends Al{constructor(n,r){super();_e(this,Zs);_e(this,Ws);_e(this,ki);_e(this,tr);_e(this,Hs);ue(this,Ws,n),this.setOptions(r),this.bindMethods(),ze(this,Zs,zd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=I(this,Ws).defaultMutationOptions(n),Cf(this.options,r)||I(this,Ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:I(this,tr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&qa(r.mutationKey)!==qa(this.options.mutationKey)?this.reset():((s=I(this,tr))==null?void 0:s.state.status)==="pending"&&I(this,tr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=I(this,tr))==null||n.removeObserver(this)}onMutationUpdate(n){ze(this,Zs,zd).call(this),ze(this,Zs,Qg).call(this,n)}getCurrentResult(){return I(this,ki)}reset(){var n;(n=I(this,tr))==null||n.removeObserver(this),ue(this,tr,void 0),ze(this,Zs,zd).call(this),ze(this,Zs,Qg).call(this)}mutate(n,r){var s;return ue(this,Hs,r),(s=I(this,tr))==null||s.removeObserver(this),ue(this,tr,I(this,Ws).getMutationCache().build(I(this,Ws),this.options)),I(this,tr).addObserver(this),I(this,tr).execute(n)}},Ws=new WeakMap,ki=new WeakMap,tr=new WeakMap,Hs=new WeakMap,Zs=new WeakSet,zd=function(){var r;const n=((r=I(this,tr))==null?void 0:r.state)??L2();ue(this,ki,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Qg=function(n){an.batch(()=>{var r,s,a,o,l,c,u,d;if(I(this,Hs)&&this.hasListeners()){const f=I(this,ki).variables,h=I(this,ki).context,v={client:I(this,Ws),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=I(this,Hs)).onSuccess)==null||s.call(r,n.data,f,h,v),(o=(a=I(this,Hs)).onSettled)==null||o.call(a,n.data,null,f,h,v)):(n==null?void 0:n.type)==="error"&&((c=(l=I(this,Hs)).onError)==null||c.call(l,n.error,f,h,v),(d=(u=I(this,Hs)).onSettled)==null||d.call(u,void 0,n.error,f,h,v))}this.listeners.forEach(f=>{f(I(this,ki))})})},yj),xs,wj,J$=(wj=class extends Al{constructor(t={}){super();_e(this,xs);this.config=t,ue(this,xs,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??Ev(s,n);let o=this.get(a);return o||(o=new H$({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){I(this,xs).has(t.queryHash)||(I(this,xs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=I(this,xs).get(t.queryHash);n&&(t.destroy(),n===t&&I(this,xs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){an.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return I(this,xs).get(t)}getAll(){return[...I(this,xs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>O0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>O0(t,r)):n}notify(t){an.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){an.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xs=new WeakMap,wj),Lt,Pi,Ei,ul,dl,Ti,fl,hl,bj,e5=(bj=class{constructor(e={}){_e(this,Lt);_e(this,Pi);_e(this,Ei);_e(this,ul);_e(this,dl);_e(this,Ti);_e(this,fl);_e(this,hl);ue(this,Lt,e.queryCache||new J$),ue(this,Pi,e.mutationCache||new Z$),ue(this,Ei,e.defaultOptions||{}),ue(this,ul,new Map),ue(this,dl,new Map),ue(this,Ti,0)}mount(){Hu(this,Ti)._++,I(this,Ti)===1&&(ue(this,fl,Rv.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Lt).onFocus())})),ue(this,hl,_f.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Lt).onOnline())})))}unmount(){var e,t;Hu(this,Ti)._--,I(this,Ti)===0&&((e=I(this,fl))==null||e.call(this),ue(this,fl,void 0),(t=I(this,hl))==null||t.call(this),ue(this,hl,void 0))}isFetching(e){return I(this,Lt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return I(this,Pi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,Lt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=I(this,Lt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Bi(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return I(this,Lt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=I(this,Lt).get(r.queryHash),a=s==null?void 0:s.state.data,o=O$(t,a);if(o!==void 0)return I(this,Lt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return an.batch(()=>I(this,Lt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,Lt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=I(this,Lt);an.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=I(this,Lt);return an.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=an.batch(()=>I(this,Lt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Un).catch(Un)}invalidateQueries(e,t={}){return an.batch(()=>(I(this,Lt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=an.batch(()=>I(this,Lt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Un)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Un)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=I(this,Lt).build(this,t);return n.isStaleByTime(Bi(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Un).catch(Un)}fetchInfiniteQuery(e){return e.behavior=V0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Un).catch(Un)}ensureInfiniteQueryData(e){return e.behavior=V0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _f.isOnline()?I(this,Pi).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,Lt)}getMutationCache(){return I(this,Pi)}getDefaultOptions(){return I(this,Ei)}setDefaultOptions(e){ue(this,Ei,e)}setQueryDefaults(e,t){I(this,ul).set(qa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...I(this,ul).values()],n={};return t.forEach(r=>{Qc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){I(this,dl).set(qa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...I(this,dl).values()],n={};return t.forEach(r=>{Qc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...I(this,Ei).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ev(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Tv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...I(this,Ei).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){I(this,Lt).clear(),I(this,Pi).clear()}},Lt=new WeakMap,Pi=new WeakMap,Ei=new WeakMap,ul=new WeakMap,dl=new WeakMap,Ti=new WeakMap,fl=new WeakMap,hl=new WeakMap,bj),$2=m.createContext(void 0),Iv=e=>{const t=m.useContext($2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},t5=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx($2.Provider,{value:e,children:t})),z2=m.createContext(!1),n5=()=>m.useContext(z2);z2.Provider;function r5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var s5=m.createContext(r5()),i5=()=>m.useContext(s5),a5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},o5=e=>{m.useEffect(()=>{e.clearReset()},[e])},l5=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||A2(n,[e.error,r])),c5=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},u5=(e,t)=>e.isLoading&&e.isFetching&&!t,d5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,W0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function f5(e,t,n){var f,h,v,y,x;const r=n5(),s=i5(),a=Iv(),o=a.defaultQueryOptions(e);(h=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",c5(o),a5(o,s),o5(s);const l=!a.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(a,o)),u=c.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(b=>{const w=d?c.subscribe(an.batchCalls(b)):Un;return c.updateResult(),w},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o)},[o,c]),d5(o,u))throw W0(o,c,s);if(l5({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||y.call(v,o,u),o.experimental_prefetchInRender&&!Ha&&u5(u,r)){const b=l?W0(o,c,s):(x=a.getQueryCache().get(o.queryHash))==null?void 0:x.promise;b==null||b.catch(Un).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function jt(e,t){return f5(e,q$)}function ur(e,t){const n=Iv(),[r]=m.useState(()=>new X$(n,e));m.useEffect(()=>{r.setOptions(e)},[r,e]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(an.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=m.useCallback((o,l)=>{r.mutate(o,l).catch(Un)},[r]);if(s.error&&A2(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}async function U2(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ks(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await U2(r),r}const h5=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return await U2(n),await n.json()},vt=new e5({defaultOptions:{queries:{queryFn:h5({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),m5=1,p5=1e6;let ip=0;function g5(){return ip=(ip+1)%Number.MAX_SAFE_INTEGER,ip.toString()}const ap=new Map,H0=e=>{if(ap.has(e))return;const t=setTimeout(()=>{ap.delete(e),Cc({type:"REMOVE_TOAST",toastId:e})},p5);ap.set(e,t)},x5=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,m5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?H0(n):e.toasts.forEach(r=>{H0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ud=[];let Vd={toasts:[]};function Cc(e){Vd=x5(Vd,e),Ud.forEach(t=>{t(Vd)})}function v5({...e}){const t=g5(),n=s=>Cc({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Cc({type:"DISMISS_TOAST",toastId:t});return Cc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function gn(){const[e,t]=m.useState(Vd);return m.useEffect(()=>(Ud.push(t),()=>{const n=Ud.indexOf(t);n>-1&&Ud.splice(n,1)}),[e]),{...e,toast:v5,dismiss:n=>Cc({type:"DISMISS_TOAST",toastId:n})}}function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function q0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ph(...e){return t=>{let n=!1;const r=e.map(s=>{const a=q0(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():q0(e[s],null)}}}}function Ze(...e){return m.useCallback(Ph(...e),e)}function y5(e,t){const n=m.createContext(t),r=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(a){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Yn(e,t=[]){let n=[];function r(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];const u=f=>{var w;const{scope:h,children:v,...y}=f,x=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,b=m.useMemo(()=>y,Object.values(y));return i.jsx(x.Provider,{value:b,children:v})};u.displayName=a+"Provider";function d(f,h){var x;const v=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,y=m.useContext(v);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,w5(s,...t)]}function w5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ka(e){const t=b5(e),n=m.forwardRef((r,s)=>{const{children:a,...o}=r,l=m.Children.toArray(a),c=l.find(N5);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var V2=Ka("Slot");function b5(e){const t=m.forwardRef((n,r)=>{const{children:s,...a}=n;if(m.isValidElement(s)){const o=C5(s),l=S5(a,s.props);return s.type!==m.Fragment&&(l.ref=r?Ph(r,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var B2=Symbol("radix.slottable");function j5(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=B2,t}function N5(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===B2}function S5(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function C5(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Eh(e){const t=e+"CollectionProvider",[n,r]=Yn(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:b,children:w}=x,g=D.useRef(null),p=D.useRef(new Map).current;return i.jsx(s,{scope:b,itemMap:p,collectionRef:g,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=Ka(l),u=D.forwardRef((x,b)=>{const{scope:w,children:g}=x,p=a(l,w),j=Ze(b,p.collectionRef);return i.jsx(c,{ref:j,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ka(d),v=D.forwardRef((x,b)=>{const{scope:w,children:g,...p}=x,j=D.useRef(null),N=Ze(b,j),_=a(d,w);return D.useEffect(()=>(_.itemMap.set(j,{ref:j,...p}),()=>void _.itemMap.delete(j))),i.jsx(h,{[f]:"",ref:N,children:g})});v.displayName=d;function y(x){const b=a(e+"CollectionConsumer",x);return D.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const p=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((_,P)=>p.indexOf(_.ref.current)-p.indexOf(P.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,r]}var _5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=_5.reduce((e,t)=>{const n=Ka(`Primitive.${t}`),r=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Mv(e,t){e&&sa.flushSync(()=>e.dispatchEvent(t))}function qn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function k5(e,t=globalThis==null?void 0:globalThis.document){const n=qn(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var P5="DismissableLayer",Gg="dismissableLayer.update",E5="dismissableLayer.pointerDownOutside",T5="dismissableLayer.focusOutside",K0,W2=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Il=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(W2),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=m.useState({}),y=Ze(t,P=>f(P)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(b),g=d?x.indexOf(d):-1,p=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=w,N=A5(P=>{const C=P.target,L=[...u.branches].some(k=>k.contains(C));!j||L||(s==null||s(P),o==null||o(P),P.defaultPrevented||l==null||l())},h),_=I5(P=>{const C=P.target;[...u.branches].some(k=>k.contains(C))||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},h);return k5(P=>{g===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(K0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Q0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=K0)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Q0())},[d,u]),m.useEffect(()=>{const P=()=>v({});return document.addEventListener(Gg,P),()=>document.removeEventListener(Gg,P)},[]),i.jsx(Se.div,{...c,ref:y,style:{pointerEvents:p?j?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,_.onFocusCapture),onBlurCapture:re(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,N.onPointerDownCapture)})});Il.displayName=P5;var R5="DismissableLayerBranch",H2=m.forwardRef((e,t)=>{const n=m.useContext(W2),r=m.useRef(null),s=Ze(t,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(Se.div,{...e,ref:s})});H2.displayName=R5;function A5(e,t=globalThis==null?void 0:globalThis.document){const n=qn(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){q2(E5,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function I5(e,t=globalThis==null?void 0:globalThis.document){const n=qn(e),r=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!r.current&&q2(T5,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Q0(){const e=new CustomEvent(Gg);document.dispatchEvent(e)}function q2(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Mv(s,a):s.dispatchEvent(a)}var M5=Il,O5=H2,Jt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},D5="Portal",Ru=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=m.useState(!1);Jt(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?sF.createPortal(i.jsx(Se.div,{...r,ref:t}),o):null});Ru.displayName=D5;function F5(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Er=e=>{const{present:t,children:n}=e,r=L5(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=Ze(r.ref,$5(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:a}):null};Er.displayName="Presence";function L5(e){const[t,n]=m.useState(),r=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=F5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=xd(r.current);a.current=l==="mounted"?u:"none"},[l]),Jt(()=>{const u=r.current,d=s.current;if(d!==e){const h=a.current,v=xd(u);e?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Jt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=v=>{const x=xd(r.current).includes(CSS.escape(v.animationName));if(v.target===t&&x&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=v=>{v.target===t&&(a.current=xd(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function xd(e){return(e==null?void 0:e.animationName)||"none"}function $5(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var z5=Ex[" useInsertionEffect ".trim().toString()]||Jt;function Ps({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,o]=U5({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=m.useCallback(d=>{var f;if(l){const h=V5(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[l,e,a,o]);return[c,u]}function U5({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),s=m.useRef(n),a=m.useRef(t);return z5(()=>{a.current=t},[t]),m.useEffect(()=>{var o;s.current!==n&&((o=a.current)==null||o.call(a,n),s.current=n)},[n,s]),[n,r,a]}function V5(e){return typeof e=="function"}var K2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),B5="VisuallyHidden",Th=m.forwardRef((e,t)=>i.jsx(Se.span,{...e,ref:t,style:{...K2,...e.style}}));Th.displayName=B5;var W5=Th,Ov="ToastProvider",[Dv,H5,q5]=Eh("Toast"),[Q2]=Yn("Toast",[q5]),[K5,Rh]=Q2(Ov),G2=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ov}\`. Expected non-empty \`string\`.`),i.jsx(Dv.Provider,{scope:t,children:i.jsx(K5,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(v=>v+1),[]),onToastRemove:m.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};G2.displayName=Ov;var Y2="ToastViewport",Q5=["F8"],Yg="toast.viewportPause",Zg="toast.viewportResume",Z2=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Q5,label:s="Notifications ({hotkey})",...a}=e,o=Rh(Y2,n),l=H5(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=Ze(t,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;m.useEffect(()=>{const b=w=>{var p;r.length!==0&&r.every(j=>w[j]||w.code===j)&&((p=f.current)==null||p.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),m.useEffect(()=>{const b=c.current,w=f.current;if(y&&b&&w){const g=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(Yg);w.dispatchEvent(_),o.isClosePausedRef.current=!0}},p=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(Zg);w.dispatchEvent(_),o.isClosePausedRef.current=!1}},j=_=>{!b.contains(_.relatedTarget)&&p()},N=()=>{b.contains(document.activeElement)||p()};return b.addEventListener("focusin",g),b.addEventListener("focusout",j),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",N),window.addEventListener("blur",g),window.addEventListener("focus",p),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",g),window.removeEventListener("focus",p)}}},[y,o.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:b})=>{const g=l().map(p=>{const j=p.ref.current,N=[j,...oz(j)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?g.reverse():g).flat()},[l]);return m.useEffect(()=>{const b=f.current;if(b){const w=g=>{var N,_,P;const p=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!p){const C=document.activeElement,L=g.shiftKey;if(g.target===b&&L){(N=u.current)==null||N.focus();return}const E=x({tabbingDirection:L?"backwards":"forwards"}),M=E.findIndex(T=>T===C);op(E.slice(M+1))?g.preventDefault():L?(_=u.current)==null||_.focus():(P=d.current)==null||P.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[l,x]),i.jsxs(O5,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&i.jsx(Xg,{ref:u,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});op(b)}}),i.jsx(Dv.Slot,{scope:n,children:i.jsx(Se.ol,{tabIndex:-1,...a,ref:h})}),y&&i.jsx(Xg,{ref:d,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});op(b)}})]})});Z2.displayName=Y2;var X2="ToastFocusProxy",Xg=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=Rh(X2,n);return i.jsx(Th,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});Xg.displayName=X2;var Au="Toast",G5="toast.swipeStart",Y5="toast.swipeMove",Z5="toast.swipeCancel",X5="toast.swipeEnd",J2=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=Ps({prop:r,defaultProp:s??!0,onChange:a,caller:Au});return i.jsx(Er,{present:n||l,children:i.jsx(tz,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:qn(e.onPause),onResume:qn(e.onResume),onSwipeStart:re(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:re(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});J2.displayName=Au;var[J5,ez]=Q2(Au,{onClose(){}}),tz=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:v,...y}=e,x=Rh(Au,n),[b,w]=m.useState(null),g=Ze(t,T=>w(T)),p=m.useRef(null),j=m.useRef(null),N=s||x.duration,_=m.useRef(0),P=m.useRef(N),C=m.useRef(0),{onToastAdd:L,onToastRemove:k}=x,A=qn(()=>{var q;(b==null?void 0:b.contains(document.activeElement))&&((q=x.viewport)==null||q.focus()),o()}),E=m.useCallback(T=>{!T||T===1/0||(window.clearTimeout(C.current),_.current=new Date().getTime(),C.current=window.setTimeout(A,T))},[A]);m.useEffect(()=>{const T=x.viewport;if(T){const q=()=>{E(P.current),u==null||u()},W=()=>{const H=new Date().getTime()-_.current;P.current=P.current-H,window.clearTimeout(C.current),c==null||c()};return T.addEventListener(Yg,W),T.addEventListener(Zg,q),()=>{T.removeEventListener(Yg,W),T.removeEventListener(Zg,q)}}},[x.viewport,N,c,u,E]),m.useEffect(()=>{a&&!x.isClosePausedRef.current&&E(N)},[a,N,x.isClosePausedRef,E]),m.useEffect(()=>(L(),()=>k()),[L,k]);const M=m.useMemo(()=>b?aP(b):null,[b]);return x.viewport?i.jsxs(i.Fragment,{children:[M&&i.jsx(nz,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:M}),i.jsx(J5,{scope:n,onClose:A,children:sa.createPortal(i.jsx(Dv.ItemSlot,{scope:n,children:i.jsx(M5,{asChild:!0,onEscapeKeyDown:re(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||A(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Se.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:re(e.onPointerDown,T=>{T.button===0&&(p.current={x:T.clientX,y:T.clientY})}),onPointerMove:re(e.onPointerMove,T=>{if(!p.current)return;const q=T.clientX-p.current.x,W=T.clientY-p.current.y,H=!!j.current,S=["left","right"].includes(x.swipeDirection),F=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Q=S?F(0,q):0,J=S?0:F(0,W),be=T.pointerType==="touch"?10:2,He={x:Q,y:J},De={originalEvent:T,delta:He};H?(j.current=He,vd(Y5,f,De,{discrete:!1})):G0(He,x.swipeDirection,be)?(j.current=He,vd(G5,d,De,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(q)>be||Math.abs(W)>be)&&(p.current=null)}),onPointerUp:re(e.onPointerUp,T=>{const q=j.current,W=T.target;if(W.hasPointerCapture(T.pointerId)&&W.releasePointerCapture(T.pointerId),j.current=null,p.current=null,q){const H=T.currentTarget,S={originalEvent:T,delta:q};G0(q,x.swipeDirection,x.swipeThreshold)?vd(X5,v,S,{discrete:!0}):vd(Z5,h,S,{discrete:!0}),H.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),nz=e=>{const{__scopeToast:t,children:n,...r}=e,s=Rh(Au,t),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return iz(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Ru,{asChild:!0,children:i.jsx(Th,{...r,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},rz="ToastTitle",eP=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Se.div,{...r,ref:t})});eP.displayName=rz;var sz="ToastDescription",tP=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Se.div,{...r,ref:t})});tP.displayName=sz;var nP="ToastAction",rP=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(iP,{altText:n,asChild:!0,children:i.jsx(Fv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${nP}\`. Expected non-empty \`string\`.`),null)});rP.displayName=nP;var sP="ToastClose",Fv=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=ez(sP,n);return i.jsx(iP,{asChild:!0,children:i.jsx(Se.button,{type:"button",...r,ref:t,onClick:re(e.onClick,s.onClose)})})});Fv.displayName=sP;var iP=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function aP(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),az(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...aP(r))}}),t}function vd(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Mv(s,a):s.dispatchEvent(a)}var G0=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function iz(e=()=>{}){const t=qn(e);Jt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function az(e){return e.nodeType===e.ELEMENT_NODE}function oz(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function op(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var lz=G2,oP=Z2,lP=J2,cP=eP,uP=tP,dP=rP,fP=Fv;function hP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=hP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function mP(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=hP(e))&&(r&&(r+=" "),r+=t);return r}const Y0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Z0=mP,Ml=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Z0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const h=Y0(d)||Y0(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...v}=d;return Object.entries(v).every(y=>{let[x,b]=y;return Array.isArray(b)?b.includes({...a,...l}[x]):{...a,...l}[x]===b})?[...u,f,h]:u},[]);return Z0(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pP=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...uz,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:pP("lucide",s),...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=m.forwardRef(({className:r,...s},a)=>m.createElement(dz,{ref:a,iconNode:t,className:pP(`lucide-${cz(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=fe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=fe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=fe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=fe("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=fe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=fe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=fe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=fe("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=fe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=fe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=fe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=fe("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=fe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=fe("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=fe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=fe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=fe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=fe("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=fe("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=fe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=fe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=fe("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=fe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=fe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=fe("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=fe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=fe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=fe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=fe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=fe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),zv="-",Kz=e=>{const t=Gz(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(zv);return l[0]===""&&l.length!==1&&l.shift(),NP(l,t)||Qz(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},NP=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?NP(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(zv);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},rb=/^\[(.+)\]$/,Qz=e=>{if(rb.test(e)){const t=rb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Gz=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Zz(Object.entries(e.classGroups),n).forEach(([a,o])=>{ex(o,r,a,t)}),r},ex=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:sb(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(Yz(s)){ex(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{ex(o,sb(t,a),n,r)})})},sb=(e,t)=>{let n=e;return t.split(zv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Yz=e=>e.isThemeGetter,Zz=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,Xz=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},SP="!",Jz=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let w=l[b];if(u===0){if(w===s&&(r||l.slice(b,b+a)===t)){c.push(l.slice(d,b)),d=b+a;continue}if(w==="/"){f=b;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(d),v=h.startsWith(SP),y=v?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:o}):o},eU=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},tU=e=>({cache:Xz(e.cacheSize),parseClassName:Jz(e),...Kz(e)}),nU=/\s+/,rU=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(nU);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:v}=n(u);let y=!!v,x=r(y?h.substring(0,v):h);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=r(h),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const b=eU(d).join(":"),w=f?b+SP:b,g=w+x;if(a.includes(g))continue;a.push(g);const p=s(x,y);for(let j=0;j<p.length;++j){const N=p[j];a.push(w+N)}l=u+(l.length>0?" "+l:l)}return l};function sU(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=CP(t))&&(r&&(r+=" "),r+=n);return r}const CP=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=CP(e[r]))&&(n&&(n+=" "),n+=t);return n};function iU(e,...t){let n,r,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=tU(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=rU(c,n);return s(c,d),d}return function(){return a(sU.apply(null,arguments))}}const St=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},_P=/^\[(?:([a-z-]+):)?(.+)\]$/i,aU=/^\d+\/\d+$/,oU=new Set(["px","full","screen"]),lU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ms=e=>Qo(e)||oU.has(e)||aU.test(e),ci=e=>Ol(e,"length",wU),Qo=e=>!!e&&!Number.isNaN(Number(e)),cp=e=>Ol(e,"number",Qo),Xl=e=>!!e&&Number.isInteger(Number(e)),hU=e=>e.endsWith("%")&&Qo(e.slice(0,-1)),$e=e=>_P.test(e),ui=e=>lU.test(e),mU=new Set(["length","size","percentage"]),pU=e=>Ol(e,mU,kP),gU=e=>Ol(e,"position",kP),xU=new Set(["image","url"]),vU=e=>Ol(e,xU,jU),yU=e=>Ol(e,"",bU),Jl=()=>!0,Ol=(e,t,n)=>{const r=_P.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},wU=e=>cU.test(e)&&!uU.test(e),kP=()=>!1,bU=e=>dU.test(e),jU=e=>fU.test(e),NU=()=>{const e=St("colors"),t=St("spacing"),n=St("blur"),r=St("brightness"),s=St("borderColor"),a=St("borderRadius"),o=St("borderSpacing"),l=St("borderWidth"),c=St("contrast"),u=St("grayscale"),d=St("hueRotate"),f=St("invert"),h=St("gap"),v=St("gradientColorStops"),y=St("gradientColorStopPositions"),x=St("inset"),b=St("margin"),w=St("opacity"),g=St("padding"),p=St("saturate"),j=St("scale"),N=St("sepia"),_=St("skew"),P=St("space"),C=St("translate"),L=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",$e,t],E=()=>[$e,t],M=()=>["",Ms,ci],T=()=>["auto",Qo,$e],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",$e],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Qo,$e];return{cacheSize:500,separator:":",theme:{colors:[Jl],spacing:[Ms,ci],blur:["none","",ui,$e],brightness:J(),borderColor:[e],borderRadius:["none","","full",ui,$e],borderSpacing:E(),borderWidth:M(),contrast:J(),grayscale:F(),hueRotate:J(),invert:F(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[hU,ci],inset:A(),margin:A(),opacity:J(),padding:E(),saturate:J(),scale:J(),sepia:F(),skew:J(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[ui]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),$e]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xl,$e]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Xl,$e]}],"grid-cols":[{"grid-cols":[Jl]}],"col-start-end":[{col:["auto",{span:["full",Xl,$e]},$e]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[Jl]}],"row-start-end":[{row:["auto",{span:[Xl,$e]},$e]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,t]}],"min-w":[{"min-w":[$e,t,"min","max","fit"]}],"max-w":[{"max-w":[$e,t,"none","full","min","max","fit","prose",{screen:[ui]},ui]}],h:[{h:[$e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ui,ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cp]}],"font-family":[{font:[Jl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Qo,cp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ms,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ms,ci]}],"underline-offset":[{"underline-offset":["auto",Ms,$e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),gU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vU]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Ms,$e]}],"outline-w":[{outline:[Ms,ci]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ms,ci]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ui,yU]}],"shadow-color":[{shadow:[Jl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ui,$e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[p]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Xl,$e]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ms,ci,cp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SU=iU(NU);function de(...e){return SU(mP(e))}const CU=lz,PP=m.forwardRef(({className:e,...t},n)=>i.jsx(oP,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));PP.displayName=oP.displayName;const _U=Ml("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),EP=m.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(lP,{ref:r,className:de(_U({variant:t}),e),...n}));EP.displayName=lP.displayName;const kU=m.forwardRef(({className:e,...t},n)=>i.jsx(dP,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));kU.displayName=dP.displayName;const TP=m.forwardRef(({className:e,...t},n)=>i.jsx(fP,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Lr,{className:"h-4 w-4"})}));TP.displayName=fP.displayName;const RP=m.forwardRef(({className:e,...t},n)=>i.jsx(cP,{ref:n,className:de("text-sm font-semibold",e),...t}));RP.displayName=cP.displayName;const AP=m.forwardRef(({className:e,...t},n)=>i.jsx(uP,{ref:n,className:de("text-sm opacity-90",e),...t}));AP.displayName=uP.displayName;function PU(){const{toasts:e}=gn();return i.jsxs(CU,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return i.jsxs(EP,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(RP,{children:n}),r&&i.jsx(AP,{children:r})]}),s,i.jsx(TP,{})]},t)}),i.jsx(PP,{})]})}var EU=Ex[" useId ".trim().toString()]||(()=>{}),TU=0;function ss(e){const[t,n]=m.useState(EU());return Jt(()=>{n(r=>r??String(TU++))},[e]),t?`radix-${t}`:""}const RU=["top","right","bottom","left"],Qi=Math.min,wr=Math.max,Rf=Math.round,yd=Math.floor,Cs=e=>({x:e,y:e}),AU={left:"right",right:"left",bottom:"top",top:"bottom"},IU={start:"end",end:"start"};function tx(e,t,n){return wr(e,Qi(t,n))}function ri(e,t){return typeof e=="function"?e(t):e}function si(e){return e.split("-")[0]}function Dl(e){return e.split("-")[1]}function Uv(e){return e==="x"?"y":"x"}function Vv(e){return e==="y"?"height":"width"}const MU=new Set(["top","bottom"]);function bs(e){return MU.has(si(e))?"y":"x"}function Bv(e){return Uv(bs(e))}function OU(e,t,n){n===void 0&&(n=!1);const r=Dl(e),s=Bv(e),a=Vv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Af(o)),[o,Af(o)]}function DU(e){const t=Af(e);return[nx(e),t,nx(t)]}function nx(e){return e.replace(/start|end/g,t=>IU[t])}const ib=["left","right"],ab=["right","left"],FU=["top","bottom"],LU=["bottom","top"];function $U(e,t,n){switch(e){case"top":case"bottom":return n?t?ab:ib:t?ib:ab;case"left":case"right":return t?FU:LU;default:return[]}}function zU(e,t,n,r){const s=Dl(e);let a=$U(si(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(nx)))),a}function Af(e){return e.replace(/left|right|bottom|top/g,t=>AU[t])}function UU(e){return{top:0,right:0,bottom:0,left:0,...e}}function IP(e){return typeof e!="number"?UU(e):{top:e,right:e,bottom:e,left:e}}function If(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function ob(e,t,n){let{reference:r,floating:s}=e;const a=bs(t),o=Bv(t),l=Vv(o),c=si(t),u=a==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let v;switch(c){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(Dl(t)){case"start":v[o]-=h*(n&&u?-1:1);break;case"end":v[o]+=h*(n&&u?-1:1);break}return v}const VU=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=ob(u,r,c),h=r,v={},y=0;for(let x=0;x<l.length;x++){const{name:b,fn:w}=l[x],{x:g,y:p,data:j,reset:N}=await w({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=p??f,v={...v,[b]:{...v[b],...j}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:f}=ob(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:v}};async function Zc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:v=0}=ri(t,e),y=IP(v),b=l[h?f==="floating"?"reference":"floating":f],w=If(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,p=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(p))?await(a.getScale==null?void 0:a.getScale(p))||{x:1,y:1}:{x:1,y:1},N=If(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:p,strategy:c}):g);return{top:(w.top-N.top+y.top)/j.y,bottom:(N.bottom-w.bottom+y.bottom)/j.y,left:(w.left-N.left+y.left)/j.x,right:(N.right-w.right+y.right)/j.x}}const BU=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ri(e,t)||{};if(u==null)return{};const f=IP(d),h={x:n,y:r},v=Bv(s),y=Vv(v),x=await o.getDimensions(u),b=v==="y",w=b?"top":"left",g=b?"bottom":"right",p=b?"clientHeight":"clientWidth",j=a.reference[y]+a.reference[v]-h[v]-a.floating[y],N=h[v]-a.reference[v],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=_?_[p]:0;(!P||!await(o.isElement==null?void 0:o.isElement(_)))&&(P=l.floating[p]||a.floating[y]);const C=j/2-N/2,L=P/2-x[y]/2-1,k=Qi(f[w],L),A=Qi(f[g],L),E=k,M=P-x[y]-A,T=P/2-x[y]/2+C,q=tx(E,T,M),W=!c.arrow&&Dl(s)!=null&&T!==q&&a.reference[y]/2-(T<E?k:A)-x[y]/2<0,H=W?T<E?T-E:T-M:0;return{[v]:h[v]+H,data:{[v]:q,centerOffset:T-q-H,...W&&{alignmentOffset:H}},reset:W}}}),WU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...b}=ri(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const w=si(s),g=bs(l),p=si(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(p||!x?[Af(l)]:DU(l)),_=y!=="none";!h&&_&&N.push(...zU(l,x,y,j));const P=[l,...N],C=await Zc(t,b),L=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&L.push(C[w]),f){const T=OU(s,o,j);L.push(C[T[0]],C[T[1]])}if(k=[...k,{placement:s,overflows:L}],!L.every(T=>T<=0)){var A,E;const T=(((A=a.flip)==null?void 0:A.index)||0)+1,q=P[T];if(q&&(!(f==="alignment"?g!==bs(q):!1)||k.every(S=>bs(S.placement)===g?S.overflows[0]>0:!0)))return{data:{index:T,overflows:k},reset:{placement:q}};let W=(E=k.filter(H=>H.overflows[0]<=0).sort((H,S)=>H.overflows[1]-S.overflows[1])[0])==null?void 0:E.placement;if(!W)switch(v){case"bestFit":{var M;const H=(M=k.filter(S=>{if(_){const F=bs(S.placement);return F===g||F==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(F=>F>0).reduce((F,Q)=>F+Q,0)]).sort((S,F)=>S[1]-F[1])[0])==null?void 0:M[0];H&&(W=H);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function lb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cb(e){return RU.some(t=>e[t]>=0)}const HU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=ri(e,t);switch(r){case"referenceHidden":{const a=await Zc(t,{...s,elementContext:"reference"}),o=lb(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cb(o)}}}case"escaped":{const a=await Zc(t,{...s,altBoundary:!0}),o=lb(a,n.floating);return{data:{escapedOffsets:o,escaped:cb(o)}}}default:return{}}}}},MP=new Set(["left","top"]);async function qU(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=si(n),l=Dl(n),c=bs(n)==="y",u=MP.has(o)?-1:1,d=a&&c?-1:1,f=ri(t,e);let{mainAxis:h,crossAxis:v,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(v=l==="end"?y*-1:y),c?{x:v*d,y:h*u}:{x:h*u,y:v*d}}const KU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await qU(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},QU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:w,y:g}=b;return{x:w,y:g}}},...c}=ri(e,t),u={x:n,y:r},d=await Zc(t,c),f=bs(si(s)),h=Uv(f);let v=u[h],y=u[f];if(a){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",g=v+d[b],p=v-d[w];v=tx(g,v,p)}if(o){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",g=y+d[b],p=y-d[w];y=tx(g,y,p)}const x=l.fn({...t,[h]:v,[f]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:a,[f]:o}}}}}},GU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ri(e,t),d={x:n,y:r},f=bs(s),h=Uv(f);let v=d[h],y=d[f];const x=ri(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const p=h==="y"?"height":"width",j=a.reference[h]-a.floating[p]+b.mainAxis,N=a.reference[h]+a.reference[p]-b.mainAxis;v<j?v=j:v>N&&(v=N)}if(u){var w,g;const p=h==="y"?"width":"height",j=MP.has(si(s)),N=a.reference[f]-a.floating[p]+(j&&((w=o.offset)==null?void 0:w[f])||0)+(j?0:b.crossAxis),_=a.reference[f]+a.reference[p]+(j?0:((g=o.offset)==null?void 0:g[f])||0)-(j?b.crossAxis:0);y<N?y=N:y>_&&(y=_)}return{[h]:v,[f]:y}}}},YU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=ri(e,t),d=await Zc(t,u),f=si(s),h=Dl(s),v=bs(s)==="y",{width:y,height:x}=a.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,b=h==="end"?"top":"bottom");const g=x-d.top-d.bottom,p=y-d.left-d.right,j=Qi(x-d[b],g),N=Qi(y-d[w],p),_=!t.middlewareData.shift;let P=j,C=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=p),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(P=g),_&&!h){const k=wr(d.left,0),A=wr(d.right,0),E=wr(d.top,0),M=wr(d.bottom,0);v?C=y-2*(k!==0||A!==0?k+A:wr(d.left,d.right)):P=x-2*(E!==0||M!==0?E+M:wr(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:P});const L=await o.getDimensions(l.floating);return y!==L.width||x!==L.height?{reset:{rects:!0}}:{}}}};function Ih(){return typeof window<"u"}function Fl(e){return OP(e)?(e.nodeName||"").toLowerCase():"#document"}function Sr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Is(e){var t;return(t=(OP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function OP(e){return Ih()?e instanceof Node||e instanceof Sr(e).Node:!1}function os(e){return Ih()?e instanceof Element||e instanceof Sr(e).Element:!1}function Es(e){return Ih()?e instanceof HTMLElement||e instanceof Sr(e).HTMLElement:!1}function ub(e){return!Ih()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Sr(e).ShadowRoot}const ZU=new Set(["inline","contents"]);function Iu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=ls(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!ZU.has(s)}const XU=new Set(["table","td","th"]);function JU(e){return XU.has(Fl(e))}const e6=[":popover-open",":modal"];function Mh(e){return e6.some(t=>{try{return e.matches(t)}catch{return!1}})}const t6=["transform","translate","scale","rotate","perspective"],n6=["transform","translate","scale","rotate","perspective","filter"],r6=["paint","layout","strict","content"];function Wv(e){const t=Hv(),n=os(e)?ls(e):e;return t6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||n6.some(r=>(n.willChange||"").includes(r))||r6.some(r=>(n.contain||"").includes(r))}function s6(e){let t=Gi(e);for(;Es(t)&&!Nl(t);){if(Wv(t))return t;if(Mh(t))return null;t=Gi(t)}return null}function Hv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const i6=new Set(["html","body","#document"]);function Nl(e){return i6.has(Fl(e))}function ls(e){return Sr(e).getComputedStyle(e)}function Oh(e){return os(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Gi(e){if(Fl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ub(e)&&e.host||Is(e);return ub(t)?t.host:t}function DP(e){const t=Gi(e);return Nl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Es(t)&&Iu(t)?t:DP(t)}function Xc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=DP(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=Sr(s);if(a){const l=rx(o);return t.concat(o,o.visualViewport||[],Iu(s)?s:[],l&&n?Xc(l):[])}return t.concat(s,Xc(s,[],n))}function rx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FP(e){const t=ls(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Es(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=Rf(n)!==a||Rf(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function qv(e){return os(e)?e:e.contextElement}function Go(e){const t=qv(e);if(!Es(t))return Cs(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=FP(t);let o=(a?Rf(n.width):n.width)/r,l=(a?Rf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const a6=Cs(0);function LP(e){const t=Sr(e);return!Hv()||!t.visualViewport?a6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function o6(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Sr(e)?!1:t}function Ga(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=qv(e);let o=Cs(1);t&&(r?os(r)&&(o=Go(r)):o=Go(e));const l=o6(a,n,r)?LP(a):Cs(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=Sr(a),v=r&&os(r)?Sr(r):r;let y=h,x=rx(y);for(;x&&r&&v!==y;){const b=Go(x),w=x.getBoundingClientRect(),g=ls(x),p=w.left+(x.clientLeft+parseFloat(g.paddingLeft))*b.x,j=w.top+(x.clientTop+parseFloat(g.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=p,u+=j,y=Sr(x),x=rx(y)}}return If({width:d,height:f,x:c,y:u})}function Dh(e,t){const n=Oh(e).scrollLeft;return t?t.left+n:Ga(Is(e)).left+n}function $P(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Dh(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function l6(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=Is(r),l=t?Mh(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Cs(1);const d=Cs(0),f=Es(r);if((f||!f&&!a)&&((Fl(r)!=="body"||Iu(o))&&(c=Oh(r)),Es(r))){const v=Ga(r);u=Go(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const h=o&&!f&&!a?$P(o,c):Cs(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function c6(e){return Array.from(e.getClientRects())}function u6(e){const t=Is(e),n=Oh(e),r=e.ownerDocument.body,s=wr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=wr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Dh(e);const l=-n.scrollTop;return ls(r).direction==="rtl"&&(o+=wr(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:l}}const db=25;function d6(e,t){const n=Sr(e),r=Is(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=Hv();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Dh(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),v=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-v);y<=db&&(a-=y)}else u<=db&&(a+=u);return{width:a,height:o,x:l,y:c}}const f6=new Set(["absolute","fixed"]);function h6(e,t){const n=Ga(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Es(e)?Go(e):Cs(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function fb(e,t,n){let r;if(t==="viewport")r=d6(e,n);else if(t==="document")r=u6(Is(e));else if(os(t))r=h6(t,n);else{const s=LP(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return If(r)}function zP(e,t){const n=Gi(e);return n===t||!os(n)||Nl(n)?!1:ls(n).position==="fixed"||zP(n,t)}function m6(e,t){const n=t.get(e);if(n)return n;let r=Xc(e,[],!1).filter(l=>os(l)&&Fl(l)!=="body"),s=null;const a=ls(e).position==="fixed";let o=a?Gi(e):e;for(;os(o)&&!Nl(o);){const l=ls(o),c=Wv(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&f6.has(s.position)||Iu(o)&&!c&&zP(e,o))?r=r.filter(d=>d!==o):s=l,o=Gi(o)}return t.set(e,r),r}function p6(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Mh(t)?[]:m6(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=fb(t,d,s);return u.top=wr(f.top,u.top),u.right=Qi(f.right,u.right),u.bottom=Qi(f.bottom,u.bottom),u.left=wr(f.left,u.left),u},fb(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function g6(e){const{width:t,height:n}=FP(e);return{width:t,height:n}}function x6(e,t,n){const r=Es(t),s=Is(t),a=n==="fixed",o=Ga(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Cs(0);function u(){c.x=Dh(s)}if(r||!r&&!a)if((Fl(t)!=="body"||Iu(s))&&(l=Oh(t)),r){const v=Ga(t,!0,a,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else s&&u();a&&!r&&s&&u();const d=s&&!r&&!a?$P(s,l):Cs(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function up(e){return ls(e).position==="static"}function hb(e,t){if(!Es(e)||ls(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Is(e)===n&&(n=n.ownerDocument.body),n}function UP(e,t){const n=Sr(e);if(Mh(e))return n;if(!Es(e)){let s=Gi(e);for(;s&&!Nl(s);){if(os(s)&&!up(s))return s;s=Gi(s)}return n}let r=hb(e,t);for(;r&&JU(r)&&up(r);)r=hb(r,t);return r&&Nl(r)&&up(r)&&!Wv(r)?n:r||s6(e)||n}const v6=async function(e){const t=this.getOffsetParent||UP,n=this.getDimensions,r=await n(e.floating);return{reference:x6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function y6(e){return ls(e).direction==="rtl"}const w6={convertOffsetParentRelativeRectToViewportRelativeRect:l6,getDocumentElement:Is,getClippingRect:p6,getOffsetParent:UP,getElementRects:v6,getClientRects:c6,getDimensions:g6,getScale:Go,isElement:os,isRTL:y6};function VP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function b6(e,t){let n=null,r;const s=Is(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:v}=u;if(l||t(),!h||!v)return;const y=yd(f),x=yd(s.clientWidth-(d+h)),b=yd(s.clientHeight-(f+v)),w=yd(d),p={rootMargin:-y+"px "+-x+"px "+-b+"px "+-w+"px",threshold:wr(0,Qi(1,c))||1};let j=!0;function N(_){const P=_[0].intersectionRatio;if(P!==c){if(!j)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!VP(u,e.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(N,{...p,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,p)}n.observe(e)}return o(!0),a}function j6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=qv(e),d=s||a?[...u?Xc(u):[],...Xc(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),a&&w.addEventListener("resize",n)});const f=u&&l?b6(u,n):null;let h=-1,v=null;o&&(v=new ResizeObserver(w=>{let[g]=w;g&&g.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var p;(p=v)==null||p.observe(t)})),n()}),u&&!c&&v.observe(u),v.observe(t));let y,x=c?Ga(e):null;c&&b();function b(){const w=Ga(e);x&&!VP(x,w)&&n(),x=w,y=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(g=>{s&&g.removeEventListener("scroll",n),a&&g.removeEventListener("resize",n)}),f==null||f(),(w=v)==null||w.disconnect(),v=null,c&&cancelAnimationFrame(y)}}const N6=KU,S6=QU,C6=WU,_6=YU,k6=HU,mb=BU,P6=GU,E6=(e,t,n)=>{const r=new Map,s={platform:w6,...n},a={...s.platform,_c:r};return VU(e,t,{...s,platform:a})};var T6=typeof document<"u",R6=function(){},Wd=T6?m.useLayoutEffect:R6;function Mf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Mf(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Mf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function BP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pb(e,t){const n=BP(e);return Math.round(t*n)/n}function dp(e){const t=m.useRef(e);return Wd(()=>{t.current=e}),t}function A6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,v]=m.useState(r);Mf(h,r)||v(r);const[y,x]=m.useState(null),[b,w]=m.useState(null),g=m.useCallback(S=>{S!==_.current&&(_.current=S,x(S))},[]),p=m.useCallback(S=>{S!==P.current&&(P.current=S,w(S))},[]),j=a||y,N=o||b,_=m.useRef(null),P=m.useRef(null),C=m.useRef(d),L=c!=null,k=dp(c),A=dp(s),E=dp(u),M=m.useCallback(()=>{if(!_.current||!P.current)return;const S={placement:t,strategy:n,middleware:h};A.current&&(S.platform=A.current),E6(_.current,P.current,S).then(F=>{const Q={...F,isPositioned:E.current!==!1};T.current&&!Mf(C.current,Q)&&(C.current=Q,sa.flushSync(()=>{f(Q)}))})},[h,t,n,A,E]);Wd(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[u]);const T=m.useRef(!1);Wd(()=>(T.current=!0,()=>{T.current=!1}),[]),Wd(()=>{if(j&&(_.current=j),N&&(P.current=N),j&&N){if(k.current)return k.current(j,N,M);M()}},[j,N,M,k,L]);const q=m.useMemo(()=>({reference:_,floating:P,setReference:g,setFloating:p}),[g,p]),W=m.useMemo(()=>({reference:j,floating:N}),[j,N]),H=m.useMemo(()=>{const S={position:n,left:0,top:0};if(!W.floating)return S;const F=pb(W.floating,d.x),Q=pb(W.floating,d.y);return l?{...S,transform:"translate("+F+"px, "+Q+"px)",...BP(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:Q}},[n,l,W.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:M,refs:q,elements:W,floatingStyles:H}),[d,M,q,W,H])}const I6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?mb({element:r.current,padding:s}).fn(n):{}:r?mb({element:r,padding:s}).fn(n):{}}}},M6=(e,t)=>({...N6(e),options:[e,t]}),O6=(e,t)=>({...S6(e),options:[e,t]}),D6=(e,t)=>({...P6(e),options:[e,t]}),F6=(e,t)=>({...C6(e),options:[e,t]}),L6=(e,t)=>({..._6(e),options:[e,t]}),$6=(e,t)=>({...k6(e),options:[e,t]}),z6=(e,t)=>({...I6(e),options:[e,t]});var U6="Arrow",WP=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return i.jsx(Se.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});WP.displayName=U6;var V6=WP;function Kv(e){const[t,n]=m.useState(void 0);return Jt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Qv="Popper",[HP,Ll]=Yn(Qv),[B6,qP]=HP(Qv),KP=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return i.jsx(B6,{scope:t,anchor:r,onAnchorChange:s,children:n})};KP.displayName=Qv;var QP="PopperAnchor",GP=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=qP(QP,n),o=m.useRef(null),l=Ze(t,o),c=m.useRef(null);return m.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),r?null:i.jsx(Se.div,{...s,ref:l})});GP.displayName=QP;var Gv="PopperContent",[W6,H6]=HP(Gv),YP=m.forwardRef((e,t)=>{var ve,Ge,et,Te,Ae,We;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=e,b=qP(Gv,n),[w,g]=m.useState(null),p=Ze(t,Oe=>g(Oe)),[j,N]=m.useState(null),_=Kv(j),P=(_==null?void 0:_.width)??0,C=(_==null?void 0:_.height)??0,L=r+(a!=="center"?"-"+a:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],E=A.length>0,M={padding:k,boundary:A.filter(K6),altBoundary:E},{refs:T,floatingStyles:q,placement:W,isPositioned:H,middlewareData:S}=A6({strategy:"fixed",placement:L,whileElementsMounted:(...Oe)=>j6(...Oe,{animationFrame:v==="always"}),elements:{reference:b.anchor},middleware:[M6({mainAxis:s+C,alignmentAxis:o}),c&&O6({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?D6():void 0,...M}),c&&F6({...M}),L6({...M,apply:({elements:Oe,rects:Ie,availableWidth:gt,availableHeight:it})=>{const{width:Ht,height:fr}=Ie.reference,dt=Oe.floating.style;dt.setProperty("--radix-popper-available-width",`${gt}px`),dt.setProperty("--radix-popper-available-height",`${it}px`),dt.setProperty("--radix-popper-anchor-width",`${Ht}px`),dt.setProperty("--radix-popper-anchor-height",`${fr}px`)}}),j&&z6({element:j,padding:l}),Q6({arrowWidth:P,arrowHeight:C}),h&&$6({strategy:"referenceHidden",...M})]}),[F,Q]=JP(W),J=qn(y);Jt(()=>{H&&(J==null||J())},[H,J]);const be=(ve=S.arrow)==null?void 0:ve.x,He=(Ge=S.arrow)==null?void 0:Ge.y,De=((et=S.arrow)==null?void 0:et.centerOffset)!==0,[yt,st]=m.useState();return Jt(()=>{w&&st(window.getComputedStyle(w).zIndex)},[w]),i.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:H?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:yt,"--radix-popper-transform-origin":[(Te=S.transformOrigin)==null?void 0:Te.x,(Ae=S.transformOrigin)==null?void 0:Ae.y].join(" "),...((We=S.hide)==null?void 0:We.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(W6,{scope:n,placedSide:F,onArrowChange:N,arrowX:be,arrowY:He,shouldHideArrow:De,children:i.jsx(Se.div,{"data-side":F,"data-align":Q,...x,ref:p,style:{...x.style,animation:H?void 0:"none"}})})})});YP.displayName=Gv;var ZP="PopperArrow",q6={top:"bottom",right:"left",bottom:"top",left:"right"},XP=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=H6(ZP,r),o=q6[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(V6,{...s,ref:n,style:{...s.style,display:"block"}})})});XP.displayName=ZP;function K6(e){return e!==null}var Q6=e=>({name:"transformOrigin",options:e,fn(t){var b,w,g;const{placement:n,rects:r,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=JP(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,v=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=o?f:`${h}px`,x=`${-c}px`):u==="top"?(y=o?f:`${h}px`,x=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?f:`${v}px`):u==="left"&&(y=`${r.floating.width+c}px`,x=o?f:`${v}px`),{data:{x:y,y:x}}}});function JP(e){const[t,n="center"]=e.split("-");return[t,n]}var Yv=KP,Zv=GP,Xv=YP,Jv=XP,[Fh]=Yn("Tooltip",[Ll]),Lh=Ll(),eE="TooltipProvider",G6=700,sx="tooltip.open",[Y6,ey]=Fh(eE),tE=e=>{const{__scopeTooltip:t,delayDuration:n=G6,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(Y6,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};tE.displayName=eE;var Jc="Tooltip",[Z6,$h]=Fh(Jc),nE=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=ey(Jc,e.__scopeTooltip),u=Lh(t),[d,f]=m.useState(null),h=ss(),v=m.useRef(0),y=o??c.disableHoverableContent,x=l??c.delayDuration,b=m.useRef(!1),[w,g]=Ps({prop:r,defaultProp:s??!1,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(sx))):c.onClose(),a==null||a(P)},caller:Jc}),p=m.useMemo(()=>w?b.current?"delayed-open":"instant-open":"closed",[w]),j=m.useCallback(()=>{window.clearTimeout(v.current),v.current=0,b.current=!1,g(!0)},[g]),N=m.useCallback(()=>{window.clearTimeout(v.current),v.current=0,g(!1)},[g]),_=m.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{b.current=!0,g(!0),v.current=0},x)},[x,g]);return m.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),i.jsx(Yv,{...u,children:i.jsx(Z6,{scope:t,contentId:h,open:w,stateAttribute:p,trigger:d,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayedRef.current?_():j()},[c.isOpenDelayedRef,_,j]),onTriggerLeave:m.useCallback(()=>{y?N():(window.clearTimeout(v.current),v.current=0)},[N,y]),onOpen:j,onClose:N,disableHoverableContent:y,children:n})})};nE.displayName=Jc;var ix="TooltipTrigger",rE=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=$h(ix,n),a=ey(ix,n),o=Lh(n),l=m.useRef(null),c=Ze(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Zv,{asChild:!0,...o,children:i.jsx(Se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:re(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:re(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:re(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:re(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:re(e.onBlur,s.onClose),onClick:re(e.onClick,s.onClose)})})});rE.displayName=ix;var X6="TooltipPortal",[xQ,J6]=Fh(X6,{forceMount:void 0}),Sl="TooltipContent",sE=m.forwardRef((e,t)=>{const n=J6(Sl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,o=$h(Sl,e.__scopeTooltip);return i.jsx(Er,{present:r||o.open,children:o.disableHoverableContent?i.jsx(iE,{side:s,...a,ref:t}):i.jsx(eV,{side:s,...a,ref:t})})}),eV=m.forwardRef((e,t)=>{const n=$h(Sl,e.__scopeTooltip),r=ey(Sl,e.__scopeTooltip),s=m.useRef(null),a=Ze(t,s),[o,l]=m.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=m.useCallback(()=>{l(null),f(!1)},[f]),v=m.useCallback((y,x)=>{const b=y.currentTarget,w={x:y.clientX,y:y.clientY},g=iV(w,b.getBoundingClientRect()),p=aV(w,g),j=oV(x.getBoundingClientRect()),N=cV([...p,...j]);l(N),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const y=b=>v(b,d),x=b=>v(b,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,v,h]),m.useEffect(()=>{if(o){const y=x=>{const b=x.target,w={x:x.clientX,y:x.clientY},g=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),p=!lV(w,o);g?h():p&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),i.jsx(iE,{...e,ref:a})}),[tV,nV]=Fh(Jc,{isInside:!1}),rV=j5("TooltipContent"),iE=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=$h(Sl,n),u=Lh(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(sx,d),()=>document.removeEventListener(sx,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const v=h.target;v!=null&&v.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Il,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(Xv,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(rV,{children:r}),i.jsx(tV,{scope:n,isInside:!0,children:i.jsx(W5,{id:c.contentId,role:"tooltip",children:s||r})})]})})});sE.displayName=Sl;var aE="TooltipArrow",sV=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Lh(n);return nV(aE,n).isInside?null:i.jsx(Jv,{...s,...r,ref:t})});sV.displayName=aE;function iV(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function aV(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function oV(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function lV(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function cV(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),uV(t)}function uV(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var dV=tE,fV=nE,hV=rE,oE=sE;const mV=dV,pV=fV,gV=hV,lE=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(oE,{ref:r,sideOffset:t,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));lE.displayName=oE.displayName;const te=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:de("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));te.displayName="Card";const Ke=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",e),...t}));Ke.displayName="CardHeader";const Je=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",e),...t}));Je.displayName="CardTitle";const Ut=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:de("text-sm text-muted-foreground",e),...t}));Ut.displayName="CardDescription";const je=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:de("p-6 pt-0",e),...t}));je.displayName="CardContent";const xV=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",e),...t}));xV.displayName="CardFooter";function vV(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(te,{className:"w-full max-w-md mx-4",children:i.jsxs(je,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(vs,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const yV=Ml("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),B=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?V2:"button";return i.jsx(o,{className:de(yV({variant:t,size:n,className:e})),ref:a,...s})});B.displayName="Button";const xt=m.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:de("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));xt.displayName="Input";const wV="/assets/Marketplace_hero_collage_image_05e817b0-Cq_hRbG4.png",bV=["Electronics","Furniture","Clothing","Vehicles","Services","More"];function jV({onSearch:e,onCategorySelect:t}){const[n,r]=m.useState(""),{isSignedIn:s}=ia(),[,a]=Br();return i.jsxs("div",{className:"relative h-[70vh] min-h-[500px] flex items-center justify-center overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${wV})`}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/50 to-black/30"}),i.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center",children:[i.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-4",children:"Buy & Sell Anything Locally"}),i.jsx("p",{className:"text-lg sm:text-xl text-white/90 mb-8",children:"Your trusted marketplace for finding great deals and selling items fast"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-2xl mx-auto mb-8",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Tf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),i.jsx(xt,{type:"search",placeholder:"What are you looking for?",className:"pl-10 h-12 text-base bg-white/95 backdrop-blur-sm border-white/20","data-testid":"input-hero-search",value:n,onChange:o=>r(o.target.value),onKeyDown:o=>o.key==="Enter"&&e(n)})]}),i.jsx(B,{size:"lg",className:"h-12 px-8 bg-secondary hover:bg-secondary text-secondary-foreground","data-testid":"button-hero-search",onClick:()=>e(n),children:"Search"})]}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:bV.map(o=>i.jsx(B,{variant:"outline",size:"sm",className:"bg-white/10 backdrop-blur-sm border-white/30 text-white hover:bg-white/20","data-testid":`button-category-${o.toLowerCase()}`,onClick:()=>t(o.toLowerCase()),children:o},o))}),i.jsx("div",{className:"mt-10",children:i.jsx(B,{size:"lg",className:"bg-secondary hover:bg-secondary text-secondary-foreground h-12 px-8","data-testid":"button-hero-post",onClick:()=>a("/post-ad"),children:"Post Your Ad - It's Free!"})})]})]})}const NV=[{id:"",label:"All Categories",icon:wz},{id:"electronics",label:"Electronics",icon:wP},{id:"furniture",label:"Furniture",icon:Lz},{id:"clothing",label:"Clothing",icon:Dz},{id:"vehicles",label:"Vehicles",icon:mz},{id:"services",label:"Services",icon:Hz}];function SV({selectedCategory:e,onCategorySelect:t}){return i.jsx("div",{className:"sticky top-16 z-40 bg-background border-b py-3",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 -mb-2 scrollbar-hide",children:NV.map(n=>{const r=n.icon,s=e===n.id;return i.jsxs(B,{variant:s?"default":"outline",size:"sm",className:"flex-shrink-0",onClick:()=>t(n.id),"data-testid":`button-filter-${n.id||"all"}`,children:[i.jsx(r,{className:"h-4 w-4 mr-2"}),n.label]},n.id)})})})})}var CV="Label",cE=m.forwardRef((e,t)=>i.jsx(Se.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cE.displayName=CV;var uE=cE;const _V=Ml("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pe=m.forwardRef(({className:e,...t},n)=>i.jsx(uE,{ref:n,className:de(_V(),e),...t}));pe.displayName=uE.displayName;function gb(e,[t,n]){return Math.min(n,Math.max(t,e))}var kV=m.createContext(void 0);function Mu(e){const t=m.useContext(kV);return e||t||"ltr"}var fp=0;function ty(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??xb()),document.body.insertAdjacentElement("beforeend",e[1]??xb()),fp++,()=>{fp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fp--}},[])}function xb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hp="focusScope.autoFocusOnMount",mp="focusScope.autoFocusOnUnmount",vb={bubbles:!1,cancelable:!0},PV="FocusScope",zh=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),u=qn(s),d=qn(a),f=m.useRef(null),h=Ze(t,x=>c(x)),v=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(p){if(v.paused||!l)return;const j=p.target;l.contains(j)?f.current=j:pi(f.current,{select:!0})},b=function(p){if(v.paused||!l)return;const j=p.relatedTarget;j!==null&&(l.contains(j)||pi(f.current,{select:!0}))},w=function(p){if(document.activeElement===document.body)for(const N of p)N.removedNodes.length>0&&pi(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const g=new MutationObserver(w);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),g.disconnect()}}},[r,l,v.paused]),m.useEffect(()=>{if(l){wb.add(v);const x=document.activeElement;if(!l.contains(x)){const w=new CustomEvent(hp,vb);l.addEventListener(hp,u),l.dispatchEvent(w),w.defaultPrevented||(EV(MV(dE(l)),{select:!0}),document.activeElement===x&&pi(l))}return()=>{l.removeEventListener(hp,u),setTimeout(()=>{const w=new CustomEvent(mp,vb);l.addEventListener(mp,d),l.dispatchEvent(w),w.defaultPrevented||pi(x??document.body,{select:!0}),l.removeEventListener(mp,d),wb.remove(v)},0)}}},[l,u,d,v]);const y=m.useCallback(x=>{if(!n&&!r||v.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(b&&w){const g=x.currentTarget,[p,j]=TV(g);p&&j?!x.shiftKey&&w===j?(x.preventDefault(),n&&pi(p,{select:!0})):x.shiftKey&&w===p&&(x.preventDefault(),n&&pi(j,{select:!0})):w===g&&x.preventDefault()}},[n,r,v.paused]);return i.jsx(Se.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});zh.displayName=PV;function EV(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(pi(r,{select:t}),document.activeElement!==n)return}function TV(e){const t=dE(e),n=yb(t,e),r=yb(t.reverse(),e);return[n,r]}function dE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yb(e,t){for(const n of e)if(!RV(n,{upTo:t}))return n}function RV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function AV(e){return e instanceof HTMLInputElement&&"select"in e}function pi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&AV(e)&&t&&e.select()}}var wb=IV();function IV(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=bb(e,t),e.unshift(t)},remove(t){var n;e=bb(e,t),(n=e[0])==null||n.resume()}}}function bb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function MV(e){return e.filter(t=>t.tagName!=="A")}function ny(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var OV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},go=new WeakMap,wd=new WeakMap,bd={},pp=0,fE=function(e){return e&&(e.host||fE(e.parentNode))},DV=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=fE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},FV=function(e,t,n,r){var s=DV(t,Array.isArray(e)?e:[e]);bd[n]||(bd[n]=new WeakMap);var a=bd[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var v=h.getAttribute(r),y=v!==null&&v!=="false",x=(go.get(h)||0)+1,b=(a.get(h)||0)+1;go.set(h,x),a.set(h,b),o.push(h),x===1&&y&&wd.set(h,!0),b===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(t),l.clear(),pp++,function(){o.forEach(function(f){var h=go.get(f)-1,v=a.get(f)-1;go.set(f,h),a.set(f,v),h||(wd.has(f)||f.removeAttribute(r),wd.delete(f)),v||f.removeAttribute(n)}),pp--,pp||(go=new WeakMap,go=new WeakMap,wd=new WeakMap,bd={})}},ry=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=OV(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),FV(r,s,n,"aria-hidden")):function(){return null}},ws=function(){return ws=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ws.apply(this,arguments)};function hE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function LV(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Hd="right-scroll-bar-position",qd="width-before-scroll-bar",$V="with-scroll-bars-hidden",zV="--removed-body-scroll-bar-size";function gp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function UV(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var VV=typeof window<"u"?m.useLayoutEffect:m.useEffect,jb=new WeakMap;function BV(e,t){var n=UV(null,function(r){return e.forEach(function(s){return gp(s,r)})});return VV(function(){var r=jb.get(n);if(r){var s=new Set(r),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||gp(l,null)}),a.forEach(function(l){s.has(l)||gp(l,o)})}jb.set(n,e)},[e]),n}function WV(e){return e}function HV(e,t){t===void 0&&(t=WV);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function qV(e){e===void 0&&(e={});var t=HV(null);return t.options=ws({async:!0,ssr:!1},e),t}var mE=function(e){var t=e.sideCar,n=hE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ws({},n))};mE.isSideCarExport=!0;function KV(e,t){return e.useMedium(t),mE}var pE=qV(),xp=function(){},Uh=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:xp,onWheelCapture:xp,onTouchMoveCapture:xp}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,v=e.noRelative,y=e.noIsolation,x=e.inert,b=e.allowPinchZoom,w=e.as,g=w===void 0?"div":w,p=e.gapMode,j=hE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,_=BV([n,t]),P=ws(ws({},j),s);return m.createElement(m.Fragment,null,d&&m.createElement(N,{sideCar:pE,removeScrollBar:u,shards:f,noRelative:v,noIsolation:y,inert:x,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:p}),o?m.cloneElement(m.Children.only(l),ws(ws({},P),{ref:_})):m.createElement(g,ws({},P,{className:c,ref:_}),l))});Uh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uh.classNames={fullWidth:qd,zeroRight:Hd};var QV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function GV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=QV();return t&&e.setAttribute("nonce",t),e}function YV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ZV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var XV=function(){var e=0,t=null;return{add:function(n){e==0&&(t=GV())&&(YV(t,n),ZV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},JV=function(){var e=XV();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},gE=function(){var e=JV(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},e8={left:0,top:0,right:0,gap:0},vp=function(e){return parseInt(e||"",10)||0},t8=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[vp(n),vp(r),vp(s)]},n8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return e8;var t=t8(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},r8=gE(),Yo="data-scroll-locked",s8=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat($V,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Yo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hd,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(qd,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Hd," .").concat(Hd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qd," .").concat(qd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yo,`] {
    `).concat(zV,": ").concat(l,`px;
  }
`)},Nb=function(){var e=parseInt(document.body.getAttribute(Yo)||"0",10);return isFinite(e)?e:0},i8=function(){m.useEffect(function(){return document.body.setAttribute(Yo,(Nb()+1).toString()),function(){var e=Nb()-1;e<=0?document.body.removeAttribute(Yo):document.body.setAttribute(Yo,e.toString())}},[])},a8=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;i8();var a=m.useMemo(function(){return n8(s)},[s]);return m.createElement(r8,{styles:s8(a,!t,s,n?"":"!important")})},ax=!1;if(typeof window<"u")try{var jd=Object.defineProperty({},"passive",{get:function(){return ax=!0,!0}});window.addEventListener("test",jd,jd),window.removeEventListener("test",jd,jd)}catch{ax=!1}var xo=ax?{passive:!1}:!1,o8=function(e){return e.tagName==="TEXTAREA"},xE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!o8(e)&&n[t]==="visible")},l8=function(e){return xE(e,"overflowY")},c8=function(e){return xE(e,"overflowX")},Sb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=vE(e,r);if(s){var a=yE(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},u8=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},d8=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},vE=function(e,t){return e==="v"?l8(t):c8(t)},yE=function(e,t){return e==="v"?u8(t):d8(t)},f8=function(e,t){return e==="h"&&t==="rtl"?-1:1},h8=function(e,t,n,r,s){var a=f8(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var v=yE(e,l),y=v[0],x=v[1],b=v[2],w=x-b-a*y;(y||w)&&vE(e,l)&&(f+=w,h+=y);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Nd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Cb=function(e){return[e.deltaX,e.deltaY]},_b=function(e){return e&&"current"in e?e.current:e},m8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},p8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},g8=0,vo=[];function x8(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(g8++)[0],a=m.useState(gE)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=LV([e.lockRef.current],(e.shards||[]).map(_b),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var w=Nd(x),g=n.current,p="deltaX"in x?x.deltaX:g[0]-w[0],j="deltaY"in x?x.deltaY:g[1]-w[1],N,_=x.target,P=Math.abs(p)>Math.abs(j)?"h":"v";if("touches"in x&&P==="h"&&_.type==="range")return!1;var C=Sb(P,_);if(!C)return!0;if(C?N=P:(N=P==="v"?"h":"v",C=Sb(P,_)),!C)return!1;if(!r.current&&"changedTouches"in x&&(p||j)&&(r.current=N),!N)return!0;var L=r.current||N;return h8(L,b,x,L==="h"?p:j)},[]),c=m.useCallback(function(x){var b=x;if(!(!vo.length||vo[vo.length-1]!==a)){var w="deltaY"in b?Cb(b):Nd(b),g=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&m8(N.delta,w)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var p=(o.current.shards||[]).map(_b).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=p.length>0?l(b,p[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(x,b,w,g){var p={name:x,delta:b,target:w,should:g,shadowParent:v8(w)};t.current.push(p),setTimeout(function(){t.current=t.current.filter(function(j){return j!==p})},1)},[]),d=m.useCallback(function(x){n.current=Nd(x),r.current=void 0},[]),f=m.useCallback(function(x){u(x.type,Cb(x),x.target,l(x,e.lockRef.current))},[]),h=m.useCallback(function(x){u(x.type,Nd(x),x.target,l(x,e.lockRef.current))},[]);m.useEffect(function(){return vo.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,xo),document.addEventListener("touchmove",c,xo),document.addEventListener("touchstart",d,xo),function(){vo=vo.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,xo),document.removeEventListener("touchmove",c,xo),document.removeEventListener("touchstart",d,xo)}},[]);var v=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(a,{styles:p8(s)}):null,v?m.createElement(a8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function v8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const y8=KV(pE,x8);var Vh=m.forwardRef(function(e,t){return m.createElement(Uh,ws({},e,{ref:t,sideCar:y8}))});Vh.classNames=Uh.classNames;var w8=[" ","Enter","ArrowUp","ArrowDown"],b8=[" ","Enter"],Ya="Select",[Bh,Wh,j8]=Eh(Ya),[$l]=Yn(Ya,[j8,Ll]),Hh=Ll(),[N8,aa]=$l(Ya),[S8,C8]=$l(Ya),wE=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:v,form:y}=e,x=Hh(t),[b,w]=m.useState(null),[g,p]=m.useState(null),[j,N]=m.useState(!1),_=Mu(u),[P,C]=Ps({prop:r,defaultProp:s??!1,onChange:a,caller:Ya}),[L,k]=Ps({prop:o,defaultProp:l,onChange:c,caller:Ya}),A=m.useRef(null),E=b?y||!!b.closest("form"):!0,[M,T]=m.useState(new Set),q=Array.from(M).map(W=>W.props.value).join(";");return i.jsx(Yv,{...x,children:i.jsxs(N8,{required:v,scope:t,trigger:b,onTriggerChange:w,valueNode:g,onValueNodeChange:p,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:ss(),value:L,onValueChange:k,open:P,onOpenChange:C,dir:_,triggerPointerDownPosRef:A,disabled:h,children:[i.jsx(Bh.Provider,{scope:t,children:i.jsx(S8,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(W=>{T(H=>new Set(H).add(W))},[]),onNativeOptionRemove:m.useCallback(W=>{T(H=>{const S=new Set(H);return S.delete(W),S})},[]),children:n})}),E?i.jsxs(WE,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:L,onChange:W=>k(W.target.value),disabled:h,form:y,children:[L===void 0?i.jsx("option",{value:""}):null,Array.from(M)]},q):null]})})};wE.displayName=Ya;var bE="SelectTrigger",jE=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=Hh(n),o=aa(bE,n),l=o.disabled||r,c=Ze(t,o.onTriggerChange),u=Wh(n),d=m.useRef("touch"),[f,h,v]=qE(x=>{const b=u().filter(p=>!p.disabled),w=b.find(p=>p.value===o.value),g=KE(b,x,w);g!==void 0&&o.onValueChange(g.value)}),y=x=>{l||(o.onOpenChange(!0),v()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return i.jsx(Zv,{asChild:!0,...a,children:i.jsx(Se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":HE(o.value)?"":void 0,...s,ref:c,onClick:re(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&y(x)}),onPointerDown:re(s.onPointerDown,x=>{d.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:re(s.onKeyDown,x=>{const b=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(b&&x.key===" ")&&w8.includes(x.key)&&(y(),x.preventDefault())})})})});jE.displayName=bE;var NE="SelectValue",SE=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...l}=e,c=aa(NE,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Ze(t,c.onValueNodeChange);return Jt(()=>{u(d)},[u,d]),i.jsx(Se.span,{...l,ref:f,style:{pointerEvents:"none"},children:HE(c.value)?i.jsx(i.Fragment,{children:o}):a})});SE.displayName=NE;var _8="SelectIcon",CE=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(Se.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});CE.displayName=_8;var k8="SelectPortal",_E=e=>i.jsx(Ru,{asChild:!0,...e});_E.displayName=k8;var Za="SelectContent",kE=m.forwardRef((e,t)=>{const n=aa(Za,e.__scopeSelect),[r,s]=m.useState();if(Jt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?sa.createPortal(i.jsx(PE,{scope:e.__scopeSelect,children:i.jsx(Bh.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(EE,{...e,ref:t})});kE.displayName=Za;var Hr=10,[PE,oa]=$l(Za),P8="SelectContentImpl",E8=Ka("SelectContent.RemoveScroll"),EE=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:y,hideWhenDetached:x,avoidCollisions:b,...w}=e,g=aa(Za,n),[p,j]=m.useState(null),[N,_]=m.useState(null),P=Ze(t,ve=>j(ve)),[C,L]=m.useState(null),[k,A]=m.useState(null),E=Wh(n),[M,T]=m.useState(!1),q=m.useRef(!1);m.useEffect(()=>{if(p)return ry(p)},[p]),ty();const W=m.useCallback(ve=>{const[Ge,...et]=E().map(We=>We.ref.current),[Te]=et.slice(-1),Ae=document.activeElement;for(const We of ve)if(We===Ae||(We==null||We.scrollIntoView({block:"nearest"}),We===Ge&&N&&(N.scrollTop=0),We===Te&&N&&(N.scrollTop=N.scrollHeight),We==null||We.focus(),document.activeElement!==Ae))return},[E,N]),H=m.useCallback(()=>W([C,p]),[W,C,p]);m.useEffect(()=>{M&&H()},[M,H]);const{onOpenChange:S,triggerPointerDownPosRef:F}=g;m.useEffect(()=>{if(p){let ve={x:0,y:0};const Ge=Te=>{var Ae,We;ve={x:Math.abs(Math.round(Te.pageX)-(((Ae=F.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(Te.pageY)-(((We=F.current)==null?void 0:We.y)??0))}},et=Te=>{ve.x<=10&&ve.y<=10?Te.preventDefault():p.contains(Te.target)||S(!1),document.removeEventListener("pointermove",Ge),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Ge),document.addEventListener("pointerup",et,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ge),document.removeEventListener("pointerup",et,{capture:!0})}}},[p,S,F]),m.useEffect(()=>{const ve=()=>S(!1);return window.addEventListener("blur",ve),window.addEventListener("resize",ve),()=>{window.removeEventListener("blur",ve),window.removeEventListener("resize",ve)}},[S]);const[Q,J]=qE(ve=>{const Ge=E().filter(Ae=>!Ae.disabled),et=Ge.find(Ae=>Ae.ref.current===document.activeElement),Te=KE(Ge,ve,et);Te&&setTimeout(()=>Te.ref.current.focus())}),be=m.useCallback((ve,Ge,et)=>{const Te=!q.current&&!et;(g.value!==void 0&&g.value===Ge||Te)&&(L(ve),Te&&(q.current=!0))},[g.value]),He=m.useCallback(()=>p==null?void 0:p.focus(),[p]),De=m.useCallback((ve,Ge,et)=>{const Te=!q.current&&!et;(g.value!==void 0&&g.value===Ge||Te)&&A(ve)},[g.value]),yt=r==="popper"?ox:TE,st=yt===ox?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:y,hideWhenDetached:x,avoidCollisions:b}:{};return i.jsx(PE,{scope:n,content:p,viewport:N,onViewportChange:_,itemRefCallback:be,selectedItem:C,onItemLeave:He,itemTextRefCallback:De,focusSelectedItem:H,selectedItemText:k,position:r,isPositioned:M,searchRef:Q,children:i.jsx(Vh,{as:E8,allowPinchZoom:!0,children:i.jsx(zh,{asChild:!0,trapped:g.open,onMountAutoFocus:ve=>{ve.preventDefault()},onUnmountAutoFocus:re(s,ve=>{var Ge;(Ge=g.trigger)==null||Ge.focus({preventScroll:!0}),ve.preventDefault()}),children:i.jsx(Il,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ve=>ve.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:i.jsx(yt,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:ve=>ve.preventDefault(),...w,...st,onPlaced:()=>T(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:re(w.onKeyDown,ve=>{const Ge=ve.ctrlKey||ve.altKey||ve.metaKey;if(ve.key==="Tab"&&ve.preventDefault(),!Ge&&ve.key.length===1&&J(ve.key),["ArrowUp","ArrowDown","Home","End"].includes(ve.key)){let Te=E().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(ve.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(ve.key)){const Ae=ve.target,We=Te.indexOf(Ae);Te=Te.slice(We+1)}setTimeout(()=>W(Te)),ve.preventDefault()}})})})})})})});EE.displayName=P8;var T8="SelectItemAlignedPosition",TE=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=aa(Za,n),o=oa(Za,n),[l,c]=m.useState(null),[u,d]=m.useState(null),f=Ze(t,P=>d(P)),h=Wh(n),v=m.useRef(!1),y=m.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:w,focusSelectedItem:g}=o,p=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&x&&b&&w){const P=a.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),L=a.valueNode.getBoundingClientRect(),k=w.getBoundingClientRect();if(a.dir!=="rtl"){const Ae=k.left-C.left,We=L.left-Ae,Oe=P.left-We,Ie=P.width+Oe,gt=Math.max(Ie,C.width),it=window.innerWidth-Hr,Ht=gb(We,[Hr,Math.max(Hr,it-gt)]);l.style.minWidth=Ie+"px",l.style.left=Ht+"px"}else{const Ae=C.right-k.right,We=window.innerWidth-L.right-Ae,Oe=window.innerWidth-P.right-We,Ie=P.width+Oe,gt=Math.max(Ie,C.width),it=window.innerWidth-Hr,Ht=gb(We,[Hr,Math.max(Hr,it-gt)]);l.style.minWidth=Ie+"px",l.style.right=Ht+"px"}const A=h(),E=window.innerHeight-Hr*2,M=x.scrollHeight,T=window.getComputedStyle(u),q=parseInt(T.borderTopWidth,10),W=parseInt(T.paddingTop,10),H=parseInt(T.borderBottomWidth,10),S=parseInt(T.paddingBottom,10),F=q+W+M+S+H,Q=Math.min(b.offsetHeight*5,F),J=window.getComputedStyle(x),be=parseInt(J.paddingTop,10),He=parseInt(J.paddingBottom,10),De=P.top+P.height/2-Hr,yt=E-De,st=b.offsetHeight/2,ve=b.offsetTop+st,Ge=q+W+ve,et=F-Ge;if(Ge<=De){const Ae=A.length>0&&b===A[A.length-1].ref.current;l.style.bottom="0px";const We=u.clientHeight-x.offsetTop-x.offsetHeight,Oe=Math.max(yt,st+(Ae?He:0)+We+H),Ie=Ge+Oe;l.style.height=Ie+"px"}else{const Ae=A.length>0&&b===A[0].ref.current;l.style.top="0px";const Oe=Math.max(De,q+x.offsetTop+(Ae?be:0)+st)+et;l.style.height=Oe+"px",x.scrollTop=Ge-De+x.offsetTop}l.style.margin=`${Hr}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=E+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[h,a.trigger,a.valueNode,l,u,x,b,w,a.dir,r]);Jt(()=>p(),[p]);const[j,N]=m.useState();Jt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const _=m.useCallback(P=>{P&&y.current===!0&&(p(),g==null||g(),y.current=!1)},[p,g]);return i.jsx(A8,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:_,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(Se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});TE.displayName=T8;var R8="SelectPopperPosition",ox=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hr,...a}=e,o=Hh(n);return i.jsx(Xv,{...o,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ox.displayName=R8;var[A8,sy]=$l(Za,{}),lx="SelectViewport",RE=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=oa(lx,n),o=sy(lx,n),l=Ze(t,a.onViewportChange),c=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Bh.Slot,{scope:n,children:i.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:re(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const v=Math.abs(c.current-d.scrollTop);if(v>0){const y=window.innerHeight-Hr*2,x=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),w=Math.max(x,b);if(w<y){const g=w+v,p=Math.min(y,g),j=g-p;f.style.height=p+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});RE.displayName=lx;var AE="SelectGroup",[I8,M8]=$l(AE),O8=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ss();return i.jsx(I8,{scope:n,id:s,children:i.jsx(Se.div,{role:"group","aria-labelledby":s,...r,ref:t})})});O8.displayName=AE;var IE="SelectLabel",ME=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=M8(IE,n);return i.jsx(Se.div,{id:s.id,...r,ref:t})});ME.displayName=IE;var Of="SelectItem",[D8,OE]=$l(Of),DE=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=e,l=aa(Of,n),c=oa(Of,n),u=l.value===r,[d,f]=m.useState(a??""),[h,v]=m.useState(!1),y=Ze(t,g=>{var p;return(p=c.itemRefCallback)==null?void 0:p.call(c,g,r,s)}),x=ss(),b=m.useRef("touch"),w=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(D8,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:m.useCallback(g=>{f(p=>p||((g==null?void 0:g.textContent)??"").trim())},[]),children:i.jsx(Bh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(Se.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:re(o.onFocus,()=>v(!0)),onBlur:re(o.onBlur,()=>v(!1)),onClick:re(o.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:re(o.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:re(o.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:re(o.onPointerMove,g=>{var p;b.current=g.pointerType,s?(p=c.onItemLeave)==null||p.call(c):b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(o.onPointerLeave,g=>{var p;g.currentTarget===document.activeElement&&((p=c.onItemLeave)==null||p.call(c))}),onKeyDown:re(o.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(b8.includes(g.key)&&w(),g.key===" "&&g.preventDefault())})})})})});DE.displayName=Of;var cc="SelectItemText",FE=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,o=aa(cc,n),l=oa(cc,n),c=OE(cc,n),u=C8(cc,n),[d,f]=m.useState(null),h=Ze(t,w=>f(w),c.onItemTextChange,w=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,w,c.value,c.disabled)}),v=d==null?void 0:d.textContent,y=m.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return Jt(()=>(x(y),()=>b(y)),[x,b,y]),i.jsxs(i.Fragment,{children:[i.jsx(Se.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?sa.createPortal(a.children,o.valueNode):null]})});FE.displayName=cc;var LE="SelectItemIndicator",$E=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return OE(LE,n).isSelected?i.jsx(Se.span,{"aria-hidden":!0,...r,ref:t}):null});$E.displayName=LE;var cx="SelectScrollUpButton",zE=m.forwardRef((e,t)=>{const n=oa(cx,e.__scopeSelect),r=sy(cx,e.__scopeSelect),[s,a]=m.useState(!1),o=Ze(t,r.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(VE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});zE.displayName=cx;var ux="SelectScrollDownButton",UE=m.forwardRef((e,t)=>{const n=oa(ux,e.__scopeSelect),r=sy(ux,e.__scopeSelect),[s,a]=m.useState(!1),o=Ze(t,r.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(VE,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});UE.displayName=ux;var VE=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=oa("SelectScrollButton",n),o=m.useRef(null),l=Wh(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Jt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Se.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:re(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:re(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:re(s.onPointerLeave,()=>{c()})})}),F8="SelectSeparator",BE=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(Se.div,{"aria-hidden":!0,...r,ref:t})});BE.displayName=F8;var dx="SelectArrow",L8=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Hh(n),a=aa(dx,n),o=oa(dx,n);return a.open&&o.position==="popper"?i.jsx(Jv,{...s,...r,ref:t}):null});L8.displayName=dx;var $8="SelectBubbleInput",WE=m.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=m.useRef(null),a=Ze(r,s),o=ny(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(Se.select,{...n,style:{...K2,...n.style},ref:a,defaultValue:t})});WE.displayName=$8;function HE(e){return e===""||e===void 0}function qE(e){const t=qn(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function KE(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=z8(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function z8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var U8=wE,QE=jE,V8=SE,B8=CE,W8=_E,GE=kE,H8=RE,YE=ME,ZE=DE,q8=FE,K8=$E,XE=zE,JE=UE,eT=BE;const hn=U8,mn=V8,on=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(QE,{ref:r,className:de("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(B8,{asChild:!0,children:i.jsx(gP,{className:"h-4 w-4 opacity-50"})})]}));on.displayName=QE.displayName;const tT=m.forwardRef(({className:e,...t},n)=>i.jsx(XE,{ref:n,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(gz,{className:"h-4 w-4"})}));tT.displayName=XE.displayName;const nT=m.forwardRef(({className:e,...t},n)=>i.jsx(JE,{ref:n,className:de("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(gP,{className:"h-4 w-4"})}));nT.displayName=JE.displayName;const ln=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(W8,{children:i.jsxs(GE,{ref:s,className:de("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(tT,{}),i.jsx(H8,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(nT,{})]})}));ln.displayName=GE.displayName;const Q8=m.forwardRef(({className:e,...t},n)=>i.jsx(YE,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Q8.displayName=YE.displayName;const ne=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(ZE,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(K8,{children:i.jsx(Ko,{className:"h-4 w-4"})})}),i.jsx(q8,{children:t})]}));ne.displayName=ZE.displayName;const G8=m.forwardRef(({className:e,...t},n)=>i.jsx(eT,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));G8.displayName=eT.displayName;function kb({filters:e,onFiltersChange:t}){const[n,r]=m.useState(e.priceMin||""),[s,a]=m.useState(e.priceMax||""),[o,l]=m.useState(e.condition||""),[c,u]=m.useState(e.location||"");m.useEffect(()=>{r(e.priceMin||""),a(e.priceMax||""),l(e.condition||""),u(e.location||"")},[e]);const d=()=>{r(""),a(""),l(""),u(""),t({priceMin:"",priceMax:"",condition:"",location:""})},f=()=>{t({priceMin:n,priceMax:s,condition:o,location:c})};return i.jsxs(te,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Filters"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(pe,{className:"mb-3 block",children:"Price Range"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xt,{type:"number",placeholder:"Min",value:n,onChange:h=>r(h.target.value),className:"h-9","data-testid":"input-price-min"}),i.jsx("span",{className:"text-muted-foreground",children:"to"}),i.jsx(xt,{type:"number",placeholder:"Max",value:s,onChange:h=>a(h.target.value),className:"h-9","data-testid":"input-price-max"})]})]}),i.jsxs("div",{children:[i.jsx(pe,{htmlFor:"condition",className:"mb-3 block",children:"Condition"}),i.jsxs(hn,{value:o||"any",onValueChange:h=>l(h==="any"?"":h),children:[i.jsx(on,{id:"condition","data-testid":"select-condition",children:i.jsx(mn,{placeholder:"Any condition"})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"any",children:"Any condition"}),i.jsx(ne,{value:"new",children:"New"}),i.jsx(ne,{value:"like-new",children:"Like New"}),i.jsx(ne,{value:"good",children:"Good"}),i.jsx(ne,{value:"fair",children:"Fair"}),i.jsx(ne,{value:"poor",children:"Poor"})]})]})]}),i.jsxs("div",{children:[i.jsx(pe,{htmlFor:"location",className:"mb-3 block",children:"Location"}),i.jsx(xt,{id:"location",placeholder:"Enter city or zip code",value:c,onChange:h=>u(h.target.value),"data-testid":"input-location"})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(B,{variant:"outline",className:"flex-1",onClick:d,"data-testid":"button-reset-filters",children:"Reset"}),i.jsx(B,{className:"flex-1 bg-secondary hover:bg-secondary",onClick:f,"data-testid":"button-apply-filters",children:"Apply"})]})]})]})}const Y8=Ml("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ct({className:e,variant:t,...n}){return i.jsx("div",{className:de(Y8({variant:t}),e),...n})}function Z8({userId:e,userName:t,rating:n,reviewCount:r=0,showLink:s=!0,size:a="medium",variant:o="default",className:l="",onClick:c}){const u=n?Number(n).toFixed(1):"New",d=r>0&&n,f={small:"text-xs gap-1",medium:"text-sm gap-1.5",large:"text-base gap-2"},h={small:"h-3 w-3",medium:"h-4 w-4",large:"h-5 w-5"},v=i.jsx("div",{className:`flex items-center ${f[a]} ${l}`,"data-testid":`review-badge-${e}`,children:o==="compact"?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:`${h[a]} ${d?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`}),i.jsx("span",{className:"font-medium",children:u}),r>0&&i.jsxs("span",{className:"text-muted-foreground",children:["(",r,")"]})]}):o==="inline"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(y=>i.jsx(Vt,{className:`${h[a]} ${d&&y<=Math.round(Number(n))?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},y))}),i.jsxs("span",{className:"font-medium",children:[u,"/5.0"]}),r>0&&i.jsxs("span",{className:"text-muted-foreground",children:["(",r," ",r===1?"review":"reviews",")"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:`${h[a]} ${d?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`}),i.jsx("span",{className:"font-medium",children:u}),r>0&&i.jsxs(ct,{variant:"secondary",className:"ml-1",children:[r," ",r===1?"review":"reviews"]})]})});return!s||r===0?v:i.jsx(xr,{href:`/users/${e}#reviews`,onClick:y=>{y.stopPropagation(),c==null||c()},"aria-label":t?`View ${t}'s ${r} reviews`:`View ${r} reviews`,"data-testid":`link-reviews-${e}`,children:i.jsx("div",{className:"hover-elevate active-elevate-2 rounded-md px-2 py-1 -mx-2 -my-1 transition-colors",children:v})})}function iy({id:e,image:t,title:n,price:r,location:s,timePosted:a,isFavorite:o=!1,seller:l,sellerStats:c}){const[u,d]=m.useState(o),f=l&&`${l.firstName||""} ${l.lastName||""}`.trim()||"Unknown Seller";return i.jsx(xr,{href:`/listings/${e}`,children:i.jsxs(te,{className:"overflow-hidden hover-elevate cursor-pointer group","data-testid":`card-listing-${e}`,children:[i.jsxs("div",{className:"relative aspect-[4/3] bg-muted overflow-hidden",children:[t?i.jsx("img",{src:t,alt:n,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No image"}),i.jsx(B,{size:"icon",variant:"ghost",className:"absolute top-2 right-2 bg-white/80 backdrop-blur-sm hover:bg-white",onClick:h=>{h.stopPropagation(),d(!u),console.log(`Favorite toggled for ${e}`)},"data-testid":`button-favorite-${e}`,children:i.jsx(Gc,{className:`h-4 w-4 ${u?"fill-red-500 text-red-500":""}`})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary mb-2","data-testid":`text-price-${e}`,children:["$",r.toLocaleString()]}),i.jsx("h3",{className:"font-semibold text-base mb-3 line-clamp-2","data-testid":`text-title-${e}`,children:n}),l&&i.jsxs("div",{className:"mb-3 pb-3 border-b",children:[i.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["Seller: ",f]}),i.jsx(Z8,{userId:l.id,userName:f,rating:c==null?void 0:c.averageRating,reviewCount:(c==null?void 0:c.totalReviews)||0,showLink:!1,size:"small",variant:"compact"}),(c==null?void 0:c.successRate)!==void 0&&c.successRate!==null&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Number(c.successRate).toFixed(0),"% success rate"]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Lv,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:s})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ah,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:a})]})]})]})]})})}var qh="Dialog",[rT]=Yn(qh),[X8,us]=rT(qh),sT=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=Ps({prop:r,defaultProp:s??!1,onChange:a,caller:qh});return i.jsx(X8,{scope:t,triggerRef:l,contentRef:c,contentId:ss(),titleId:ss(),descriptionId:ss(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};sT.displayName=qh;var iT="DialogTrigger",aT=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=us(iT,n),a=Ze(t,s.triggerRef);return i.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ly(s.open),...r,ref:a,onClick:re(e.onClick,s.onOpenToggle)})});aT.displayName=iT;var ay="DialogPortal",[J8,oT]=rT(ay,{forceMount:void 0}),lT=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=us(ay,t);return i.jsx(J8,{scope:t,forceMount:n,children:m.Children.map(r,o=>i.jsx(Er,{present:n||a.open,children:i.jsx(Ru,{asChild:!0,container:s,children:o})}))})};lT.displayName=ay;var Df="DialogOverlay",cT=m.forwardRef((e,t)=>{const n=oT(Df,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=us(Df,e.__scopeDialog);return a.modal?i.jsx(Er,{present:r||a.open,children:i.jsx(tB,{...s,ref:t})}):null});cT.displayName=Df;var eB=Ka("DialogOverlay.RemoveScroll"),tB=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=us(Df,n);return i.jsx(Vh,{as:eB,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Se.div,{"data-state":ly(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Xa="DialogContent",uT=m.forwardRef((e,t)=>{const n=oT(Xa,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=us(Xa,e.__scopeDialog);return i.jsx(Er,{present:r||a.open,children:a.modal?i.jsx(nB,{...s,ref:t}):i.jsx(rB,{...s,ref:t})})});uT.displayName=Xa;var nB=m.forwardRef((e,t)=>{const n=us(Xa,e.__scopeDialog),r=m.useRef(null),s=Ze(t,n.contentRef,r);return m.useEffect(()=>{const a=r.current;if(a)return ry(a)},[]),i.jsx(dT,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:re(e.onFocusOutside,a=>a.preventDefault())})}),rB=m.forwardRef((e,t)=>{const n=us(Xa,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return i.jsx(dT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),dT=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=us(Xa,n),c=m.useRef(null),u=Ze(t,c);return ty(),i.jsxs(i.Fragment,{children:[i.jsx(zh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Il,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ly(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(sB,{titleId:l.titleId}),i.jsx(aB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),oy="DialogTitle",fT=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=us(oy,n);return i.jsx(Se.h2,{id:s.titleId,...r,ref:t})});fT.displayName=oy;var hT="DialogDescription",mT=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=us(hT,n);return i.jsx(Se.p,{id:s.descriptionId,...r,ref:t})});mT.displayName=hT;var pT="DialogClose",gT=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=us(pT,n);return i.jsx(Se.button,{type:"button",...r,ref:t,onClick:re(e.onClick,()=>s.onOpenChange(!1))})});gT.displayName=pT;function ly(e){return e?"open":"closed"}var xT="DialogTitleWarning",[vQ,vT]=y5(xT,{contentName:Xa,titleName:oy,docsSlug:"dialog"}),sB=({titleId:e})=>{const t=vT(xT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},iB="DialogDescriptionWarning",aB=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vT(iB).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},yT=sT,oB=aT,wT=lT,Kh=cT,Qh=uT,Gh=fT,Yh=mT,bT=gT;const lB=yT,cB=oB,uB=wT,jT=m.forwardRef(({className:e,...t},n)=>i.jsx(Kh,{className:de("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));jT.displayName=Kh.displayName;const dB=Ml("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),NT=m.forwardRef(({side:e="right",className:t,children:n,...r},s)=>i.jsxs(uB,{children:[i.jsx(jT,{}),i.jsxs(Qh,{ref:s,className:de(dB({side:e}),t),...r,children:[n,i.jsxs(bT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Lr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));NT.displayName=Qh.displayName;const ST=({className:e,...t})=>i.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",e),...t});ST.displayName="SheetHeader";const CT=m.forwardRef(({className:e,...t},n)=>i.jsx(Gh,{ref:n,className:de("text-lg font-semibold text-foreground",e),...t}));CT.displayName=Gh.displayName;const fB=m.forwardRef(({className:e,...t},n)=>i.jsx(Yh,{ref:n,className:de("text-sm text-muted-foreground",e),...t}));fB.displayName=Yh.displayName;function hB(){const[e,t]=m.useState(!1),[n,r]=m.useState(""),[s,a]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(""),[d,f]=m.useState(""),[h,v]=m.useState(""),[y,x]=m.useState("newest"),w=(()=>{const C=new URLSearchParams;return n&&C.append("q",n),s&&C.append("category",s),o&&C.append("condition",o),c&&C.append("priceMin",c),d&&C.append("priceMax",d),h&&C.append("location",h),y&&C.append("sortBy",y),C.toString()})(),{data:g=[],isLoading:p}=jt({queryKey:["/api/listings/search",w],queryFn:async()=>{const C=w?`/api/listings/search?${w}`:"/api/listings",L=await fetch(C);if(!L.ok)throw new Error("Failed to fetch listings");return L.json()}}),j=C=>{a(C===s?"":C)},N=C=>{C.condition!==void 0&&l(C.condition),C.priceMin!==void 0&&u(C.priceMin),C.priceMax!==void 0&&f(C.priceMax),C.location!==void 0&&v(C.location)},_=C=>parseFloat(C).toFixed(0),P=C=>{const L=new Date,k=new Date(C),A=L.getTime()-k.getTime(),E=Math.floor(A/6e4),M=Math.floor(E/60),T=Math.floor(M/24);return E<60?`${E}m ago`:M<24?`${M}h ago`:`${T}d ago`};return i.jsxs("div",{children:[i.jsx(jV,{onSearch:r,onCategorySelect:j}),i.jsx(SV,{selectedCategory:s,onCategorySelect:j}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs("div",{className:"flex gap-8",children:[i.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:i.jsx("div",{className:"sticky top-32",children:i.jsx(kb,{filters:{condition:o,priceMin:c,priceMax:d,location:h},onFiltersChange:N})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold",children:[g.length," ",g.length===1?"Listing":"Listings"]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(hn,{value:y,onValueChange:C=>x(C),children:[i.jsx(on,{className:"w-[180px]","data-testid":"select-sort",children:i.jsx(mn,{placeholder:"Sort by"})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"newest",children:"Newest First"}),i.jsx(ne,{value:"price-low",children:"Price: Low to High"}),i.jsx(ne,{value:"price-high",children:"Price: High to Low"})]})]}),i.jsxs(lB,{open:e,onOpenChange:t,children:[i.jsx(cB,{asChild:!0,children:i.jsxs(B,{variant:"outline",className:"lg:hidden","data-testid":"button-mobile-filters",children:[i.jsx(Fz,{className:"h-4 w-4 mr-2"}),"Filters"]})}),i.jsxs(NT,{side:"left",children:[i.jsx(ST,{children:i.jsx(CT,{children:"Filters"})}),i.jsx("div",{className:"mt-6",children:i.jsx(kb,{filters:{condition:o,priceMin:c,priceMax:d,location:h},onFiltersChange:N})})]})]})]})]}),p?i.jsx("div",{className:"flex items-center justify-center py-16",children:i.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})}):g.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("p",{className:"text-muted-foreground text-lg",children:"No listings found"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your filters or search query"})]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(C=>i.jsx(iy,{id:C.id,image:C.images[0]||"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=300&fit=crop",title:C.title,price:parseFloat(_(C.price)),location:C.location,timePosted:P(C.createdAt),seller:C.seller,sellerStats:C.sellerStats},C.id))})]})]})})]})}var Ou=e=>e.type==="checkbox",_a=e=>e instanceof Date,rr=e=>e==null;const _T=e=>typeof e=="object";var Xt=e=>!rr(e)&&!Array.isArray(e)&&_T(e)&&!_a(e),kT=e=>Xt(e)&&e.target?Ou(e.target)?e.target.checked:e.target.value:e,mB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,PT=(e,t)=>e.has(mB(t)),pB=e=>{const t=e.constructor&&e.constructor.prototype;return Xt(t)&&t.hasOwnProperty("isPrototypeOf")},cy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nn(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(cy&&(e instanceof Blob||r))&&(n||Xt(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!pB(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=nn(e[s]));else return e;return t}var Zh=e=>/^\w*$/.test(e),zt=e=>e===void 0,uy=e=>Array.isArray(e)?e.filter(Boolean):[],dy=e=>uy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(e,t,n)=>{if(!t||!Xt(e))return n;const r=(Zh(t)?[t]:dy(t)).reduce((s,a)=>rr(s)?s:s[a],e);return zt(r)||r===e?zt(e[t])?n:e[t]:r},yr=e=>typeof e=="boolean",ft=(e,t,n)=>{let r=-1;const s=Zh(t)?[t]:dy(t),a=s.length,o=a-1;for(;++r<a;){const l=s[r];let c=n;if(r!==o){const u=e[l];c=Xt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ff={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Os={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fy=D.createContext(null);fy.displayName="HookFormContext";const Xh=()=>D.useContext(fy),gB=e=>{const{children:t,...n}=e;return D.createElement(fy.Provider,{value:n},t)};var ET=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Xr.all&&(t._proxyFormState[o]=!r||Xr.all),n&&(n[o]=!0),e[o]}});return s};const hy=typeof window<"u"?D.useLayoutEffect:D.useEffect;function xB(e){const t=Xh(),{control:n=t.control,disabled:r,name:s,exact:a}=e||{},[o,l]=D.useState(n._formState),c=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return hy(()=>n._subscribe({name:s,formState:c.current,exact:a,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,a]),D.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),D.useMemo(()=>ET(o,n,c.current,!1),[o,n])}var br=e=>typeof e=="string",TT=(e,t,n,r,s)=>br(e)?(r&&t.watch.add(e),le(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),le(n,a))):(r&&(t.watchAll=!0),n),fx=e=>rr(e)||!_T(e);function qs(e,t,n=new WeakSet){if(fx(e)||fx(t))return e===t;if(_a(e)&&_a(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const o=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(_a(o)&&_a(l)||Xt(o)&&Xt(l)||Array.isArray(o)&&Array.isArray(l)?!qs(o,l,n):o!==l)return!1}}return!0}function vB(e){const t=Xh(),{control:n=t.control,name:r,defaultValue:s,disabled:a,exact:o,compute:l}=e||{},c=D.useRef(s),u=D.useRef(l),d=D.useRef(void 0);u.current=l;const f=D.useMemo(()=>n._getWatch(r,c.current),[n,r]),[h,v]=D.useState(u.current?u.current(f):f);return hy(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:y=>{if(!a){const x=TT(r,n._names,y.values||n._formValues,!1,c.current);if(u.current){const b=u.current(x);qs(b,d.current)||(v(b),d.current=b)}else v(x)}}}),[n,a,r,o]),D.useEffect(()=>n._removeUnmounted()),h}function yB(e){const t=Xh(),{name:n,disabled:r,control:s=t.control,shouldUnregister:a,defaultValue:o}=e,l=PT(s._names.array,n),c=D.useMemo(()=>le(s._formValues,n,le(s._defaultValues,n,o)),[s,n,o]),u=vB({control:s,name:n,defaultValue:c,exact:!0}),d=xB({control:s,name:n,exact:!0}),f=D.useRef(e),h=D.useRef(void 0),v=D.useRef(s.register(n,{...e.rules,value:u,...yr(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const y=D.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!le(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!le(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!le(d.validatingFields,n)},error:{enumerable:!0,get:()=>le(d.errors,n)}}),[d,n]),x=D.useCallback(p=>v.current.onChange({target:{value:kT(p),name:n},type:Ff.CHANGE}),[n]),b=D.useCallback(()=>v.current.onBlur({target:{value:le(s._formValues,n),name:n},type:Ff.BLUR}),[n,s._formValues]),w=D.useCallback(p=>{const j=le(s._fields,n);j&&p&&(j._f.ref={focus:()=>p.focus&&p.focus(),select:()=>p.select&&p.select(),setCustomValidity:N=>p.setCustomValidity(N),reportValidity:()=>p.reportValidity()})},[s._fields,n]),g=D.useMemo(()=>({name:n,value:u,...yr(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:x,onBlur:b,ref:w}),[n,r,d.disabled,x,b,w,u]);return D.useEffect(()=>{const p=s._options.shouldUnregister||a,j=h.current;j&&j!==n&&!l&&s.unregister(j),s.register(n,{...f.current.rules,...yr(f.current.disabled)?{disabled:f.current.disabled}:{}});const N=(_,P)=>{const C=le(s._fields,_);C&&C._f&&(C._f.mount=P)};if(N(n,!0),p){const _=nn(le(s._options.defaultValues,n,f.current.defaultValue));ft(s._defaultValues,n,_),zt(le(s._formValues,n))&&ft(s._formValues,n,_)}return!l&&s.register(n),h.current=n,()=>{(l?p&&!s._state.action:p)?s.unregister(n):N(n,!1)}},[n,s,l,a]),D.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),D.useMemo(()=>({field:g,formState:d,fieldState:y}),[g,d,y])}const wB=e=>e.render(yB(e));var RT=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},kc=e=>Array.isArray(e)?e:[e],Pb=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function AT(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const s=e[r],a=t[r];if(s&&Xt(s)&&a){const o=AT(s,a);Xt(o)&&(n[r]=o)}else e[r]&&(n[r]=a)}return n}var nr=e=>Xt(e)&&!Object.keys(e).length,my=e=>e.type==="file",Jr=e=>typeof e=="function",Lf=e=>{if(!cy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},IT=e=>e.type==="select-multiple",py=e=>e.type==="radio",bB=e=>py(e)||Ou(e),yp=e=>Lf(e)&&e.isConnected;function jB(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=zt(e)?r++:e[t[r++]];return e}function NB(e){for(const t in e)if(e.hasOwnProperty(t)&&!zt(e[t]))return!1;return!0}function Gt(e,t){const n=Array.isArray(t)?t:Zh(t)?[t]:dy(t),r=n.length===1?e:jB(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(Xt(r)&&nr(r)||Array.isArray(r)&&NB(r))&&Gt(e,n.slice(0,-1)),e}var SB=e=>{for(const t in e)if(Jr(e[t]))return!0;return!1};function MT(e){return Array.isArray(e)||Xt(e)&&!SB(e)}function hx(e,t={}){for(const n in e)MT(e[n])?(t[n]=Array.isArray(e[n])?[]:{},hx(e[n],t[n])):zt(e[n])||(t[n]=!0);return t}function So(e,t,n){n||(n=hx(t));for(const r in e)MT(e[r])?zt(t)||fx(n[r])?n[r]=hx(e[r],Array.isArray(e[r])?[]:{}):So(e[r],rr(t)?{}:t[r],n[r]):n[r]=!qs(e[r],t[r]);return n}const Eb={value:!1,isValid:!1},Tb={value:!0,isValid:!0};var OT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!zt(e[0].attributes.value)?zt(e[0].value)||e[0].value===""?Tb:{value:e[0].value,isValid:!0}:Tb:Eb}return Eb},DT=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>zt(e)?e:t?e===""?NaN:e&&+e:n&&br(e)?new Date(e):r?r(e):e;const Rb={isValid:!1,value:null};var FT=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Rb):Rb;function Ab(e){const t=e.ref;return my(t)?t.files:py(t)?FT(e.refs).value:IT(t)?[...t.selectedOptions].map(({value:n})=>n):Ou(t)?OT(e.refs).value:DT(zt(t.value)?e.ref.value:t.value,e)}var CB=(e,t,n,r)=>{const s={};for(const a of e){const o=le(t,a);o&&ft(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},$f=e=>e instanceof RegExp,ec=e=>zt(e)?e:$f(e)?e.source:Xt(e)?$f(e.value)?e.value.source:e.value:e,Ib=e=>({isOnSubmit:!e||e===Xr.onSubmit,isOnBlur:e===Xr.onBlur,isOnChange:e===Xr.onChange,isOnAll:e===Xr.all,isOnTouch:e===Xr.onTouched});const Mb="AsyncFunction";var _B=e=>!!e&&!!e.validate&&!!(Jr(e.validate)&&e.validate.constructor.name===Mb||Xt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Mb)),kB=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ob=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Pc=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=le(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Pc(l,t))break}else if(Xt(l)&&Pc(l,t))break}}};function Db(e,t,n){const r=le(e,n);if(r||Zh(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=le(t,a),l=le(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:n}}var PB=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return nr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Xr.all))},EB=(e,t,n)=>!e||!t||e===t||kc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),TB=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,RB=(e,t)=>!uy(le(e,t)).length&&Gt(e,t),AB=(e,t,n)=>{const r=kc(le(e,n));return ft(r,"root",t[n]),ft(e,n,r),e};function Fb(e,t,n="validate"){if(br(e)||Array.isArray(e)&&e.every(br)||yr(e)&&!e)return{type:n,message:br(e)?e:"",ref:t}}var yo=e=>Xt(e)&&!$f(e)?e:{value:e,message:""},Lb=async(e,t,n,r,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:v,validate:y,name:x,valueAsNumber:b,mount:w}=e._f,g=le(n,x);if(!w||t.has(x))return{};const p=l?l[0]:o,j=E=>{s&&p.reportValidity&&(p.setCustomValidity(yr(E)?"":E||""),p.reportValidity())},N={},_=py(o),P=Ou(o),C=_||P,L=(b||my(o))&&zt(o.value)&&zt(g)||Lf(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,k=RT.bind(null,x,r,N),A=(E,M,T,q=Os.maxLength,W=Os.minLength)=>{const H=E?M:T;N[x]={type:E?q:W,message:H,ref:o,...k(E?q:W,H)}};if(a?!Array.isArray(g)||!g.length:c&&(!C&&(L||rr(g))||yr(g)&&!g||P&&!OT(l).isValid||_&&!FT(l).isValid)){const{value:E,message:M}=br(c)?{value:!!c,message:c}:yo(c);if(E&&(N[x]={type:Os.required,message:M,ref:p,...k(Os.required,M)},!r))return j(M),N}if(!L&&(!rr(f)||!rr(h))){let E,M;const T=yo(h),q=yo(f);if(!rr(g)&&!isNaN(g)){const W=o.valueAsNumber||g&&+g;rr(T.value)||(E=W>T.value),rr(q.value)||(M=W<q.value)}else{const W=o.valueAsDate||new Date(g),H=Q=>new Date(new Date().toDateString()+" "+Q),S=o.type=="time",F=o.type=="week";br(T.value)&&g&&(E=S?H(g)>H(T.value):F?g>T.value:W>new Date(T.value)),br(q.value)&&g&&(M=S?H(g)<H(q.value):F?g<q.value:W<new Date(q.value))}if((E||M)&&(A(!!E,T.message,q.message,Os.max,Os.min),!r))return j(N[x].message),N}if((u||d)&&!L&&(br(g)||a&&Array.isArray(g))){const E=yo(u),M=yo(d),T=!rr(E.value)&&g.length>+E.value,q=!rr(M.value)&&g.length<+M.value;if((T||q)&&(A(T,E.message,M.message),!r))return j(N[x].message),N}if(v&&!L&&br(g)){const{value:E,message:M}=yo(v);if($f(E)&&!g.match(E)&&(N[x]={type:Os.pattern,message:M,ref:o,...k(Os.pattern,M)},!r))return j(M),N}if(y){if(Jr(y)){const E=await y(g,n),M=Fb(E,p);if(M&&(N[x]={...M,...k(Os.validate,M.message)},!r))return j(M.message),N}else if(Xt(y)){let E={};for(const M in y){if(!nr(E)&&!r)break;const T=Fb(await y[M](g,n),p,M);T&&(E={...T,...k(M,T.message)},j(T.message),r&&(N[x]=E))}if(!nr(E)&&(N[x]={ref:p,...E},!r))return N}}return j(!0),N};const IB={mode:Xr.onSubmit,reValidateMode:Xr.onChange,shouldFocusError:!0};function MB(e={}){let t={...IB,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Jr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},s=Xt(t.defaultValues)||Xt(t.values)?nn(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:nn(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Pb(),state:Pb()},v=t.criteriaMode===Xr.all,y=R=>z=>{clearTimeout(u),u=setTimeout(R,z)},x=async R=>{if(!t.disabled&&(d.isValid||f.isValid||R)){const z=t.resolver?nr((await P()).errors):await L(r,!0);z!==n.isValid&&h.state.next({isValid:z})}},b=(R,z)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((R||Array.from(l.mount)).forEach(V=>{V&&(z?ft(n.validatingFields,V,z):Gt(n.validatingFields,V))}),h.state.next({validatingFields:n.validatingFields,isValidating:!nr(n.validatingFields)}))},w=(R,z=[],V,ie,Z=!0,G=!0)=>{if(ie&&V&&!t.disabled){if(o.action=!0,G&&Array.isArray(le(r,R))){const oe=V(le(r,R),ie.argA,ie.argB);Z&&ft(r,R,oe)}if(G&&Array.isArray(le(n.errors,R))){const oe=V(le(n.errors,R),ie.argA,ie.argB);Z&&ft(n.errors,R,oe),RB(n.errors,R)}if((d.touchedFields||f.touchedFields)&&G&&Array.isArray(le(n.touchedFields,R))){const oe=V(le(n.touchedFields,R),ie.argA,ie.argB);Z&&ft(n.touchedFields,R,oe)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=So(s,a)),h.state.next({name:R,isDirty:A(R,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ft(a,R,z)},g=(R,z)=>{ft(n.errors,R,z),h.state.next({errors:n.errors})},p=R=>{n.errors=R,h.state.next({errors:n.errors,isValid:!1})},j=(R,z,V,ie)=>{const Z=le(r,R);if(Z){const G=le(a,R,zt(V)?le(s,R):V);zt(G)||ie&&ie.defaultChecked||z?ft(a,R,z?G:Ab(Z._f)):T(R,G),o.mount&&x()}},N=(R,z,V,ie,Z)=>{let G=!1,oe=!1;const Ye={name:R};if(!t.disabled){if(!V||ie){(d.isDirty||f.isDirty)&&(oe=n.isDirty,n.isDirty=Ye.isDirty=A(),G=oe!==Ye.isDirty);const Be=qs(le(s,R),z);oe=!!le(n.dirtyFields,R),Be?Gt(n.dirtyFields,R):ft(n.dirtyFields,R,!0),Ye.dirtyFields=n.dirtyFields,G=G||(d.dirtyFields||f.dirtyFields)&&oe!==!Be}if(V){const Be=le(n.touchedFields,R);Be||(ft(n.touchedFields,R,V),Ye.touchedFields=n.touchedFields,G=G||(d.touchedFields||f.touchedFields)&&Be!==V)}G&&Z&&h.state.next(Ye)}return G?Ye:{}},_=(R,z,V,ie)=>{const Z=le(n.errors,R),G=(d.isValid||f.isValid)&&yr(z)&&n.isValid!==z;if(t.delayError&&V?(c=y(()=>g(R,V)),c(t.delayError)):(clearTimeout(u),c=null,V?ft(n.errors,R,V):Gt(n.errors,R)),(V?!qs(Z,V):Z)||!nr(ie)||G){const oe={...ie,...G&&yr(z)?{isValid:z}:{},errors:n.errors,name:R};n={...n,...oe},h.state.next(oe)}},P=async R=>{b(R,!0);const z=await t.resolver(a,t.context,CB(R||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return b(R),z},C=async R=>{const{errors:z}=await P(R);if(R)for(const V of R){const ie=le(z,V);ie?ft(n.errors,V,ie):Gt(n.errors,V)}else n.errors=z;return z},L=async(R,z,V={valid:!0})=>{for(const ie in R){const Z=R[ie];if(Z){const{_f:G,...oe}=Z;if(G){const Ye=l.array.has(G.name),Be=Z._f&&_B(Z._f);Be&&d.validatingFields&&b([G.name],!0);const tn=await Lb(Z,l.disabled,a,v,t.shouldUseNativeValidation&&!z,Ye);if(Be&&d.validatingFields&&b([G.name]),tn[G.name]&&(V.valid=!1,z))break;!z&&(le(tn,G.name)?Ye?AB(n.errors,tn,G.name):ft(n.errors,G.name,tn[G.name]):Gt(n.errors,G.name))}!nr(oe)&&await L(oe,z,V)}}return V.valid},k=()=>{for(const R of l.unMount){const z=le(r,R);z&&(z._f.refs?z._f.refs.every(V=>!yp(V)):!yp(z._f.ref))&&ve(R)}l.unMount=new Set},A=(R,z)=>!t.disabled&&(R&&z&&ft(a,R,z),!qs(Q(),s)),E=(R,z,V)=>TT(R,l,{...o.mount?a:zt(z)?s:br(R)?{[R]:z}:z},V,z),M=R=>uy(le(o.mount?a:s,R,t.shouldUnregister?le(s,R,[]):[])),T=(R,z,V={})=>{const ie=le(r,R);let Z=z;if(ie){const G=ie._f;G&&(!G.disabled&&ft(a,R,DT(z,G)),Z=Lf(G.ref)&&rr(z)?"":z,IT(G.ref)?[...G.ref.options].forEach(oe=>oe.selected=Z.includes(oe.value)):G.refs?Ou(G.ref)?G.refs.forEach(oe=>{(!oe.defaultChecked||!oe.disabled)&&(Array.isArray(Z)?oe.checked=!!Z.find(Ye=>Ye===oe.value):oe.checked=Z===oe.value||!!Z)}):G.refs.forEach(oe=>oe.checked=oe.value===Z):my(G.ref)?G.ref.value="":(G.ref.value=Z,G.ref.type||h.state.next({name:R,values:nn(a)})))}(V.shouldDirty||V.shouldTouch)&&N(R,Z,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&F(R)},q=(R,z,V)=>{for(const ie in z){if(!z.hasOwnProperty(ie))return;const Z=z[ie],G=R+"."+ie,oe=le(r,G);(l.array.has(R)||Xt(Z)||oe&&!oe._f)&&!_a(Z)?q(G,Z,V):T(G,Z,V)}},W=(R,z,V={})=>{const ie=le(r,R),Z=l.array.has(R),G=nn(z);ft(a,R,G),Z?(h.array.next({name:R,values:nn(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&V.shouldDirty&&h.state.next({name:R,dirtyFields:So(s,a),isDirty:A(R,G)})):ie&&!ie._f&&!rr(G)?q(R,G,V):T(R,G,V),Ob(R,l)&&h.state.next({...n,name:R}),h.state.next({name:o.mount?R:void 0,values:nn(a)})},H=async R=>{o.mount=!0;const z=R.target;let V=z.name,ie=!0;const Z=le(r,V),G=Be=>{ie=Number.isNaN(Be)||_a(Be)&&isNaN(Be.getTime())||qs(Be,le(a,V,Be))},oe=Ib(t.mode),Ye=Ib(t.reValidateMode);if(Z){let Be,tn;const Dn=z.type?Ab(Z._f):kT(R),ds=R.type===Ff.BLUR||R.type===Ff.FOCUS_OUT,ua=!kB(Z._f)&&!t.resolver&&!le(n.errors,V)&&!Z._f.deps||TB(ds,le(n.touchedFields,V),n.isSubmitted,Ye,oe),hr=Ob(V,l,ds);ft(a,V,Dn),ds?(!z||!z.readOnly)&&(Z._f.onBlur&&Z._f.onBlur(R),c&&c(0)):Z._f.onChange&&Z._f.onChange(R);const Vl=N(V,Dn,ds),fo=!nr(Vl)||hr;if(!ds&&h.state.next({name:V,type:R.type,values:nn(a)}),ua)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ds&&x():ds||x()),fo&&h.state.next({name:V,...hr?{}:Vl});if(!ds&&hr&&h.state.next({...n}),t.resolver){const{errors:Bl}=await P([V]);if(G(Dn),ie){const Bu=Db(n.errors,r,V),da=Db(Bl,r,Bu.name||V);Be=da.error,V=da.name,tn=nr(Bl)}}else b([V],!0),Be=(await Lb(Z,l.disabled,a,v,t.shouldUseNativeValidation))[V],b([V]),G(Dn),ie&&(Be?tn=!1:(d.isValid||f.isValid)&&(tn=await L(r,!0)));ie&&(Z._f.deps&&(!Array.isArray(Z._f.deps)||Z._f.deps.length>0)&&F(Z._f.deps),_(V,tn,Be,Vl))}},S=(R,z)=>{if(le(n.errors,z)&&R.focus)return R.focus(),1},F=async(R,z={})=>{let V,ie;const Z=kc(R);if(t.resolver){const G=await C(zt(R)?R:Z);V=nr(G),ie=R?!Z.some(oe=>le(G,oe)):V}else R?(ie=(await Promise.all(Z.map(async G=>{const oe=le(r,G);return await L(oe&&oe._f?{[G]:oe}:oe)}))).every(Boolean),!(!ie&&!n.isValid)&&x()):ie=V=await L(r);return h.state.next({...!br(R)||(d.isValid||f.isValid)&&V!==n.isValid?{}:{name:R},...t.resolver||!R?{isValid:V}:{},errors:n.errors}),z.shouldFocus&&!ie&&Pc(r,S,R?Z:l.mount),ie},Q=(R,z)=>{let V={...o.mount?a:s};return z&&(V=AT(z.dirtyFields?n.dirtyFields:n.touchedFields,V)),zt(R)?V:br(R)?le(V,R):R.map(ie=>le(V,ie))},J=(R,z)=>({invalid:!!le((z||n).errors,R),isDirty:!!le((z||n).dirtyFields,R),error:le((z||n).errors,R),isValidating:!!le(n.validatingFields,R),isTouched:!!le((z||n).touchedFields,R)}),be=R=>{R&&kc(R).forEach(z=>Gt(n.errors,z)),h.state.next({errors:R?n.errors:{}})},He=(R,z,V)=>{const ie=(le(r,R,{_f:{}})._f||{}).ref,Z=le(n.errors,R)||{},{ref:G,message:oe,type:Ye,...Be}=Z;ft(n.errors,R,{...Be,...z,ref:ie}),h.state.next({name:R,errors:n.errors,isValid:!1}),V&&V.shouldFocus&&ie&&ie.focus&&ie.focus()},De=(R,z)=>Jr(R)?h.state.subscribe({next:V=>"values"in V&&R(E(void 0,z),V)}):E(R,z,!0),yt=R=>h.state.subscribe({next:z=>{EB(R.name,z.name,R.exact)&&PB(z,R.formState||d,Ht,R.reRenderRoot)&&R.callback({values:{...a},...n,...z,defaultValues:s})}}).unsubscribe,st=R=>(o.mount=!0,f={...f,...R.formState},yt({...R,formState:f})),ve=(R,z={})=>{for(const V of R?kc(R):l.mount)l.mount.delete(V),l.array.delete(V),z.keepValue||(Gt(r,V),Gt(a,V)),!z.keepError&&Gt(n.errors,V),!z.keepDirty&&Gt(n.dirtyFields,V),!z.keepTouched&&Gt(n.touchedFields,V),!z.keepIsValidating&&Gt(n.validatingFields,V),!t.shouldUnregister&&!z.keepDefaultValue&&Gt(s,V);h.state.next({values:nn(a)}),h.state.next({...n,...z.keepDirty?{isDirty:A()}:{}}),!z.keepIsValid&&x()},Ge=({disabled:R,name:z})=>{(yr(R)&&o.mount||R||l.disabled.has(z))&&(R?l.disabled.add(z):l.disabled.delete(z))},et=(R,z={})=>{let V=le(r,R);const ie=yr(z.disabled)||yr(t.disabled);return ft(r,R,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:R}},name:R,mount:!0,...z}}),l.mount.add(R),V?Ge({disabled:yr(z.disabled)?z.disabled:t.disabled,name:R}):j(R,!0,z.value),{...ie?{disabled:z.disabled||t.disabled}:{},...t.progressive?{required:!!z.required,min:ec(z.min),max:ec(z.max),minLength:ec(z.minLength),maxLength:ec(z.maxLength),pattern:ec(z.pattern)}:{},name:R,onChange:H,onBlur:H,ref:Z=>{if(Z){et(R,z),V=le(r,R);const G=zt(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,oe=bB(G),Ye=V._f.refs||[];if(oe?Ye.find(Be=>Be===G):G===V._f.ref)return;ft(r,R,{_f:{...V._f,...oe?{refs:[...Ye.filter(yp),G,...Array.isArray(le(s,R))?[{}]:[]],ref:{type:G.type,name:R}}:{ref:G}}}),j(R,!1,void 0,G)}else V=le(r,R,{}),V._f&&(V._f.mount=!1),(t.shouldUnregister||z.shouldUnregister)&&!(PT(l.array,R)&&o.action)&&l.unMount.add(R)}}},Te=()=>t.shouldFocusError&&Pc(r,S,l.mount),Ae=R=>{yr(R)&&(h.state.next({disabled:R}),Pc(r,(z,V)=>{const ie=le(r,V);ie&&(z.disabled=ie._f.disabled||R,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(Z=>{Z.disabled=ie._f.disabled||R}))},0,!1))},We=(R,z)=>async V=>{let ie;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let Z=nn(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:G,values:oe}=await P();n.errors=G,Z=nn(oe)}else await L(r);if(l.disabled.size)for(const G of l.disabled)Gt(Z,G);if(Gt(n.errors,"root"),nr(n.errors)){h.state.next({errors:{}});try{await R(Z,V)}catch(G){ie=G}}else z&&await z({...n.errors},V),Te(),setTimeout(Te);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:nr(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},Oe=(R,z={})=>{le(r,R)&&(zt(z.defaultValue)?W(R,nn(le(s,R))):(W(R,z.defaultValue),ft(s,R,nn(z.defaultValue))),z.keepTouched||Gt(n.touchedFields,R),z.keepDirty||(Gt(n.dirtyFields,R),n.isDirty=z.defaultValue?A(R,nn(le(s,R))):A()),z.keepError||(Gt(n.errors,R),d.isValid&&x()),h.state.next({...n}))},Ie=(R,z={})=>{const V=R?nn(R):s,ie=nn(V),Z=nr(R),G=Z?s:ie;if(z.keepDefaultValues||(s=V),!z.keepValues){if(z.keepDirtyValues){const oe=new Set([...l.mount,...Object.keys(So(s,a))]);for(const Ye of Array.from(oe))le(n.dirtyFields,Ye)?ft(G,Ye,le(a,Ye)):W(Ye,le(G,Ye))}else{if(cy&&zt(R))for(const oe of l.mount){const Ye=le(r,oe);if(Ye&&Ye._f){const Be=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(Lf(Be)){const tn=Be.closest("form");if(tn){tn.reset();break}}}}if(z.keepFieldsRef)for(const oe of l.mount)W(oe,le(G,oe));else r={}}a=t.shouldUnregister?z.keepDefaultValues?nn(s):{}:nn(G),h.array.next({values:{...G}}),h.state.next({values:{...G}})}l={mount:z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!z.keepIsValid||!!z.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:Z?!1:z.keepDirty?n.isDirty:!!(z.keepDefaultValues&&!qs(R,s)),isSubmitted:z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Z?{}:z.keepDirtyValues?z.keepDefaultValues&&a?So(s,a):n.dirtyFields:z.keepDefaultValues&&R?So(s,R):z.keepDirty?n.dirtyFields:{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},gt=(R,z)=>Ie(Jr(R)?R(a):R,z),it=(R,z={})=>{const V=le(r,R),ie=V&&V._f;if(ie){const Z=ie.refs?ie.refs[0]:ie.ref;Z.focus&&(Z.focus(),z.shouldSelect&&Jr(Z.select)&&Z.select())}},Ht=R=>{n={...n,...R}},dt={control:{register:et,unregister:ve,getFieldState:J,handleSubmit:We,setError:He,_subscribe:yt,_runSchema:P,_focusError:Te,_getWatch:E,_getDirty:A,_setValid:x,_setFieldArray:w,_setDisabledField:Ge,_setErrors:p,_getFieldArray:M,_reset:Ie,_resetDefaultValues:()=>Jr(t.defaultValues)&&t.defaultValues().then(R=>{gt(R,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:Ae,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(R){o=R},get _defaultValues(){return s},get _names(){return l},set _names(R){l=R},get _formState(){return n},get _options(){return t},set _options(R){t={...t,...R}}},subscribe:st,trigger:F,register:et,handleSubmit:We,watch:De,setValue:W,getValues:Q,reset:gt,resetField:Oe,clearErrors:be,unregister:ve,setError:He,setFocus:it,getFieldState:J};return{...dt,formControl:dt}}function OB(e={}){const t=D.useRef(void 0),n=D.useRef(void 0),[r,s]=D.useState({isDirty:!1,isValidating:!1,isLoading:Jr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Jr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Jr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=MB(e);t.current={...l,formState:r}}const a=t.current.control;return a._options=e,hy(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),D.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),D.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),D.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),D.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),D.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),D.useEffect(()=>{e.values&&!qs(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),D.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=ET(r,a),t.current}const $b=(e,t,n)=>{if(e&&"reportValidity"in e){const r=le(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},LT=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?$b(r.ref,n,e):r.refs&&r.refs.forEach(s=>$b(s,n,e))}},DB=(e,t)=>{t.shouldUseNativeValidation&&LT(e,t);const n={};for(const r in e){const s=le(t.fields,r),a=Object.assign(e[r]||{},{ref:s&&s.ref});if(FB(t.names||Object.keys(e),r)){const o=Object.assign({},le(n,r));ft(o,"root",a),ft(n,r,o)}else ft(n,r,a)}return n},FB=(e,t)=>e.some(n=>n.startsWith(t+"."));var LB=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=RT(o,t,n,s,u?[].concat(u,r.message):r.message)}e.shift()}return n},$B=function(e,t,n){return n===void 0&&(n={}),function(r,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return a.shouldUseNativeValidation&&LT({},a),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:DB(LB(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const $r=m.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));$r.displayName="Textarea";const zB=gB,$T=m.createContext({}),wo=({...e})=>i.jsx($T.Provider,{value:{name:e.name},children:i.jsx(wB,{...e})}),Jh=()=>{const e=m.useContext($T),t=m.useContext(zT),{getFieldState:n,formState:r}=Xh(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},zT=m.createContext({}),xa=m.forwardRef(({className:e,...t},n)=>{const r=m.useId();return i.jsx(zT.Provider,{value:{id:r},children:i.jsx("div",{ref:n,className:de("space-y-2",e),...t})})});xa.displayName="FormItem";const uc=m.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=Jh();return i.jsx(pe,{ref:n,className:de(r&&"text-destructive",e),htmlFor:s,...t})});uc.displayName="FormLabel";const va=m.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:a}=Jh();return i.jsx(V2,{ref:t,id:r,"aria-describedby":n?`${s} ${a}`:`${s}`,"aria-invalid":!!n,...e})});va.displayName="FormControl";const UB=m.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Jh();return i.jsx("p",{ref:n,id:r,className:de("text-sm text-muted-foreground",e),...t})});UB.displayName="FormDescription";const ya=m.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:a}=Jh(),o=s?String((s==null?void 0:s.message)??""):t;return o?i.jsx("p",{ref:r,id:a,className:de("text-sm font-medium text-destructive",e),...n,children:o}):null});ya.displayName="FormMessage";const Tn=yT,VB=wT,UT=m.forwardRef(({className:e,...t},n)=>i.jsx(Kh,{ref:n,className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));UT.displayName=Kh.displayName;const yn=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(VB,{children:[i.jsx(UT,{}),i.jsxs(Qh,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(bT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Lr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yn.displayName=Qh.displayName;const wn=({className:e,...t})=>i.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wn.displayName="DialogHeader";const js=({className:e,...t})=>i.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});js.displayName="DialogFooter";const bn=m.forwardRef(({className:e,...t},n)=>i.jsx(Gh,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",e),...t}));bn.displayName=Gh.displayName;const Rn=m.forwardRef(({className:e,...t},n)=>i.jsx(Yh,{ref:n,className:de("text-sm text-muted-foreground",e),...t}));Rn.displayName=Yh.displayName;const BB=Ml("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Zo=m.forwardRef(({className:e,variant:t,...n},r)=>i.jsx("div",{ref:r,role:"alert",className:de(BB({variant:t}),e),...n}));Zo.displayName="Alert";const WB=m.forwardRef(({className:e,...t},n)=>i.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",e),...t}));WB.displayName="AlertTitle";const Xo=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",e),...t}));Xo.displayName="AlertDescription";const K=Symbol.for("drizzle:entityKind");function Yt(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,K))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(K in n&&n[K]===t[K])return!0;n=Object.getPrototypeOf(n)}return!1}var jj;jj=K;class Cl{constructor(t,n){O(this,"name");O(this,"keyAsName");O(this,"primary");O(this,"notNull");O(this,"default");O(this,"defaultFn");O(this,"onUpdateFn");O(this,"hasDefault");O(this,"isUnique");O(this,"uniqueName");O(this,"uniqueType");O(this,"dataType");O(this,"columnType");O(this,"enumValues");O(this,"generated");O(this,"generatedIdentity");O(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}O(Cl,jj,"Column");var Nj;Nj=K;class VT{constructor(t,n,r){O(this,"config");O(this,"$default",this.$defaultFn);O(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}O(VT,Nj,"ColumnBuilder");const Jo=Symbol.for("drizzle:Name");var Sj;Sj=K;class BT{constructor(t,n){O(this,"reference");O(this,"_onUpdate","no action");O(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:s,foreignColumns:a}=t();return{name:r,columns:s,foreignTable:a[0].table,foreignColumns:a}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new WT(t,this)}}O(BT,Sj,"PgForeignKeyBuilder");var Cj;Cj=K;class WT{constructor(t,n){O(this,"reference");O(this,"onUpdate");O(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),s=n.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[Jo],...s,r[0].table[Jo],...a];return t??`${o.join("_")}_fk`}}O(WT,Cj,"PgForeignKey");function HB(e,...t){return e(...t)}function qB(e){return new KT(e)}function HT(e,t){return`${e[Jo]}_${t.join("_")}_unique`}var _j;_j=K;class qT{constructor(t,n){O(this,"columns");O(this,"nullsNotDistinctConfig",!1);this.name=n,this.columns=t}nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(t){return new QT(t,this.columns,this.nullsNotDistinctConfig,this.name)}}O(qT,_j,"PgUniqueConstraintBuilder");var kj;kj=K;class KT{constructor(t){O(this,"name");this.name=t}on(...t){return new qT(t,this.name)}}O(KT,kj,"PgUniqueOnConstraintBuilder");var Pj;Pj=K;class QT{constructor(t,n,r,s){O(this,"columns");O(this,"name");O(this,"nullsNotDistinct",!1);this.table=t,this.columns=n,this.name=s??HT(this.table,this.columns.map(a=>a.name)),this.nullsNotDistinct=r}getName(){return this.name}}O(QT,Pj,"PgUniqueConstraint");function zb(e,t,n){for(let r=t;r<e.length;r++){const s=e[r];if(s==="\\"){r++;continue}if(s==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(s===","||s==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function GT(e,t=0){const n=[];let r=t,s=!1;for(;r<e.length;){const a=e[r];if(a===","){(s||r===t)&&n.push(""),s=!0,r++;continue}if(s=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,u]=zb(e,r+1,!0);n.push(c),r=u;continue}if(a==="}")return[n,r+1];if(a==="{"){const[c,u]=GT(e,r+1);n.push(c),r=u;continue}const[o,l]=zb(e,r,!1);n.push(o),r=l}return[n,r]}function KB(e){const[t]=GT(e,1);return t}function YT(e){return`{${e.map(t=>Array.isArray(t)?YT(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var Ej,Tj;class nt extends(Tj=VT,Ej=K,Tj){constructor(){super(...arguments);O(this,"foreignKeyConfigs",[])}array(n){return new XT(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:s,actions:a})=>HB((o,l)=>{const c=new BT(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},s,a))}buildExtraConfigColumn(n){return new ZT(n,this.config)}}O(nt,Ej,"PgColumnBuilder");var Rj,Aj;class Le extends(Aj=Cl,Rj=K,Aj){constructor(t,n){n.uniqueName||(n.uniqueName=HT(t,[n.name])),super(t,n),this.table=t}}O(Le,Rj,"PgColumn");var Ij,Mj;class ZT extends(Mj=Le,Ij=K,Mj){constructor(){super(...arguments);O(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});O(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}O(ZT,Ij,"ExtraConfigColumn");var Oj;Oj=K;class Kd{constructor(t,n,r,s){O(this,"name");O(this,"keyAsName");O(this,"type");O(this,"indexConfig");this.name=t,this.keyAsName=n,this.type=r,this.indexConfig=s}}O(Kd,Oj,"IndexedColumn");var Dj,Fj;class XT extends(Fj=nt,Dj=K,Fj){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new mx(t,this.config,n)}}O(XT,Dj,"PgArrayBuilder");var Lj,$j;const nh=class nh extends($j=Le,Lj=K,$j){constructor(n,r,s,a){super(n,r);O(this,"size");this.baseColumn=s,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=KB(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const s=n.map(a=>a===null?null:Yt(this.baseColumn,nh)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?s:YT(s)}};O(nh,Lj,"PgArray");let mx=nh;const Ub=Symbol.for("drizzle:isPgEnum");function QB(e){return!!e&&typeof e=="function"&&Ub in e&&e[Ub]===!0}var zj;zj=K;class gy{constructor(t,n,r,s=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:s}}}O(gy,zj,"Subquery");const GB={startActiveSpan(e,t){return t()}},el=Symbol.for("drizzle:ViewBaseConfig"),wp=Symbol.for("drizzle:Schema"),Vb=Symbol.for("drizzle:Columns"),Bb=Symbol.for("drizzle:ExtraConfigColumns"),bp=Symbol.for("drizzle:OriginalName"),jp=Symbol.for("drizzle:BaseName"),zf=Symbol.for("drizzle:IsAlias"),Wb=Symbol.for("drizzle:ExtraConfigBuilder"),JT=Symbol.for("drizzle:IsDrizzleTable");var Uj,Vj,Bj,Wj,Hj,qj,Kj,Qj,Gj,Yj;Yj=K,Gj=Jo,Qj=bp,Kj=wp,qj=Vb,Hj=Bb,Wj=jp,Bj=zf,Vj=JT,Uj=Wb;class Vn{constructor(t,n,r){O(this,Gj);O(this,Qj);O(this,Kj);O(this,qj);O(this,Hj);O(this,Wj);O(this,Bj,!1);O(this,Vj,!0);O(this,Uj);this[Jo]=this[bp]=t,this[wp]=n,this[jp]=r}}O(Vn,Yj,"Table"),O(Vn,"Symbol",{Name:Jo,Schema:wp,OriginalName:bp,Columns:Vb,ExtraConfigColumns:Bb,BaseName:jp,IsAlias:zf,ExtraConfigBuilder:Wb});function eR(e){return typeof e=="object"&&e!==null&&JT in e}function YB(e){return e!=null&&typeof e.getSQL=="function"}function ZB(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var Zj;Zj=K;class Rr{constructor(t){O(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Wt([this])}}O(Rr,Zj,"StringChunk");var Xj;Xj=K;const ba=class ba{constructor(t){O(this,"decoder",tR);O(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return GB.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=r;return ZB(t.map(d=>{var f;if(Yt(d,Rr))return{sql:d.value.join(""),params:[]};if(Yt(d,Uf))return{sql:a(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Rr("(")];for(const[v,y]of d.entries())h.push(y),v<d.length-1&&h.push(new Rr(", "));return h.push(new Rr(")")),this.buildQueryFromSourceParams(h,r)}if(Yt(d,ba))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:c||d.shouldInlineParams});if(Yt(d,Vn)){const h=d[Vn.Symbol.Schema],v=d[Vn.Symbol.Name];return{sql:h===void 0||d[zf]?a(v):a(h)+"."+a(v),params:[]}}if(Yt(d,Cl)){const h=s.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:a(h),params:[]};const v=d.table[Vn.Symbol.Schema];return{sql:d.table[zf]||v===void 0?a(d.table[Vn.Symbol.Name])+"."+a(h):a(v)+"."+a(d.table[Vn.Symbol.Name])+"."+a(h),params:[]}}if(Yt(d,sR)){const h=d[el].schema,v=d[el].name;return{sql:h===void 0||d[el].isAlias?a(v):a(h)+"."+a(v),params:[]}}if(Yt(d,xy)){if(Yt(d.value,Vf))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Yt(h,ba))return this.buildQueryFromSourceParams([h],r);if(c)return{sql:this.mapInlineParam(h,r),params:[]};let v=["none"];return l&&(v=[l(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:v}}return Yt(d,Vf)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Yt(d,ba.Aliased)&&d.fieldAlias!==void 0?{sql:a(d.fieldAlias),params:[]}:Yt(d,gy)?d._.isWith?{sql:a(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Rr("("),d._.sql,new Rr(") "),new Uf(d._.alias)],r):QB(d)?d.schema?{sql:a(d.schema)+"."+a(d.enumName),params:[]}:{sql:a(d.enumName),params:[]}:YB(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new Rr("("),d.getSQL(),new Rr(")")],r):c?{sql:this.mapInlineParam(d,r),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new ba.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};O(ba,Xj,"SQL");let Wt=ba;var Jj;Jj=K;class Uf{constructor(t){O(this,"brand");this.value=t}getSQL(){return new Wt([this])}}O(Uf,Jj,"Name");const tR={mapFromDriverValue:e=>e},nR={mapToDriverValue:e=>e};({...tR,...nR});var eN;eN=K;class xy{constructor(t,n=nR){O(this,"brand");this.value=t,this.encoder=n}getSQL(){return new Wt([this])}}O(xy,eN,"Param");function pt(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new Rr(e[0]));for(const[r,s]of t.entries())n.push(s,new Rr(e[r+1]));return new Wt(n)}(e=>{function t(){return new Wt([])}e.empty=t;function n(c){return new Wt(c)}e.fromList=n;function r(c){return new Wt([new Rr(c)])}e.raw=r;function s(c,u){const d=[];for(const[f,h]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new Wt(d)}e.join=s;function a(c){return new Uf(c)}e.identifier=a;function o(c){return new Vf(c)}e.placeholder=o;function l(c,u){return new xy(c,u)}e.param=l})(pt||(pt={}));(e=>{var n;n=K;const r=class r{constructor(a,o){O(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};O(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(Wt||(Wt={}));var tN;tN=K;class Vf{constructor(t){this.name=t}getSQL(){return new Wt([this])}}O(Vf,tN,"Placeholder");const rR=Symbol.for("drizzle:IsDrizzleView");var nN,rN,sN;sN=K,rN=el,nN=rR;class sR{constructor({name:t,schema:n,selectedFields:r,query:s}){O(this,rN);O(this,nN,!0);this[el]={name:t,originalName:t,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Wt([this])}}O(sR,sN,"View");function XB(e){return typeof e=="object"&&e!==null&&rR in e}Cl.prototype.getSQL=function(){return new Wt([this])};Vn.prototype.getSQL=function(){return new Wt([this])};gy.prototype.getSQL=function(){return new Wt([this])};function JB(e){return e[Vn.Symbol.Columns]}function e9(e){return e[el].selectedFields}function xn(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var iN,aN;class Du extends(aN=nt,iN=K,aN){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}O(Du,iN,"PgIntColumnBaseBuilder");var oN,lN;class iR extends(lN=Du,oN=K,lN){constructor(t){super(t,"number","PgBigInt53")}build(t){return new aR(t,this.config)}}O(iR,oN,"PgBigInt53Builder");var cN,uN;class aR extends(uN=Le,cN=K,uN){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}O(aR,cN,"PgBigInt53");var dN,fN;class oR extends(fN=Du,dN=K,fN){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new lR(t,this.config)}}O(oR,dN,"PgBigInt64Builder");var hN,mN;class lR extends(mN=Le,hN=K,mN){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}O(lR,hN,"PgBigInt64");function t9(e,t){const{name:n,config:r}=xn(e,t);return r.mode==="number"?new iR(n):new oR(n)}var pN,gN;class cR extends(gN=nt,pN=K,gN){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new uR(t,this.config)}}O(cR,pN,"PgBigSerial53Builder");var xN,vN;class uR extends(vN=Le,xN=K,vN){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}O(uR,xN,"PgBigSerial53");var yN,wN;class dR extends(wN=nt,yN=K,wN){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new fR(t,this.config)}}O(dR,yN,"PgBigSerial64Builder");var bN,jN;class fR extends(jN=Le,bN=K,jN){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}O(fR,bN,"PgBigSerial64");function n9(e,t){const{name:n,config:r}=xn(e,t);return r.mode==="number"?new cR(n):new dR(n)}var NN,SN;class hR extends(SN=nt,NN=K,SN){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new mR(t,this.config)}}O(hR,NN,"PgBooleanBuilder");var CN,_N;class mR extends(_N=Le,CN=K,_N){getSQLType(){return"boolean"}}O(mR,CN,"PgBoolean");function Bt(e){return new hR(e??"")}var kN,PN;class pR extends(PN=nt,kN=K,PN){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new gR(t,this.config)}}O(pR,kN,"PgCharBuilder");var EN,TN;class gR extends(TN=Le,EN=K,TN){constructor(){super(...arguments);O(this,"length",this.config.length);O(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}O(gR,EN,"PgChar");function r9(e,t={}){const{name:n,config:r}=xn(e,t);return new pR(n,r)}var RN,AN;class xR extends(AN=nt,RN=K,AN){constructor(t){super(t,"string","PgCidr")}build(t){return new vR(t,this.config)}}O(xR,RN,"PgCidrBuilder");var IN,MN;class vR extends(MN=Le,IN=K,MN){getSQLType(){return"cidr"}}O(vR,IN,"PgCidr");function s9(e){return new xR(e??"")}var ON,DN;class yR extends(DN=nt,ON=K,DN){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new wR(t,this.config)}}O(yR,ON,"PgCustomColumnBuilder");var FN,LN;class wR extends(LN=Le,FN=K,LN){constructor(n,r){super(n,r);O(this,"sqlName");O(this,"mapTo");O(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}O(wR,FN,"PgCustomColumn");function i9(e){return(t,n)=>{const{name:r,config:s}=xn(t,n);return new yR(r,s,e)}}var $N,zN;class zl extends(zN=nt,$N=K,zN){defaultNow(){return this.default(pt`now()`)}}O(zl,$N,"PgDateColumnBaseBuilder");var UN,VN;class bR extends(VN=zl,UN=K,VN){constructor(t){super(t,"date","PgDate")}build(t){return new jR(t,this.config)}}O(bR,UN,"PgDateBuilder");var BN,WN;class jR extends(WN=Le,BN=K,WN){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}O(jR,BN,"PgDate");var HN,qN;class NR extends(qN=zl,HN=K,qN){constructor(t){super(t,"string","PgDateString")}build(t){return new SR(t,this.config)}}O(NR,HN,"PgDateStringBuilder");var KN,QN;class SR extends(QN=Le,KN=K,QN){getSQLType(){return"date"}}O(SR,KN,"PgDateString");function a9(e,t){const{name:n,config:r}=xn(e,t);return(r==null?void 0:r.mode)==="date"?new bR(n):new NR(n)}var GN,YN;class CR extends(YN=nt,GN=K,YN){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new _R(t,this.config)}}O(CR,GN,"PgDoublePrecisionBuilder");var ZN,XN;class _R extends(XN=Le,ZN=K,XN){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}O(_R,ZN,"PgDoublePrecision");function o9(e){return new CR(e??"")}var JN,e1;class kR extends(e1=nt,JN=K,e1){constructor(t){super(t,"string","PgInet")}build(t){return new PR(t,this.config)}}O(kR,JN,"PgInetBuilder");var t1,n1;class PR extends(n1=Le,t1=K,n1){getSQLType(){return"inet"}}O(PR,t1,"PgInet");function l9(e){return new kR(e??"")}var r1,s1;class ER extends(s1=Du,r1=K,s1){constructor(t){super(t,"number","PgInteger")}build(t){return new TR(t,this.config)}}O(ER,r1,"PgIntegerBuilder");var i1,a1;class TR extends(a1=Le,i1=K,a1){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}O(TR,i1,"PgInteger");function ye(e){return new ER(e??"")}var o1,l1;class RR extends(l1=nt,o1=K,l1){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new AR(t,this.config)}}O(RR,o1,"PgIntervalBuilder");var c1,u1;class AR extends(u1=Le,c1=K,u1){constructor(){super(...arguments);O(this,"fields",this.config.intervalConfig.fields);O(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}O(AR,c1,"PgInterval");function c9(e,t={}){const{name:n,config:r}=xn(e,t);return new RR(n,r)}var d1,f1;class IR extends(f1=nt,d1=K,f1){constructor(t){super(t,"json","PgJson")}build(t){return new MR(t,this.config)}}O(IR,d1,"PgJsonBuilder");var h1,m1;class MR extends(m1=Le,h1=K,m1){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}O(MR,h1,"PgJson");function u9(e){return new IR(e??"")}var p1,g1;class OR extends(g1=nt,p1=K,g1){constructor(t){super(t,"json","PgJsonb")}build(t){return new DR(t,this.config)}}O(OR,p1,"PgJsonbBuilder");var x1,v1;class DR extends(v1=Le,x1=K,v1){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}O(DR,x1,"PgJsonb");function oo(e){return new OR(e??"")}var y1,w1;class FR extends(w1=nt,y1=K,w1){constructor(t){super(t,"array","PgLine")}build(t){return new LR(t,this.config)}}O(FR,y1,"PgLineBuilder");var b1,j1;class LR extends(j1=Le,b1=K,j1){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,s]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(s)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}O(LR,b1,"PgLine");var N1,S1;class $R extends(S1=nt,N1=K,S1){constructor(t){super(t,"json","PgLineABC")}build(t){return new zR(t,this.config)}}O($R,N1,"PgLineABCBuilder");var C1,_1;class zR extends(_1=Le,C1=K,_1){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,s]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(s)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}O(zR,C1,"PgLineABC");function d9(e,t){const{name:n,config:r}=xn(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new FR(n):new $R(n)}var k1,P1;class UR extends(P1=nt,k1=K,P1){constructor(t){super(t,"string","PgMacaddr")}build(t){return new VR(t,this.config)}}O(UR,k1,"PgMacaddrBuilder");var E1,T1;class VR extends(T1=Le,E1=K,T1){getSQLType(){return"macaddr"}}O(VR,E1,"PgMacaddr");function f9(e){return new UR(e??"")}var R1,A1;class BR extends(A1=nt,R1=K,A1){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new WR(t,this.config)}}O(BR,R1,"PgMacaddr8Builder");var I1,M1;class WR extends(M1=Le,I1=K,M1){getSQLType(){return"macaddr8"}}O(WR,I1,"PgMacaddr8");function h9(e){return new BR(e??"")}var O1,D1;class HR extends(D1=nt,O1=K,D1){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new qR(t,this.config)}}O(HR,O1,"PgNumericBuilder");var F1,L1;class qR extends(L1=Le,F1=K,L1){constructor(n,r){super(n,r);O(this,"precision");O(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}O(qR,F1,"PgNumeric");function KR(e,t){const{name:n,config:r}=xn(e,t);return new HR(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const En=KR;var $1,z1;class QR extends(z1=nt,$1=K,z1){constructor(t){super(t,"array","PgPointTuple")}build(t){return new GR(t,this.config)}}O(QR,$1,"PgPointTupleBuilder");var U1,V1;class GR extends(V1=Le,U1=K,V1){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}O(GR,U1,"PgPointTuple");var B1,W1;class YR extends(W1=nt,B1=K,W1){constructor(t){super(t,"json","PgPointObject")}build(t){return new ZR(t,this.config)}}O(YR,B1,"PgPointObjectBuilder");var H1,q1;class ZR extends(q1=Le,H1=K,q1){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}O(ZR,H1,"PgPointObject");function m9(e,t){const{name:n,config:r}=xn(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new QR(n):new YR(n)}function p9(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function Hb(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let s=0;s<8;s++)r.setUint8(s,e[t+s]);return r.getFloat64(0,!0)}function XR(e){const t=p9(e);let n=0;const r=t[n];n+=1;const s=new DataView(t.buffer),a=s.getUint32(n,r===1);if(n+=4,a&536870912&&(s.getUint32(n,r===1),n+=4),(a&65535)===1){const o=Hb(t,n);n+=8;const l=Hb(t,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var K1,Q1;class JR extends(Q1=nt,K1=K,Q1){constructor(t){super(t,"array","PgGeometry")}build(t){return new eA(t,this.config)}}O(JR,K1,"PgGeometryBuilder");var G1,Y1;class eA extends(Y1=Le,G1=K,Y1){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return XR(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}O(eA,G1,"PgGeometry");var Z1,X1;class tA extends(X1=nt,Z1=K,X1){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new nA(t,this.config)}}O(tA,Z1,"PgGeometryObjectBuilder");var J1,eS;class nA extends(eS=Le,J1=K,eS){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=XR(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}O(nA,J1,"PgGeometryObject");function g9(e,t){const{name:n,config:r}=xn(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new JR(n):new tA(n)}var tS,nS;class rA extends(nS=nt,tS=K,nS){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new sA(t,this.config)}}O(rA,tS,"PgRealBuilder");var rS,sS;class sA extends(sS=Le,rS=K,sS){constructor(n,r){super(n,r);O(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}O(sA,rS,"PgReal");function x9(e){return new rA(e??"")}var iS,aS;class iA extends(aS=nt,iS=K,aS){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new aA(t,this.config)}}O(iA,iS,"PgSerialBuilder");var oS,lS;class aA extends(lS=Le,oS=K,lS){getSQLType(){return"serial"}}O(aA,oS,"PgSerial");function v9(e){return new iA(e??"")}var cS,uS;class oA extends(uS=Du,cS=K,uS){constructor(t){super(t,"number","PgSmallInt")}build(t){return new lA(t,this.config)}}O(oA,cS,"PgSmallIntBuilder");var dS,fS;class lA extends(fS=Le,dS=K,fS){constructor(){super(...arguments);O(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}O(lA,dS,"PgSmallInt");function y9(e){return new oA(e??"")}var hS,mS;class cA extends(mS=nt,hS=K,mS){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new uA(t,this.config)}}O(cA,hS,"PgSmallSerialBuilder");var pS,gS;class uA extends(gS=Le,pS=K,gS){getSQLType(){return"smallserial"}}O(uA,pS,"PgSmallSerial");function w9(e){return new cA(e??"")}var xS,vS;class dA extends(vS=nt,xS=K,vS){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new fA(t,this.config)}}O(dA,xS,"PgTextBuilder");var yS,wS;class fA extends(wS=Le,yS=K,wS){constructor(){super(...arguments);O(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}O(fA,yS,"PgText");function ke(e,t={}){const{name:n,config:r}=xn(e,t);return new dA(n,r)}var bS,jS;class hA extends(jS=zl,bS=K,jS){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new mA(t,this.config)}}O(hA,bS,"PgTimeBuilder");var NS,SS;class mA extends(SS=Le,NS=K,SS){constructor(n,r){super(n,r);O(this,"withTimezone");O(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}O(mA,NS,"PgTime");function b9(e,t={}){const{name:n,config:r}=xn(e,t);return new hA(n,r.withTimezone??!1,r.precision)}var CS,_S;class pA extends(_S=zl,CS=K,_S){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new gA(t,this.config)}}O(pA,CS,"PgTimestampBuilder");var kS,PS;class gA extends(PS=Le,kS=K,PS){constructor(n,r){super(n,r);O(this,"withTimezone");O(this,"precision");O(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));O(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}O(gA,kS,"PgTimestamp");var ES,TS;class xA extends(TS=zl,ES=K,TS){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new vA(t,this.config)}}O(xA,ES,"PgTimestampStringBuilder");var RS,AS;class vA extends(AS=Le,RS=K,AS){constructor(n,r){super(n,r);O(this,"withTimezone");O(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}O(vA,RS,"PgTimestampString");function ge(e,t={}){const{name:n,config:r}=xn(e,t);return(r==null?void 0:r.mode)==="string"?new xA(n,r.withTimezone??!1,r.precision):new pA(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var IS,MS;class yA extends(MS=nt,IS=K,MS){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(pt`gen_random_uuid()`)}build(t){return new wA(t,this.config)}}O(yA,IS,"PgUUIDBuilder");var OS,DS;class wA extends(DS=Le,OS=K,DS){getSQLType(){return"uuid"}}O(wA,OS,"PgUUID");function j9(e){return new yA(e??"")}var FS,LS;class bA extends(LS=nt,FS=K,LS){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new jA(t,this.config)}}O(bA,FS,"PgVarcharBuilder");var $S,zS;class jA extends(zS=Le,$S=K,zS){constructor(){super(...arguments);O(this,"length",this.config.length);O(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}O(jA,$S,"PgVarchar");function ae(e,t={}){const{name:n,config:r}=xn(e,t);return new bA(n,r)}var US,VS;class NA extends(VS=nt,US=K,VS){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new SA(t,this.config)}}O(NA,US,"PgBinaryVectorBuilder");var BS,WS;class SA extends(WS=Le,BS=K,WS){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}O(SA,BS,"PgBinaryVector");function N9(e,t){const{name:n,config:r}=xn(e,t);return new NA(n,r)}var HS,qS;class CA extends(qS=nt,HS=K,qS){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new _A(t,this.config)}}O(CA,HS,"PgHalfVectorBuilder");var KS,QS;class _A extends(QS=Le,KS=K,QS){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}O(_A,KS,"PgHalfVector");function S9(e,t){const{name:n,config:r}=xn(e,t);return new CA(n,r)}var GS,YS;class kA extends(YS=nt,GS=K,YS){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new PA(t,this.config)}}O(kA,GS,"PgSparseVectorBuilder");var ZS,XS;class PA extends(XS=Le,ZS=K,XS){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}O(PA,ZS,"PgSparseVector");function C9(e,t){const{name:n,config:r}=xn(e,t);return new kA(n,r)}var JS,eC;class EA extends(eC=nt,JS=K,eC){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new TA(t,this.config)}}O(EA,JS,"PgVectorBuilder");var tC,nC;class TA extends(nC=Le,tC=K,nC){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}O(TA,tC,"PgVector");function _9(e,t){const{name:n,config:r}=xn(e,t);return new EA(n,r)}function k9(){return{bigint:t9,bigserial:n9,boolean:Bt,char:r9,cidr:s9,customType:i9,date:a9,doublePrecision:o9,inet:l9,integer:ye,interval:c9,json:u9,jsonb:oo,line:d9,macaddr:f9,macaddr8:h9,numeric:KR,point:m9,geometry:g9,real:x9,serial:v9,smallint:y9,smallserial:w9,text:ke,time:b9,timestamp:ge,uuid:j9,varchar:ae,bit:N9,halfvec:S9,sparsevec:C9,vector:_9}}const px=Symbol.for("drizzle:PgInlineForeignKeys"),qb=Symbol.for("drizzle:EnableRLS");var rC,sC,iC,aC,oC;class Ec extends(oC=Vn,aC=K,iC=px,sC=qb,rC=Vn.Symbol.ExtraConfigBuilder,oC){constructor(){super(...arguments);O(this,iC,[]);O(this,sC,!1);O(this,rC)}}O(Ec,aC,"PgTable"),O(Ec,"Symbol",Object.assign({},Vn.Symbol,{InlineForeignKeys:px,EnableRLS:qb}));function P9(e,t,n,r,s=e){const a=new Ec(e,r,s),o=typeof t=="function"?t(k9()):t,l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const v=h.build(a);return a[px].push(...h.buildForeignKeys(v,a)),[d,v]})),c=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const v=h.buildExtraConfigColumn(a);return[d,v]})),u=Object.assign(a,l);return u[Vn.Symbol.Columns]=l,u[Vn.Symbol.ExtraConfigColumns]=c,n&&(u[Ec.Symbol.ExtraConfigBuilder]=n),Object.assign(u,{enableRLS:()=>(u[Ec.Symbol.EnableRLS]=!0,u)})}const Tt=(e,t,n)=>P9(e,t,n,void 0);var lC;lC=K;class RA{constructor(t,n){this.unique=t,this.name=n}on(...t){return new Qd(t.map(n=>{if(Yt(n,Wt))return n;n=n;const r=new Kd(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...t){return new Qd(t.map(n=>{if(Yt(n,Wt))return n;n=n;const r=new Kd(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=n.defaultConfig,r}),this.unique,!0,this.name)}using(t,...n){return new Qd(n.map(r=>{if(Yt(r,Wt))return r;r=r;const s=new Kd(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),s}),this.unique,!0,this.name,t)}}O(RA,lC,"PgIndexBuilderOn");var cC;cC=K;class Qd{constructor(t,n,r,s,a="btree"){O(this,"config");this.config={name:s,columns:t,unique:n,only:r,method:a}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new AA(this.config,t)}}O(Qd,cC,"PgIndexBuilder");var uC;uC=K;class AA{constructor(t,n){O(this,"config");this.config={...t,table:n}}}O(AA,uC,"PgIndex");function Mt(e){return new RA(!1,e)}var tt;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(tt||(tt={}));var gx;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(gx||(gx={}));const me=tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Us=e=>{switch(typeof e){case"undefined":return me.undefined;case"string":return me.string;case"number":return Number.isNaN(e)?me.nan:me.number;case"boolean":return me.boolean;case"function":return me.function;case"bigint":return me.bigint;case"symbol":return me.symbol;case"object":return Array.isArray(e)?me.array:e===null?me.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?me.promise:typeof Map<"u"&&e instanceof Map?me.map:typeof Set<"u"&&e instanceof Set?me.set:typeof Date<"u"&&e instanceof Date?me.date:me.object;default:return me.unknown}},Y=tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),E9=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Cr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof Cr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];n[a]=n[a]||[],n[a].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Cr.create=e=>new Cr(e);const _l=(e,t)=>{let n;switch(e.code){case Y.invalid_type:e.received===me.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,tt.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:n=`Unrecognized key(s) in object: ${tt.joinValues(e.keys,", ")}`;break;case Y.invalid_union:n="Invalid input";break;case Y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${tt.joinValues(e.options)}`;break;case Y.invalid_enum_value:n=`Invalid enum value. Expected ${tt.joinValues(e.options)}, received '${e.received}'`;break;case Y.invalid_arguments:n="Invalid function arguments";break;case Y.invalid_return_type:n="Invalid function return type";break;case Y.invalid_date:n="Invalid date";break;case Y.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:tt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Y.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Y.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Y.custom:n="Invalid input";break;case Y.invalid_intersection_types:n="Intersection results could not be merged";break;case Y.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Y.not_finite:n="Number must be finite";break;default:n=t.defaultError,tt.assertNever(e)}return{message:n}};let IA=_l;function T9(e){IA=e}function Bf(){return IA}const Wf=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}},R9=[];function ce(e,t){const n=Bf(),r=Wf({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===_l?void 0:_l].filter(s=>!!s)});e.common.issues.push(r)}class In{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Pe;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,o=await s.value;r.push({key:a,value:o})}return In.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Pe;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const Pe=Object.freeze({status:"aborted"}),$o=e=>({status:"dirty",value:e}),Kn=e=>({status:"valid",value:e}),xx=e=>e.status==="aborted",vx=e=>e.status==="dirty",Ja=e=>e.status==="valid",eu=e=>typeof Promise<"u"&&e instanceof Promise;var Ne;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ne||(Ne={}));class Ts{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Kb=(e,t)=>{if(Ja(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Cr(e.common.issues);return this._error=n,this._error}}};function Fe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class Ve{get description(){return this._def.description}_getType(t){return Us(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Us(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new In,ctx:{common:t.parent.common,data:t.data,parsedType:Us(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(eu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)},s=this._parseSync({data:t,path:r.path,parent:r});return Kb(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return Ja(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(s=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>Ja(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Us(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(eu(s)?s:Promise.resolve(s));return Kb(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:Y.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new cs({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return _s.create(this,this._def)}nullable(){return Ji.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return is.create(this)}promise(){return Pl.create(this,this._def)}or(t){return su.create([this,t],this._def)}and(t){return iu.create(this,t,this._def)}transform(t){return new cs({...Fe(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new uu({...Fe(this._def),innerType:this,defaultValue:n,typeName:Ee.ZodDefault})}brand(){return new vy({typeName:Ee.ZodBranded,type:this,...Fe(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new du({...Fe(this._def),innerType:this,catchValue:n,typeName:Ee.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Fu.create(this,t)}readonly(){return fu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const A9=/^c[^\s-]{8,}$/i,I9=/^[0-9a-z]+$/,M9=/^[0-9A-HJKMNP-TV-Z]{26}$/i,O9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,D9=/^[a-z0-9_-]{21}$/i,F9=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,L9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,z9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Np;const U9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,V9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,B9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,W9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,H9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,q9=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,MA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",K9=new RegExp(`^${MA}$`);function OA(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function Q9(e){return new RegExp(`^${OA(e)}$`)}function DA(e){let t=`${MA}T${OA(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function G9(e,t){return!!((t==="v4"||!t)&&U9.test(e)||(t==="v6"||!t)&&B9.test(e))}function Y9(e,t){if(!F9.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function Z9(e,t){return!!((t==="v4"||!t)&&V9.test(e)||(t==="v6"||!t)&&W9.test(e))}class es extends Ve{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==me.string){const a=this._getOrReturnCtx(t);return ce(a,{code:Y.invalid_type,expected:me.string,received:a.parsedType}),Pe}const r=new In;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),ce(s,{code:Y.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),ce(s,{code:Y.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?ce(s,{code:Y.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&ce(s,{code:Y.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")$9.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"email",code:Y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Np||(Np=new RegExp(z9,"u")),Np.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"emoji",code:Y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")O9.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"uuid",code:Y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")D9.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"nanoid",code:Y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")A9.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"cuid",code:Y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")I9.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"cuid2",code:Y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")M9.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"ulid",code:Y.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ce(s,{validation:"url",code:Y.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"regex",code:Y.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),ce(s,{code:Y.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),ce(s,{code:Y.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),ce(s,{code:Y.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?DA(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{code:Y.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?K9.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{code:Y.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Q9(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{code:Y.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?L9.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"duration",code:Y.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?G9(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"ip",code:Y.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Y9(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"jwt",code:Y.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Z9(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"cidr",code:Y.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?H9.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"base64",code:Y.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?q9.test(t.data)||(s=this._getOrReturnCtx(t,s),ce(s,{validation:"base64url",code:Y.invalid_string,message:a.message}),r.dirty()):tt.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:Y.invalid_string,...Ne.errToObj(r)})}_addCheck(t){return new es({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ne.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ne.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ne.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ne.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ne.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ne.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ne.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ne.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ne.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ne.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ne.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ne.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ne.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ne.errToObj(n)})}nonempty(t){return this.min(1,Ne.errToObj(t))}trim(){return new es({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new es({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new es({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}es.create=e=>new es({checks:[],typeName:Ee.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Fe(e)});function X9(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return a%o/10**s}class Yi extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==me.number){const a=this._getOrReturnCtx(t);return ce(a,{code:Y.invalid_type,expected:me.number,received:a.parsedType}),Pe}let r;const s=new In;for(const a of this._def.checks)a.kind==="int"?tt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),ce(r,{code:Y.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),ce(r,{code:Y.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),ce(r,{code:Y.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?X9(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),ce(r,{code:Y.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),ce(r,{code:Y.not_finite,message:a.message}),s.dirty()):tt.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ne.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ne.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ne.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ne.toString(n))}setLimit(t,n,r,s){return new Yi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ne.toString(s)}]})}_addCheck(t){return new Yi({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&tt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Yi.create=e=>new Yi({checks:[],typeName:Ee.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Fe(e)});class Zi extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==me.bigint)return this._getInvalidInput(t);let r;const s=new In;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),ce(r,{code:Y.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),ce(r,{code:Y.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),ce(r,{code:Y.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):tt.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return ce(n,{code:Y.invalid_type,expected:me.bigint,received:n.parsedType}),Pe}gte(t,n){return this.setLimit("min",t,!0,Ne.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ne.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ne.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ne.toString(n))}setLimit(t,n,r,s){return new Zi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ne.toString(s)}]})}_addCheck(t){return new Zi({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Zi.create=e=>new Zi({checks:[],typeName:Ee.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Fe(e)});class tu extends Ve{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==me.boolean){const r=this._getOrReturnCtx(t);return ce(r,{code:Y.invalid_type,expected:me.boolean,received:r.parsedType}),Pe}return Kn(t.data)}}tu.create=e=>new tu({typeName:Ee.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Fe(e)});class eo extends Ve{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==me.date){const a=this._getOrReturnCtx(t);return ce(a,{code:Y.invalid_type,expected:me.date,received:a.parsedType}),Pe}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return ce(a,{code:Y.invalid_date}),Pe}const r=new In;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),ce(s,{code:Y.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),ce(s,{code:Y.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):tt.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new eo({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ne.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ne.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}eo.create=e=>new eo({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ee.ZodDate,...Fe(e)});class Hf extends Ve{_parse(t){if(this._getType(t)!==me.symbol){const r=this._getOrReturnCtx(t);return ce(r,{code:Y.invalid_type,expected:me.symbol,received:r.parsedType}),Pe}return Kn(t.data)}}Hf.create=e=>new Hf({typeName:Ee.ZodSymbol,...Fe(e)});class nu extends Ve{_parse(t){if(this._getType(t)!==me.undefined){const r=this._getOrReturnCtx(t);return ce(r,{code:Y.invalid_type,expected:me.undefined,received:r.parsedType}),Pe}return Kn(t.data)}}nu.create=e=>new nu({typeName:Ee.ZodUndefined,...Fe(e)});class ru extends Ve{_parse(t){if(this._getType(t)!==me.null){const r=this._getOrReturnCtx(t);return ce(r,{code:Y.invalid_type,expected:me.null,received:r.parsedType}),Pe}return Kn(t.data)}}ru.create=e=>new ru({typeName:Ee.ZodNull,...Fe(e)});class kl extends Ve{constructor(){super(...arguments),this._any=!0}_parse(t){return Kn(t.data)}}kl.create=e=>new kl({typeName:Ee.ZodAny,...Fe(e)});class $a extends Ve{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Kn(t.data)}}$a.create=e=>new $a({typeName:Ee.ZodUnknown,...Fe(e)});class ii extends Ve{_parse(t){const n=this._getOrReturnCtx(t);return ce(n,{code:Y.invalid_type,expected:me.never,received:n.parsedType}),Pe}}ii.create=e=>new ii({typeName:Ee.ZodNever,...Fe(e)});class qf extends Ve{_parse(t){if(this._getType(t)!==me.undefined){const r=this._getOrReturnCtx(t);return ce(r,{code:Y.invalid_type,expected:me.void,received:r.parsedType}),Pe}return Kn(t.data)}}qf.create=e=>new qf({typeName:Ee.ZodVoid,...Fe(e)});class is extends Ve{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==me.array)return ce(n,{code:Y.invalid_type,expected:me.array,received:n.parsedType}),Pe;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(ce(n,{code:o?Y.too_big:Y.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ce(n,{code:Y.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ce(n,{code:Y.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new Ts(n,o,n.path,l)))).then(o=>In.mergeArray(r,o));const a=[...n.data].map((o,l)=>s.type._parseSync(new Ts(n,o,n.path,l)));return In.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new is({...this._def,minLength:{value:t,message:Ne.toString(n)}})}max(t,n){return new is({...this._def,maxLength:{value:t,message:Ne.toString(n)}})}length(t,n){return new is({...this._def,exactLength:{value:t,message:Ne.toString(n)}})}nonempty(t){return this.min(1,t)}}is.create=(e,t)=>new is({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...Fe(t)});function Co(e){if(e instanceof At){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=_s.create(Co(r))}return new At({...e._def,shape:()=>t})}else return e instanceof is?new is({...e._def,type:Co(e.element)}):e instanceof _s?_s.create(Co(e.unwrap())):e instanceof Ji?Ji.create(Co(e.unwrap())):e instanceof Rs?Rs.create(e.items.map(t=>Co(t))):e}class At extends Ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=tt.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==me.object){const u=this._getOrReturnCtx(t);return ce(u,{code:Y.invalid_type,expected:me.object,received:u.parsedType}),Pe}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ii&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ts(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ii){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(ce(s,{code:Y.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ts(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>In.mergeObjectSync(r,u)):In.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Ne.errToObj,new At({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ne.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new At({...this._def,unknownKeys:"strip"})}passthrough(){return new At({...this._def,unknownKeys:"passthrough"})}extend(t){return new At({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new At({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ee.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new At({...this._def,catchall:t})}pick(t){const n={};for(const r of tt.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new At({...this._def,shape:()=>n})}omit(t){const n={};for(const r of tt.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new At({...this._def,shape:()=>n})}deepPartial(){return Co(this)}partial(t){const n={};for(const r of tt.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new At({...this._def,shape:()=>n})}required(t){const n={};for(const r of tt.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof _s;)a=a._def.innerType;n[r]=a}return new At({...this._def,shape:()=>n})}keyof(){return FA(tt.objectKeys(this.shape))}}At.create=(e,t)=>new At({shape:()=>e,unknownKeys:"strip",catchall:ii.create(),typeName:Ee.ZodObject,...Fe(t)});At.strictCreate=(e,t)=>new At({shape:()=>e,unknownKeys:"strict",catchall:ii.create(),typeName:Ee.ZodObject,...Fe(t)});At.lazycreate=(e,t)=>new At({shape:e,unknownKeys:"strip",catchall:ii.create(),typeName:Ee.ZodObject,...Fe(t)});class su extends Ve{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Cr(l.ctx.common.issues));return ce(n,{code:Y.invalid_union,unionErrors:o}),Pe}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Cr(c));return ce(n,{code:Y.invalid_union,unionErrors:l}),Pe}}get options(){return this._def.options}}su.create=(e,t)=>new su({options:e,typeName:Ee.ZodUnion,...Fe(t)});const Ls=e=>e instanceof ou?Ls(e.schema):e instanceof cs?Ls(e.innerType()):e instanceof lu?[e.value]:e instanceof Xi?e.options:e instanceof cu?tt.objectValues(e.enum):e instanceof uu?Ls(e._def.innerType):e instanceof nu?[void 0]:e instanceof ru?[null]:e instanceof _s?[void 0,...Ls(e.unwrap())]:e instanceof Ji?[null,...Ls(e.unwrap())]:e instanceof vy||e instanceof fu?Ls(e.unwrap()):e instanceof du?Ls(e._def.innerType):[];class em extends Ve{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==me.object)return ce(n,{code:Y.invalid_type,expected:me.object,received:n.parsedType}),Pe;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(ce(n,{code:Y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Pe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const a of n){const o=Ls(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,a)}}return new em({typeName:Ee.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Fe(r)})}}function yx(e,t){const n=Us(e),r=Us(t);if(e===t)return{valid:!0,data:e};if(n===me.object&&r===me.object){const s=tt.objectKeys(t),a=tt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=yx(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===me.array&&r===me.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=yx(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===me.date&&r===me.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class iu extends Ve{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,o)=>{if(xx(a)||xx(o))return Pe;const l=yx(a.value,o.value);return l.valid?((vx(a)||vx(o))&&n.dirty(),{status:n.value,value:l.data}):(ce(r,{code:Y.invalid_intersection_types}),Pe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}iu.create=(e,t,n)=>new iu({left:e,right:t,typeName:Ee.ZodIntersection,...Fe(n)});class Rs extends Ve{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==me.array)return ce(r,{code:Y.invalid_type,expected:me.array,received:r.parsedType}),Pe;if(r.data.length<this._def.items.length)return ce(r,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&r.data.length>this._def.items.length&&(ce(r,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ts(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>In.mergeArray(n,o)):In.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new Rs({...this._def,rest:t})}}Rs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Rs({items:e,typeName:Ee.ZodTuple,rest:null,...Fe(t)})};class au extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==me.object)return ce(r,{code:Y.invalid_type,expected:me.object,received:r.parsedType}),Pe;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)s.push({key:a._parse(new Ts(r,l,r.path,l)),value:o._parse(new Ts(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?In.mergeObjectAsync(n,s):In.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Ve?new au({keyType:t,valueType:n,typeName:Ee.ZodRecord,...Fe(r)}):new au({keyType:es.create(),valueType:t,typeName:Ee.ZodRecord,...Fe(n)})}}class Kf extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==me.map)return ce(r,{code:Y.invalid_type,expected:me.map,received:r.parsedType}),Pe;const s=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Ts(r,l,r.path,[u,"key"])),value:a._parse(new Ts(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Pe;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Pe;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}Kf.create=(e,t,n)=>new Kf({valueType:t,keyType:e,typeName:Ee.ZodMap,...Fe(n)});class to extends Ve{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==me.set)return ce(r,{code:Y.invalid_type,expected:me.set,received:r.parsedType}),Pe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ce(r,{code:Y.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ce(r,{code:Y.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Pe;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>a._parse(new Ts(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new to({...this._def,minSize:{value:t,message:Ne.toString(n)}})}max(t,n){return new to({...this._def,maxSize:{value:t,message:Ne.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}to.create=(e,t)=>new to({valueType:e,minSize:null,maxSize:null,typeName:Ee.ZodSet,...Fe(t)});class tl extends Ve{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==me.function)return ce(n,{code:Y.invalid_type,expected:me.function,received:n.parsedType}),Pe;function r(l,c){return Wf({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Bf(),_l].filter(u=>!!u),issueData:{code:Y.invalid_arguments,argumentsError:c}})}function s(l,c){return Wf({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Bf(),_l].filter(u=>!!u),issueData:{code:Y.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Pl){const l=this;return Kn(async function(...c){const u=new Cr([]),d=await l._def.args.parseAsync(c,a).catch(v=>{throw u.addIssue(r(c,v)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,a).catch(v=>{throw u.addIssue(s(f,v)),u})})}else{const l=this;return Kn(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new Cr([r(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,a);if(!f.success)throw new Cr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new tl({...this._def,args:Rs.create(t).rest($a.create())})}returns(t){return new tl({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new tl({args:t||Rs.create([]).rest($a.create()),returns:n||$a.create(),typeName:Ee.ZodFunction,...Fe(r)})}}class ou extends Ve{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ou.create=(e,t)=>new ou({getter:e,typeName:Ee.ZodLazy,...Fe(t)});class lu extends Ve{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ce(n,{received:n.data,code:Y.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:t.data}}get value(){return this._def.value}}lu.create=(e,t)=>new lu({value:e,typeName:Ee.ZodLiteral,...Fe(t)});function FA(e,t){return new Xi({values:e,typeName:Ee.ZodEnum,...Fe(t)})}class Xi extends Ve{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return ce(n,{expected:tt.joinValues(r),received:n.parsedType,code:Y.invalid_type}),Pe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return ce(n,{received:n.data,code:Y.invalid_enum_value,options:r}),Pe}return Kn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Xi.create(t,{...this._def,...n})}exclude(t,n=this._def){return Xi.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Xi.create=FA;class cu extends Ve{_parse(t){const n=tt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==me.string&&r.parsedType!==me.number){const s=tt.objectValues(n);return ce(r,{expected:tt.joinValues(s),received:r.parsedType,code:Y.invalid_type}),Pe}if(this._cache||(this._cache=new Set(tt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=tt.objectValues(n);return ce(r,{received:r.data,code:Y.invalid_enum_value,options:s}),Pe}return Kn(t.data)}get enum(){return this._def.values}}cu.create=(e,t)=>new cu({values:e,typeName:Ee.ZodNativeEnum,...Fe(t)});class Pl extends Ve{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==me.promise&&n.common.async===!1)return ce(n,{code:Y.invalid_type,expected:me.promise,received:n.parsedType}),Pe;const r=n.parsedType===me.promise?n.data:Promise.resolve(n.data);return Kn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Pl.create=(e,t)=>new Pl({type:e,typeName:Ee.ZodPromise,...Fe(t)});class cs extends Ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{ce(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Pe;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Pe:c.status==="dirty"||n.value==="dirty"?$o(c.value):c});{if(n.value==="aborted")return Pe;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Pe:l.status==="dirty"||n.value==="dirty"?$o(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Pe:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Pe:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ja(o))return Pe;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ja(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:n.value,value:l})):Pe);tt.assertNever(s)}}cs.create=(e,t,n)=>new cs({schema:e,typeName:Ee.ZodEffects,effect:t,...Fe(n)});cs.createWithPreprocess=(e,t,n)=>new cs({schema:t,effect:{type:"preprocess",transform:e},typeName:Ee.ZodEffects,...Fe(n)});class _s extends Ve{_parse(t){return this._getType(t)===me.undefined?Kn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_s.create=(e,t)=>new _s({innerType:e,typeName:Ee.ZodOptional,...Fe(t)});class Ji extends Ve{_parse(t){return this._getType(t)===me.null?Kn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ji.create=(e,t)=>new Ji({innerType:e,typeName:Ee.ZodNullable,...Fe(t)});class uu extends Ve{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}uu.create=(e,t)=>new uu({innerType:e,typeName:Ee.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Fe(t)});class du extends Ve{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return eu(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Cr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Cr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}du.create=(e,t)=>new du({innerType:e,typeName:Ee.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Fe(t)});class Qf extends Ve{_parse(t){if(this._getType(t)!==me.nan){const r=this._getOrReturnCtx(t);return ce(r,{code:Y.invalid_type,expected:me.nan,received:r.parsedType}),Pe}return{status:"valid",value:t.data}}}Qf.create=e=>new Qf({typeName:Ee.ZodNaN,...Fe(e)});const J9=Symbol("zod_brand");class vy extends Ve{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Fu extends Ve{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Pe:a.status==="dirty"?(n.dirty(),$o(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Pe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Fu({in:t,out:n,typeName:Ee.ZodPipeline})}}class fu extends Ve{_parse(t){const n=this._def.innerType._parse(t),r=s=>(Ja(s)&&(s.value=Object.freeze(s.value)),s);return eu(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}fu.create=(e,t)=>new fu({innerType:e,typeName:Ee.ZodReadonly,...Fe(t)});function Qb(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function yy(e,t={},n){return e?kl.create().superRefine((r,s)=>{const a=e(r);if(a instanceof Promise)return a.then(o=>{if(!o){const l=Qb(t,r),c=l.fatal??n??!0;s.addIssue({code:"custom",...l,fatal:c})}});if(!a){const o=Qb(t,r),l=o.fatal??n??!0;s.addIssue({code:"custom",...o,fatal:l})}}):kl.create()}const e7={object:At.lazycreate};var Ee;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const t7=(e,t={message:`Input not instance of ${e.name}`})=>yy(n=>n instanceof e,t),wy=es.create,by=Yi.create,n7=Qf.create,r7=Zi.create,jy=tu.create,s7=eo.create,i7=Hf.create,a7=nu.create,LA=ru.create,Gf=kl.create,o7=$a.create,l7=ii.create,c7=qf.create,$A=is.create,zA=At.create,u7=At.strictCreate,Ny=su.create,d7=em.create,f7=iu.create,h7=Rs.create,UA=au.create,m7=Kf.create,p7=to.create,g7=tl.create,x7=ou.create,v7=lu.create,y7=Xi.create,w7=cu.create,b7=Pl.create,Gb=cs.create,j7=_s.create,N7=Ji.create,S7=cs.createWithPreprocess,C7=Fu.create,_7=()=>wy().optional(),k7=()=>by().optional(),P7=()=>jy().optional(),E7={string:e=>es.create({...e,coerce:!0}),number:e=>Yi.create({...e,coerce:!0}),boolean:e=>tu.create({...e,coerce:!0}),bigint:e=>Zi.create({...e,coerce:!0}),date:e=>eo.create({...e,coerce:!0})},T7=Pe,R7=Object.freeze(Object.defineProperty({__proto__:null,BRAND:J9,DIRTY:$o,EMPTY_PATH:R9,INVALID:Pe,NEVER:T7,OK:Kn,ParseStatus:In,Schema:Ve,ZodAny:kl,ZodArray:is,ZodBigInt:Zi,ZodBoolean:tu,ZodBranded:vy,ZodCatch:du,ZodDate:eo,ZodDefault:uu,ZodDiscriminatedUnion:em,ZodEffects:cs,ZodEnum:Xi,ZodError:Cr,get ZodFirstPartyTypeKind(){return Ee},ZodFunction:tl,ZodIntersection:iu,ZodIssueCode:Y,ZodLazy:ou,ZodLiteral:lu,ZodMap:Kf,ZodNaN:Qf,ZodNativeEnum:cu,ZodNever:ii,ZodNull:ru,ZodNullable:Ji,ZodNumber:Yi,ZodObject:At,ZodOptional:_s,ZodParsedType:me,ZodPipeline:Fu,ZodPromise:Pl,ZodReadonly:fu,ZodRecord:au,ZodSchema:Ve,ZodSet:to,ZodString:es,ZodSymbol:Hf,ZodTransformer:cs,ZodTuple:Rs,ZodType:Ve,ZodUndefined:nu,ZodUnion:su,ZodUnknown:$a,ZodVoid:qf,addIssueToContext:ce,any:Gf,array:$A,bigint:r7,boolean:jy,coerce:E7,custom:yy,date:s7,datetimeRegex:DA,defaultErrorMap:_l,discriminatedUnion:d7,effect:Gb,enum:y7,function:g7,getErrorMap:Bf,getParsedType:Us,instanceof:t7,intersection:f7,isAborted:xx,isAsync:eu,isDirty:vx,isValid:Ja,late:e7,lazy:x7,literal:v7,makeIssue:Wf,map:m7,nan:n7,nativeEnum:w7,never:l7,null:LA,nullable:N7,number:by,object:zA,get objectUtil(){return gx},oboolean:P7,onumber:k7,optional:j7,ostring:_7,pipeline:C7,preprocess:S7,promise:b7,quotelessJson:E9,record:UA,set:p7,setErrorMap:T9,strictObject:u7,string:wy,symbol:i7,transformer:Gb,tuple:h7,undefined:a7,union:Ny,unknown:o7,get util(){return tt},void:c7},Symbol.toStringTag,{value:"Module"})),Rt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function qt(e,t){return t.includes(e.columnType)}function A7(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const I7=Ny([wy(),by(),jy(),LA()]),M7=Ny([I7,UA(Gf()),$A(Gf())]),O7=yy(e=>e instanceof Buffer);function VA(e,t){const n=(t==null?void 0:t.zodInstance)??R7,r=(t==null?void 0:t.coerce)??{};let s;return A7(e)&&(s=e.enumValues.length?n.enum(e.enumValues):n.string()),s||(qt(e,["PgGeometry","PgPointTuple"])?s=n.tuple([n.number(),n.number()]):qt(e,["PgGeometryObject","PgPointObject"])?s=n.object({x:n.number(),y:n.number()}):qt(e,["PgHalfVector","PgVector"])?(s=n.array(n.number()),s=e.dimensions?s.length(e.dimensions):s):qt(e,["PgLine"])?s=n.tuple([n.number(),n.number(),n.number()]):qt(e,["PgLineABC"])?s=n.object({a:n.number(),b:n.number(),c:n.number()}):qt(e,["PgArray"])?(s=n.array(VA(e.baseColumn,n)),s=e.size?s.length(e.size):s):e.dataType==="array"?s=n.array(n.any()):e.dataType==="number"?s=D7(e,n,r):e.dataType==="bigint"?s=F7(e,n,r):e.dataType==="boolean"?s=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?s=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?s=L7(e,n,r):e.dataType==="json"?s=M7:e.dataType==="custom"?s=n.any():e.dataType==="buffer"&&(s=O7)),s||(s=n.any()),s}function D7(e,t,n){let r=e.getSQLType().includes("unsigned"),s,a,o=!1;qt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(s=r?0:Rt.INT8_MIN,a=r?Rt.INT8_UNSIGNED_MAX:Rt.INT8_MAX,o=!0):qt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=r?0:Rt.INT16_MIN,a=r?Rt.INT16_UNSIGNED_MAX:Rt.INT16_MAX,o=!0):qt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=r?0:Rt.INT24_MIN,a=r?Rt.INT24_UNSIGNED_MAX:Rt.INT24_MAX,o=qt(e,["MySqlMediumInt","SingleStoreMediumInt"])):qt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=r?0:Rt.INT32_MIN,a=r?Rt.INT32_UNSIGNED_MAX:Rt.INT32_MAX,o=!0):qt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=r?0:Rt.INT48_MIN,a=r?Rt.INT48_UNSIGNED_MAX:Rt.INT48_MAX):qt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||qt(e,["MySqlSerial","SingleStoreSerial"]),s=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):qt(e,["MySqlYear","SingleStoreYear"])?(s=1901,a=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?t.coerce.number():t.number();return l=l.min(s).max(a),o?l.int():l}function F7(e,t,n){const r=e.getSQLType().includes("unsigned"),s=r?0n:Rt.INT64_MIN,a=r?Rt.INT64_UNSIGNED_MAX:Rt.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(s).max(a)}function L7(e,t,n){if(qt(e,["PgUUID"]))return t.string().uuid();let r,s,a=!1;qt(e,["PgVarchar","SQLiteText"])?r=e.length:qt(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??Rt.INT16_UNSIGNED_MAX:qt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=Rt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=Rt.INT24_UNSIGNED_MAX:e.textType==="text"?r=Rt.INT16_UNSIGNED_MAX:r=Rt.INT8_UNSIGNED_MAX),qt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,a=!0),qt(e,["PgBinaryVector"])&&(s=/^[01]+$/,r=e.dimensions);let o=n===!0||n!=null&&n.string?t.coerce.string():t.string();return o=s?o.regex(s):o,r&&a?o.length(r):r?o.max(r):o}function BA(e){return eR(e)?JB(e):e9(e)}function WA(e,t,n,r){const s={};for(const[a,o]of Object.entries(e)){if(!Yt(o,Cl)&&!Yt(o,Wt)&&!Yt(o,Wt.Aliased)&&typeof o=="object"){const f=eR(o)||XB(o)?BA(o):o;s[a]=WA(f,t[a]??{},n,r);continue}const l=t[a];if(l!==void 0&&typeof l!="function"){s[a]=l;continue}const c=Yt(o,Cl)?o:void 0,u=c?VA(c,r):Gf(),d=typeof l=="function"?l(u):u;n.never(c)||(s[a]=d,c&&(n.nullable(c)&&(s[a]=s[a].nullable()),n.optional(c)&&(s[a]=s[a].optional())))}return zA(s)}const $7={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},On=(e,t)=>{const n=BA(e);return WA(n,{},$7)};Tt("trust_scores",{id:ke("id").primaryKey().default(pt`gen_random_uuid()`),userId:ke("user_id").notNull().unique(),overallScore:ye("overall_score").notNull().default(0),scoreLevel:ke("score_level").notNull().default("new"),verificationScore:ye("verification_score").notNull().default(0),transactionScore:ye("transaction_score").notNull().default(0),reputationScore:ye("reputation_score").notNull().default(0),responsivenessScore:ye("responsiveness_score").notNull().default(0),totalTransactions:ye("total_transactions").notNull().default(0),successfulTransactions:ye("successful_transactions").notNull().default(0),disputedTransactions:ye("disputed_transactions").notNull().default(0),cancelledTransactions:ye("cancelled_transactions").notNull().default(0),totalVolume:En("total_volume",{precision:12,scale:2}).notNull().default("0"),totalReviews:ye("total_reviews").notNull().default(0),averageRating:En("average_rating",{precision:3,scale:2}),positiveReviews:ye("positive_reviews").notNull().default(0),negativeReviews:ye("negative_reviews").notNull().default(0),listingsCreated:ye("listings_created").notNull().default(0),listingsSold:ye("listings_sold").notNull().default(0),listingCompletionRate:En("listing_completion_rate",{precision:5,scale:2}),averageResponseTime:ye("average_response_time"),totalMessages:ye("total_messages").notNull().default(0),lastCalculated:ge("last_calculated").defaultNow(),createdAt:ge("created_at").defaultNow().notNull(),updatedAt:ge("updated_at").defaultNow().notNull()},e=>({userIdIdx:Mt("trust_scores_user_id_idx").on(e.userId),scoreLevelIdx:Mt("trust_scores_score_level_idx").on(e.scoreLevel)}));Tt("verifications",{id:ke("id").primaryKey().default(pt`gen_random_uuid()`),userId:ke("user_id").notNull(),phoneVerified:Bt("phone_verified").notNull().default(!1),phoneVerifiedAt:ge("phone_verified_at"),emailVerified:Bt("email_verified").notNull().default(!1),emailVerifiedAt:ge("email_verified_at"),idVerified:Bt("id_verified").notNull().default(!1),idVerifiedAt:ge("id_verified_at"),idVerificationProvider:ke("id_verification_provider"),paymentVerified:Bt("payment_verified").notNull().default(!1),paymentVerifiedAt:ge("payment_verified_at"),socialVerified:Bt("social_verified").notNull().default(!1),socialVerifiedAt:ge("social_verified_at"),socialProvider:ke("social_provider"),verificationMetadata:oo("verification_metadata"),createdAt:ge("created_at").defaultNow().notNull(),updatedAt:ge("updated_at").defaultNow().notNull()},e=>({userIdIdx:Mt("verifications_user_id_idx").on(e.userId),phoneVerifiedIdx:Mt("verifications_phone_verified_idx").on(e.phoneVerified),emailVerifiedIdx:Mt("verifications_email_verified_idx").on(e.emailVerified),uniqueUserId:qB("verifications_user_id_unique").on(e.userId)}));Tt("badges",{id:ke("id").primaryKey().default(pt`gen_random_uuid()`),userId:ke("user_id").notNull(),badgeType:ke("badge_type").notNull(),badgeName:ke("badge_name").notNull(),badgeIcon:ke("badge_icon"),badgeColor:ke("badge_color"),earnedAt:ge("earned_at").defaultNow().notNull(),expiresAt:ge("expires_at"),isActive:Bt("is_active").notNull().default(!0),createdAt:ge("created_at").defaultNow().notNull()},e=>({userIdIdx:Mt("badges_user_id_idx").on(e.userId),badgeTypeIdx:Mt("badges_badge_type_idx").on(e.badgeType),isActiveIdx:Mt("badges_is_active_idx").on(e.isActive)}));Tt("trust_events",{id:ke("id").primaryKey().default(pt`gen_random_uuid()`),userId:ke("user_id").notNull(),eventType:ke("event_type").notNull(),eventCategory:ke("event_category").notNull(),scoreBefore:ye("score_before"),scoreAfter:ye("score_after"),scoreDelta:ye("score_delta"),reason:ke("reason"),metadata:oo("metadata"),createdAt:ge("created_at").defaultNow().notNull()},e=>({userIdIdx:Mt("trust_events_user_id_idx").on(e.userId),eventTypeIdx:Mt("trust_events_event_type_idx").on(e.eventType),createdAtIdx:Mt("trust_events_created_at_idx").on(e.createdAt)}));Tt("penalties",{id:ke("id").primaryKey().default(pt`gen_random_uuid()`),userId:ke("user_id").notNull(),penaltyType:ke("penalty_type").notNull(),reason:ke("reason").notNull(),scorePenalty:ye("score_penalty").notNull().default(0),isActive:Bt("is_active").notNull().default(!0),appliedAt:ge("applied_at").defaultNow().notNull(),expiresAt:ge("expires_at"),appealSubmitted:Bt("appeal_submitted").notNull().default(!1),appealedAt:ge("appealed_at"),appealResolution:ke("appeal_resolution"),appealResolvedAt:ge("appeal_resolved_at"),metadata:oo("metadata"),createdAt:ge("created_at").defaultNow().notNull(),updatedAt:ge("updated_at").defaultNow().notNull()},e=>({userIdIdx:Mt("penalties_user_id_idx").on(e.userId),penaltyTypeIdx:Mt("penalties_penalty_type_idx").on(e.penaltyType),isActiveIdx:Mt("penalties_is_active_idx").on(e.isActive)}));Tt("reports",{id:ke("id").primaryKey().default(pt`gen_random_uuid()`),reporterId:ke("reporter_id").notNull(),reportedUserId:ke("reported_user_id").notNull(),reportType:ke("report_type").notNull(),reportReason:ke("report_reason").notNull(),status:ke("status").notNull().default("pending"),evidence:oo("evidence"),moderatorId:ke("moderator_id"),moderatorNotes:ke("moderator_notes"),resolution:ke("resolution"),resolvedAt:ge("resolved_at"),createdAt:ge("created_at").defaultNow().notNull(),updatedAt:ge("updated_at").defaultNow().notNull()},e=>({reporterIdIdx:Mt("reports_reporter_id_idx").on(e.reporterId),reportedUserIdIdx:Mt("reports_reported_user_id_idx").on(e.reportedUserId),statusIdx:Mt("reports_status_idx").on(e.status)}));const z7={PENDING:"pending"},U7=Tt("transactions",{id:ke("id").primaryKey().default(pt`gen_random_uuid()`),buyerId:ke("buyer_id").notNull(),sellerId:ke("seller_id").notNull(),listingId:ke("listing_id").notNull(),amount:En("amount",{precision:10,scale:2}).notNull(),platformFee:En("platform_fee",{precision:10,scale:2}).notNull(),sellerPayout:En("seller_payout",{precision:10,scale:2}).notNull(),stripePaymentIntentId:ae("stripe_payment_intent_id",{length:255}),stripeChargeId:ae("stripe_charge_id",{length:255}),status:ae("status",{length:30}).notNull().default(z7.PENDING),meetupScheduledAt:ge("meetup_scheduled_at"),meetupLocation:ke("meetup_location"),shippedAt:ge("shipped_at"),deliveredAt:ge("delivered_at"),autoReleaseAt:ge("auto_release_at"),disputeReason:ke("dispute_reason"),disputeOpenedAt:ge("dispute_opened_at"),disputeResolvedAt:ge("dispute_resolved_at"),createdAt:ge("created_at").defaultNow().notNull(),updatedAt:ge("updated_at").defaultNow().notNull(),completedAt:ge("completed_at"),cancelledAt:ge("cancelled_at")},e=>({buyerIdIdx:Mt("transactions_buyer_id_idx").on(e.buyerId),sellerIdIdx:Mt("transactions_seller_id_idx").on(e.sellerId),listingIdIdx:Mt("transactions_listing_id_idx").on(e.listingId),statusIdx:Mt("transactions_status_idx").on(e.status),createdAtIdx:Mt("transactions_created_at_idx").on(e.createdAt)}));On(U7).omit({id:!0,createdAt:!0,updatedAt:!0,completedAt:!0,cancelledAt:!0});Tt("sessions",{sid:ae("sid").primaryKey(),sess:oo("sess").notNull(),expire:ge("expire").notNull()},e=>[Mt("IDX_session_expire").on(e.expire)]);const en=Tt("users",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),email:ae("email").unique(),firstName:ae("first_name"),lastName:ae("last_name"),profileImageUrl:ae("profile_image_url"),bio:ke("bio"),location:ae("location",{length:100}),stripeCustomerId:ae("stripe_customer_id"),stripeSubscriptionId:ae("stripe_subscription_id"),reviewEmailsEnabled:Bt("review_emails_enabled").notNull().default(!0),aiUsesThisMonth:ye("ai_uses_this_month").notNull().default(0),aiResetDate:ge("ai_reset_date").notNull().defaultNow(),aiCreditsPurchased:ye("ai_credits_purchased").notNull().default(0),subscriptionTier:ae("subscription_tier",{length:20}).notNull().default("free"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()});On(en).pick({id:!0,email:!0,firstName:!0,lastName:!0,profileImageUrl:!0});const oi=Tt("listings",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),userId:ae("user_id").notNull().references(()=>en.id,{onDelete:"cascade"}),title:ke("title").notNull(),description:ke("description").notNull(),price:En("price",{precision:10,scale:2}).notNull(),category:ae("category",{length:50}).notNull(),condition:ae("condition",{length:20}).notNull(),location:ae("location",{length:100}).notNull(),images:ke("images").array().notNull().default(pt`'{}'::text[]`),status:ae("status",{length:20}).notNull().default("active"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()}),V7=On(oi).omit({id:!0,createdAt:!0,updatedAt:!0}),B7=Tt("messages",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),listingId:ae("listing_id").notNull().references(()=>oi.id,{onDelete:"cascade"}),senderId:ae("sender_id").notNull().references(()=>en.id,{onDelete:"cascade"}),receiverId:ae("receiver_id").notNull().references(()=>en.id,{onDelete:"cascade"}),content:ke("content").notNull(),isRead:Bt("is_read").notNull().default(!1),createdAt:ge("created_at").defaultNow()});On(B7).omit({id:!0,createdAt:!0,isRead:!0});const W7=Tt("favorites",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),userId:ae("user_id").notNull().references(()=>en.id,{onDelete:"cascade"}),listingId:ae("listing_id").notNull().references(()=>oi.id,{onDelete:"cascade"}),createdAt:ge("created_at").defaultNow()});On(W7).omit({id:!0,createdAt:!0});const H7=Tt("upload_sessions",{id:ae("id").primaryKey(),userId:ae("user_id").notNull().references(()=>en.id,{onDelete:"cascade"}),images:ke("images").array().notNull().default(pt`'{}'::text[]`),expiresAt:ge("expires_at").notNull(),createdAt:ge("created_at").defaultNow()});On(H7).omit({createdAt:!0});const q7=Tt("offers",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),listingId:ae("listing_id").notNull().references(()=>oi.id,{onDelete:"cascade"}),buyerId:ae("buyer_id").notNull().references(()=>en.id,{onDelete:"cascade"}),sellerId:ae("seller_id").notNull().references(()=>en.id,{onDelete:"cascade"}),offerAmount:En("offer_amount",{precision:10,scale:2}).notNull(),depositAmount:En("deposit_amount",{precision:10,scale:2}).default("0"),message:ke("message"),status:ae("status",{length:20}).notNull().default("pending"),counterOfferAmount:En("counter_offer_amount",{precision:10,scale:2}),counterOfferMessage:ke("counter_offer_message"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow(),respondedAt:ge("responded_at"),expiresAt:ge("expires_at")});On(q7).omit({id:!0,createdAt:!0,updatedAt:!0,respondedAt:!0});const HA=Tt("reviews",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),listingId:ae("listing_id").notNull().references(()=>oi.id,{onDelete:"cascade"}),reviewerId:ae("reviewer_id").notNull().references(()=>en.id,{onDelete:"cascade"}),reviewedUserId:ae("reviewed_user_id").notNull().references(()=>en.id,{onDelete:"cascade"}),overallRating:ye("overall_rating").notNull(),communicationRating:ye("communication_rating"),asDescribedRating:ye("as_described_rating"),punctualityRating:ye("punctuality_rating"),professionalismRating:ye("professionalism_rating"),reviewTitle:ae("review_title",{length:200}),reviewText:ke("review_text").notNull(),reviewPhotos:ke("review_photos").array().default(pt`'{}'::text[]`),reviewerRole:ae("reviewer_role",{length:20}).notNull(),verifiedTransaction:Bt("verified_transaction").default(!0),wouldTransactAgain:ae("would_transact_again",{length:20}),sellerResponse:ke("seller_response"),sellerResponseAt:ge("seller_response_at"),sellerResponseEditedAt:ge("seller_response_edited_at"),helpfulCount:ye("helpful_count").default(0),notHelpfulCount:ye("not_helpful_count").default(0),isPublic:Bt("is_public").default(!0),isFlagged:Bt("is_flagged").default(!1),flagReason:ke("flag_reason"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()});On(HA).omit({id:!0,createdAt:!0,updatedAt:!0,helpfulCount:!0,notHelpfulCount:!0,sellerResponse:!0,sellerResponseAt:!0,sellerResponseEditedAt:!0,isFlagged:!0,flagReason:!0});const qA=Tt("cancellation_comments",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),listingId:ae("listing_id").notNull().references(()=>oi.id,{onDelete:"cascade"}),cancelledByUserId:ae("cancelled_by_user_id").notNull().references(()=>en.id,{onDelete:"cascade"}),comment:ke("comment").notNull(),isPublic:Bt("is_public").default(!0),cancelledRole:ae("cancelled_role",{length:20}).notNull(),cancellationTiming:ae("cancellation_timing",{length:50}),cancellationReasonCategory:ae("cancellation_reason_category",{length:100}),responseByUserId:ae("response_by_user_id").references(()=>en.id),responseText:ke("response_text"),responseIsPublic:Bt("response_is_public").default(!0),responseAt:ge("response_at"),helpfulCount:ye("helpful_count").default(0),notHelpfulCount:ye("not_helpful_count").default(0),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()});On(qA).omit({id:!0,createdAt:!0,updatedAt:!0,helpfulCount:!0,notHelpfulCount:!0,responseByUserId:!0,responseText:!0,responseIsPublic:!0,responseAt:!0});Tt("user_statistics",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),userId:ae("user_id").unique().notNull().references(()=>en.id,{onDelete:"cascade"}),totalSales:ye("total_sales").default(0),successfulSales:ye("successful_sales").default(0),cancelledBySeller:ye("cancelled_by_seller").default(0),cancelledByBuyerOnSeller:ye("cancelled_by_buyer_on_seller").default(0),sellerNoShows:ye("seller_no_shows").default(0),buyerNoShowsOnSeller:ye("buyer_no_shows_on_seller").default(0),totalPurchases:ye("total_purchases").default(0),successfulPurchases:ye("successful_purchases").default(0),cancelledByBuyer:ye("cancelled_by_buyer").default(0),cancelledBySellerOnBuyer:ye("cancelled_by_seller_on_buyer").default(0),buyerNoShows:ye("buyer_no_shows").default(0),sellerNoShowsOnBuyer:ye("seller_no_shows_on_buyer").default(0),recentTransactions90d:ye("recent_transactions_90d").default(0),recentCancellations90d:ye("recent_cancellations_90d").default(0),recentNoShows90d:ye("recent_no_shows_90d").default(0),avgResponseTimeMinutes:ye("avg_response_time_minutes"),responseRatePercent:En("response_rate_percent",{precision:5,scale:2}),responsesWithin15min:ye("responses_within_15min").default(0),responsesWithin1hour:ye("responses_within_1hour").default(0),responsesWithin24hours:ye("responses_within_24hours").default(0),totalMessagesReceived:ye("total_messages_received").default(0),checkedInEarly:ye("checked_in_early").default(0),checkedInOnTime:ye("checked_in_on_time").default(0),checkedInLate:ye("checked_in_late").default(0),totalCheckins:ye("total_checkins").default(0),totalReviewsReceived:ye("total_reviews_received").default(0),fiveStarReviews:ye("five_star_reviews").default(0),fourStarReviews:ye("four_star_reviews").default(0),threeStarReviews:ye("three_star_reviews").default(0),twoStarReviews:ye("two_star_reviews").default(0),oneStarReviews:ye("one_star_reviews").default(0),averageRating:En("average_rating",{precision:3,scale:2}),phoneVerified:Bt("phone_verified").default(!1),emailVerified:Bt("email_verified").default(!1),idVerified:Bt("id_verified").default(!1),stripeConnected:Bt("stripe_connected").default(!1),sellerSuccessRate:En("seller_success_rate",{precision:5,scale:2}),buyerSuccessRate:En("buyer_success_rate",{precision:5,scale:2}),overallSuccessRate:En("overall_success_rate",{precision:5,scale:2}),memberSince:ge("member_since"),updatedAt:ge("updated_at").defaultNow()});const K7=Tt("review_votes",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),reviewId:ae("review_id").notNull().references(()=>HA.id,{onDelete:"cascade"}),userId:ae("user_id").notNull().references(()=>en.id,{onDelete:"cascade"}),voteType:ae("vote_type",{length:20}).notNull(),createdAt:ge("created_at").defaultNow()});On(K7).omit({id:!0,createdAt:!0});const Q7=Tt("cancellation_comment_votes",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),commentId:ae("comment_id").notNull().references(()=>qA.id,{onDelete:"cascade"}),userId:ae("user_id").notNull().references(()=>en.id,{onDelete:"cascade"}),voteType:ae("vote_type",{length:20}).notNull(),createdAt:ge("created_at").defaultNow()});On(Q7).omit({id:!0,createdAt:!0});const G7=Tt("transaction_events",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),listingId:ae("listing_id").notNull().references(()=>oi.id,{onDelete:"cascade"}),userId:ae("user_id").notNull().references(()=>en.id,{onDelete:"cascade"}),eventType:ae("event_type",{length:50}).notNull(),eventData:oo("event_data"),createdAt:ge("created_at").defaultNow()});On(G7).omit({id:!0,createdAt:!0});const Y7=Tt("review_request_emails",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),listingId:ae("listing_id").notNull().references(()=>oi.id,{onDelete:"cascade"}),recipientUserId:ae("recipient_user_id").notNull().references(()=>en.id,{onDelete:"cascade"}),emailType:ae("email_type",{length:50}).notNull(),sentAt:ge("sent_at").defaultNow(),reviewLeft:Bt("review_left").notNull().default(!1),reviewLeftAt:ge("review_left_at")});On(Y7).omit({id:!0,sentAt:!0,reviewLeft:!0,reviewLeftAt:!0});const Z7=Tt("review_tokens",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),token:ae("token").notNull().unique(),listingId:ae("listing_id").notNull().references(()=>oi.id,{onDelete:"cascade"}),userId:ae("user_id").notNull().references(()=>en.id,{onDelete:"cascade"}),used:Bt("used").notNull().default(!1),expiresAt:ge("expires_at").notNull(),createdAt:ge("created_at").defaultNow()});On(Z7).omit({id:!0,used:!0,createdAt:!0});const X7=Tt("user_credits",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),userId:ae("user_id").notNull().unique().references(()=>en.id,{onDelete:"cascade"}),email:ae("email").notNull(),creditsRemaining:ye("credits_remaining").notNull().default(0),creditsPurchased:ye("credits_purchased").notNull().default(0),creditsUsed:ye("credits_used").notNull().default(0),lastPurchaseDate:ge("last_purchase_date"),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()});On(X7).omit({id:!0,createdAt:!0,updatedAt:!0});const J7=Tt("credit_transactions",{id:ae("id").primaryKey().default(pt`gen_random_uuid()`),userId:ae("user_id").notNull().references(()=>en.id,{onDelete:"cascade"}),transactionType:ae("transaction_type",{length:50}).notNull(),amount:ye("amount").notNull(),cost:En("cost",{precision:10,scale:2}),description:ke("description"),stripePaymentId:ae("stripe_payment_id"),createdAt:ge("created_at").defaultNow()});On(J7).omit({id:!0,createdAt:!0});const Sp=[{icon:"",title:"Smart Pricing Psychology",description:"Pricing at $99 instead of $100 can increase click-through rates by 20%. Round numbers suggest firm pricing, while precise amounts ($47) feel more negotiable and research-backed."},{icon:"",title:"SEO-Optimized Keywords",description:"AI-generated descriptions include keywords buyers actually search for, making your items 3x more likely to appear in search results. More visibility = faster sales."},{icon:"",title:"Detailed Descriptions Sell Faster",description:"Listings with detailed descriptions sell 40% faster than vague ones. AI captures specific details like materials, dimensions, and condition that buyers want to know."},{icon:"",title:"Meta Tags Drive Discovery",description:"Proper meta tags help search engines categorize your items correctly. AI analyzes your product and assigns the most relevant tags automatically for maximum exposure."},{icon:"",title:"Professional Titles Matter",description:"Items with clear, descriptive titles get 60% more views. AI creates titles that include brand, condition, size, and key features - exactly what buyers search for."},{icon:"",title:"Accurate Categories = More Buyers",description:"Placing items in the right category increases visibility by 50%. AI analyzes your product and selects the most accurate category automatically."},{icon:"",title:"Save 30+ Minutes Per Listing",description:"Writing quality descriptions manually takes time. AI generates professional product descriptions in seconds, letting you list items 10x faster."},{icon:"",title:"Higher Quality = More Sales",description:"Professional-looking listings build buyer trust. AI-generated content is consistent, detailed, and error-free - making your items look premium."},{icon:"",title:"Condition Assessment Accuracy",description:"AI analyzes visible wear and tear to suggest accurate condition ratings (New, Like New, Good, Fair). Honest condition descriptions reduce returns and disputes."},{icon:"",title:"Smart Price Suggestions",description:"AI compares similar items to suggest both retail and used pricing. Price competitively from the start to sell faster and maximize your profit."},{icon:"",title:"Why Description Generation Takes Longer",description:"Phase 3 takes ~24 seconds per item because AI is creating professional titles, detailed descriptions, accurate categories, condition assessment, price suggestions, and SEO meta tags. This is 3x longer than analysis, but ensures your listings are complete and optimized for sales."}];function Yb({open:e,currentIndex:t,totalImages:n,analyzedItems:r,onClose:s,countdown:a=0,formatTime:o,phase:l="upload",phaseMessage:c}){const u=n>0?t/n*100:0,d=u===100&&r.every(g=>g.status==="completed"),h={upload:{title:" Uploading Your Photos",icon:Yc,description:"Preparing images for AI analysis",color:"from-green-500 to-green-600"},ai:{title:" AI Analyzing Your Items",icon:kf,description:"Detecting products and features",color:"from-blue-500 to-blue-600"},description:{title:" Generating Descriptions & Meta Tags",icon:X0,description:"Creating detailed content for each item",color:"from-purple-500 to-purple-600"},complete:{title:" Processing Complete",icon:wt,description:"All items ready for review",color:"from-emerald-500 to-emerald-600"}}[l],[v,y]=m.useState(0),[x,b]=m.useState("opacity-100");m.useEffect(()=>{e&&(y(0),b("opacity-100"))},[e,l]),m.useEffect(()=>{if(!e||d)return;const g=setInterval(()=>{b("opacity-0"),setTimeout(()=>{y(p=>(p+1)%Sp.length),b("opacity-100")},300)},6e3);return()=>clearInterval(g)},[e,d]);const w=Sp[v];return i.jsx(Tn,{open:e,onOpenChange:s,children:i.jsxs(yn,{className:"sm:max-w-lg","data-testid":"dialog-progress",onInteractOutside:g=>!d&&g.preventDefault(),onEscapeKeyDown:g=>!d&&g.preventDefault(),children:[i.jsxs(wn,{children:[i.jsx(bn,{className:"text-xl",children:h.title}),i.jsx(Rn,{children:c||`Processing ${t} of ${n} items`})]}),i.jsxs("div",{className:"flex items-center justify-center gap-1 py-2",children:[i.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-full text-xs transition-all ${l==="upload"?"bg-primary text-primary-foreground":l==="ai"||l==="description"||l==="complete"?"bg-muted text-muted-foreground":"bg-muted/50 text-muted-foreground/50"}`,children:[i.jsx(Yc,{className:"h-3 w-3"}),i.jsx("span",{className:"hidden sm:inline",children:"1. Upload"}),i.jsx("span",{className:"sm:hidden",children:"1"}),(l==="ai"||l==="description"||l==="complete")&&i.jsx(wt,{className:"h-3 w-3 text-green-600"})]}),i.jsx("div",{className:"h-px w-4 bg-border"}),i.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-full text-xs transition-all ${l==="ai"?"bg-primary text-primary-foreground":l==="description"||l==="complete"?"bg-muted text-muted-foreground":"bg-muted/50 text-muted-foreground/50"}`,children:[i.jsx(kf,{className:"h-3 w-3"}),i.jsx("span",{className:"hidden sm:inline",children:"2. Analysis"}),i.jsx("span",{className:"sm:hidden",children:"2"}),(l==="description"||l==="complete")&&i.jsx(wt,{className:"h-3 w-3 text-green-600"})]}),i.jsx("div",{className:"h-px w-4 bg-border"}),i.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-full text-xs transition-all ${l==="description"?"bg-primary text-primary-foreground":l==="complete"?"bg-muted text-muted-foreground":"bg-muted/50 text-muted-foreground/50"}`,children:[i.jsx(X0,{className:"h-3 w-3"}),i.jsx("span",{className:"hidden sm:inline",children:"3. Descriptions"}),i.jsx("span",{className:"sm:hidden",children:"3"}),l==="complete"&&i.jsx(wt,{className:"h-3 w-3 text-green-600"})]})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[l==="upload"&&`Uploading photo ${t} of ${n}`,l==="ai"&&`Analyzing item ${t} of ${n}`,l==="description"&&`Generating content for item ${t} of ${n}`,l==="complete"&&`All ${n} items complete`]})}),i.jsx("div",{className:"relative w-full h-8 bg-muted rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all duration-300 ease-out flex items-center justify-center text-sm font-bold text-white bg-gradient-to-r ${h.color}`,style:{width:`${Math.max(u,8)}%`},"data-testid":"progress-bar",children:i.jsxs("span",{className:"relative z-10",children:[Math.round(u),"%"]})})}),i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[t," of ",n," ",l==="upload"?"photos uploaded":l==="ai"?"items analyzed":l==="description"?"descriptions generated":"items complete"]}),l==="description"&&i.jsx("div",{className:"mt-4 p-3 bg-purple-500/10 border-l-4 border-purple-500 rounded text-sm",children:i.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:[i.jsx("strong",{className:"text-purple-600 dark:text-purple-400",children:"Most detailed phase (~24s per item):"})," AI is writing professional titles, detailed descriptions, selecting categories, analyzing condition, suggesting prices, and creating SEO-optimized meta tags."]})})]}),i.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 border rounded-lg p-3 bg-muted/30",children:r.map(g=>i.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-md transition-all ${g.status==="analyzing"?"bg-primary/10 animate-pulse":""}`,"data-testid":`item-status-${g.index}`,children:[i.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden flex-shrink-0 bg-muted flex items-center justify-center",children:g.imageUrl?i.jsx("img",{src:g.imageUrl,alt:`Item ${g.index}`,className:"w-full h-full object-cover"}):i.jsx(Jg,{className:"h-6 w-6 text-muted-foreground/50"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[g.status==="completed"&&i.jsxs(i.Fragment,{children:[i.jsx(wt,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),i.jsx("span",{className:"text-sm font-medium truncate",children:g.title})]}),g.status==="analyzing"&&i.jsxs(i.Fragment,{children:[i.jsx(at,{className:"h-4 w-4 animate-spin text-primary flex-shrink-0"}),i.jsx("span",{className:"text-sm font-medium",children:l==="upload"?"Uploading...":l==="ai"?"Analyzing...":l==="description"?"Generating...":"Processing..."})]}),g.status==="waiting"&&i.jsxs(i.Fragment,{children:[i.jsx(Ah,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Waiting..."})]}),g.status==="failed"&&i.jsx(i.Fragment,{children:i.jsx("span",{className:"text-sm text-destructive",children:"Failed"})})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Item ",g.index]})]})]},g.index))}),i.jsx("div",{className:`p-6 bg-gradient-to-br from-primary/90 to-primary rounded-xl text-primary-foreground transition-opacity duration-300 ${x}`,"data-testid":"educational-tip",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"text-5xl","data-testid":"tip-icon",children:w.icon}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-lg font-bold","data-testid":"tip-title",children:w.title}),i.jsx("p",{className:"text-sm leading-relaxed opacity-95","data-testid":"tip-description",children:w.description})]}),i.jsx("div",{className:"flex justify-center gap-2 pt-2","data-testid":"tip-indicators",children:Sp.map((g,p)=>i.jsx("div",{className:`transition-all duration-300 rounded-full ${p===v?"w-6 h-2 bg-white":"w-2 h-2 bg-white/40"}`,"data-testid":`tip-dot-${p}`},p))})]})})]})]})})}var tm="Checkbox",[eW]=Yn(tm),[tW,Sy]=eW(tm);function nW(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,v]=Ps({prop:n,defaultProp:s??!1,onChange:c,caller:tm}),[y,x]=m.useState(null),[b,w]=m.useState(null),g=m.useRef(!1),p=y?!!o||!!y.closest("form"):!0,j={checked:h,disabled:a,setChecked:v,control:y,setControl:x,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:Hi(s)?!1:s,isFormControl:p,bubbleInput:b,setBubbleInput:w};return i.jsx(tW,{scope:t,...j,children:rW(f)?f(j):r})}var KA="CheckboxTrigger",QA=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:v,bubbleInput:y}=Sy(KA,e),x=Ze(s,d),b=m.useRef(c);return m.useEffect(()=>{const w=a==null?void 0:a.form;if(w){const g=()=>f(b.current);return w.addEventListener("reset",g),()=>w.removeEventListener("reset",g)}},[a,f]),i.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":Hi(c)?"mixed":c,"aria-required":u,"data-state":JA(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:x,onKeyDown:re(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:re(n,w=>{f(g=>Hi(g)?!0:!g),y&&v&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})})});QA.displayName=KA;var Cy=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(nW,{__scopeCheckbox:n,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(QA,{...f,ref:t,__scopeCheckbox:n}),h&&i.jsx(XA,{__scopeCheckbox:n})]})})});Cy.displayName=tm;var GA="CheckboxIndicator",YA=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=Sy(GA,n);return i.jsx(Er,{present:r||Hi(a.checked)||a.checked===!0,children:i.jsx(Se.span,{"data-state":JA(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});YA.displayName=GA;var ZA="CheckboxBubbleInput",XA=m.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:v}=Sy(ZA,e),y=Ze(n,v),x=ny(a),b=Kv(r);m.useEffect(()=>{const g=h;if(!g)return;const p=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(p,"checked").set,_=!s.current;if(x!==a&&N){const P=new Event("click",{bubbles:_});g.indeterminate=Hi(a),N.call(g,Hi(a)?!1:a),g.dispatchEvent(P)}},[h,x,a,s]);const w=m.useRef(Hi(a)?!1:a);return i.jsx(Se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});XA.displayName=ZA;function rW(e){return typeof e=="function"}function Hi(e){return e==="indeterminate"}function JA(e){return Hi(e)?"indeterminate":e?"checked":"unchecked"}const nm=m.forwardRef(({className:e,...t},n)=>i.jsx(Cy,{ref:n,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(YA,{className:de("flex items-center justify-center text-current"),children:i.jsx(Ko,{className:"h-4 w-4"})})}));nm.displayName=Cy.displayName;var _y="Progress",ky=100,[sW]=Yn(_y),[iW,aW]=sW(_y),eI=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=oW,...o}=e;(s||s===0)&&!Zb(s)&&console.error(lW(`${s}`,"Progress"));const l=Zb(s)?s:ky;r!==null&&!Xb(r,l)&&console.error(cW(`${r}`,"Progress"));const c=Xb(r,l)?r:null,u=Yf(c)?a(c,l):void 0;return i.jsx(iW,{scope:n,value:c,max:l,children:i.jsx(Se.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Yf(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":rI(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});eI.displayName=_y;var tI="ProgressIndicator",nI=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=aW(tI,n);return i.jsx(Se.div,{"data-state":rI(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});nI.displayName=tI;function oW(e,t){return`${Math.round(e/t*100)}%`}function rI(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Yf(e){return typeof e=="number"}function Zb(e){return Yf(e)&&!isNaN(e)&&e>0}function Xb(e,t){return Yf(e)&&!isNaN(e)&&e<=t&&e>=0}function lW(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ky}\`.`}function cW(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ky} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var sI=eI,uW=nI;const no=m.forwardRef(({className:e,value:t,...n},r)=>i.jsx(sI,{ref:r,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:i.jsx(uW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));no.displayName=sI.displayName;const dW=["Electronics","Furniture","Clothing","Home & Garden","Sports & Outdoors","Books & Media","Toys & Games","Automotive","Other"],fW=["new","like-new","good","fair","poor"];function hW(e,t){const n=[],r=e.toLowerCase().split(/\s+/);t&&n.push(t.toLowerCase().replace(/\s+&\s+/g,"-").replace(/\s+/g,"-"));const s=["the","a","an","and","or","but","in","on","at","to","for","of","with"];return r.forEach(a=>{a.length>3&&!s.includes(a)&&n.length<5&&n.push(a)}),n.slice(0,5)}function mW({products:e,onCancel:t,onUpgradeRemaining:n}){const{getToken:r}=ia(),[s,a]=m.useState(e.map(k=>({...k,isReviewed:!1,tags:hW(k.title,k.category),errors:{}}))),[o,l]=m.useState(!1),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,v]=m.useState({}),y=m.useRef([]),{toast:x}=gn(),[,b]=Br(),w=s.filter(k=>k.isReviewed).length,g=s.length,p=(k,A,E)=>{a(M=>M.map((T,q)=>{if(q===k){const W={...T,[A]:E};return T.errors[A]&&(W.errors={...W.errors,[A]:void 0}),W}return T}))},j=k=>{const A=!s[k].isReviewed;p(k,"isReviewed",A),A&&k<s.length-1&&setTimeout(()=>{var E;(E=y.current[k+1])==null||E.scrollIntoView({behavior:"smooth",block:"center"})},300)},N=k=>{if(s.length===1){x({title:"Cannot Delete",description:"You must have at least one item to publish.",variant:"destructive"});return}a(A=>A.filter((E,M)=>M!==k)),x({title:"Item Removed",description:"Item deleted from the list."})},_=k=>{var M;const A=(M=h[k])==null?void 0:M.trim();if(!A)return;const E=s[k].tags;if(E.includes(A.toLowerCase())){x({title:"Tag Already Exists",description:"This tag is already added.",variant:"destructive"});return}p(k,"tags",[...E,A.toLowerCase()]),v(T=>({...T,[k]:""}))},P=(k,A)=>{p(k,"tags",s[k].tags.filter(E=>E!==A))},C=()=>{var E;let k=!1;const A=s.map(M=>{const T={};return M.title.trim()||(T.title="Title is required",k=!0),M.description.trim()||(T.description="Description is required",k=!0),M.category||(T.category="Category is required",k=!0),M.condition||(T.condition="Condition is required",k=!0),(!M.usedPrice||M.usedPrice<=0)&&(T.usedPrice="Price is required",k=!0),{...M,errors:T}});if(a(A),k){const M=A.findIndex(T=>Object.keys(T.errors).length>0);M!==-1&&((E=y.current[M])==null||E.scrollIntoView({behavior:"smooth",block:"center"})),x({title:"Validation Error",description:"Please complete all required fields marked with *",variant:"destructive"})}return!k},L=async()=>{var k,A;if(C()){l(!0),u({current:0,total:s.length,status:s.map(E=>({title:E.title,status:"waiting"}))});try{const E=s.map(H=>({title:H.title,description:H.description,price:String(H.usedPrice||0),category:H.category,condition:H.condition,location:"Local Area",images:H.imageUrls}));console.log(" Prepared listings for batch publish:",{count:E.length,sample:E[0],allListings:E});for(let H=0;H<s.length;H++)u(S=>S?{...S,current:H+1,status:S.status.map((F,Q)=>({...F,status:Q<H?"completed":Q===H?"publishing":"waiting"}))}:null),await new Promise(S=>setTimeout(S,300));console.log(" Calling batch API with listings:",E);const M=await r();console.log(" Auth token obtained for batch publish:",M?"Token present":"No token");const T=await fetch("/api/listings/batch",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({listings:E})});if(!T.ok){const H=await T.text();throw console.error(" Batch publish failed:",T.status,H),new Error(`Failed to publish listings: ${T.status} ${H}`)}const q=await T.json();console.log(" Batch publish successful:",{created:q.created,listings:(k=q.listings)==null?void 0:k.map(H=>({id:H.id,title:H.title})),errors:q.errors});const W=q.created??((A=q.listings)==null?void 0:A.length)??s.length;await vt.invalidateQueries({queryKey:["/api/listings"]}),await vt.invalidateQueries({queryKey:["/api/listings/mine"]}),u(H=>H?{...H,current:s.length,status:H.status.map(S=>({...S,status:"completed"}))}:null),setTimeout(()=>{if(l(!1),u(null),W>0){const S=q.errors&&q.errors.length>0&&W<s.length;x({title:S?"Partial Success":"Success!",description:S?`Created ${W} of ${s.length} listings. Some items failed to publish.`:`Successfully created ${W} listing${W!==1?"s":""}!`,variant:"default"}),b("/dashboard")}else x({title:"Error",description:"Failed to create any listings. Please try again.",variant:"destructive"})},500)}catch(E){console.error(" Batch publish error:",E),console.error("Error details:",{message:E==null?void 0:E.message,stack:E==null?void 0:E.stack,name:E==null?void 0:E.name,cause:E==null?void 0:E.cause}),x({title:"Error",description:(E==null?void 0:E.message)||"Failed to publish items. Please try again.",variant:"destructive"}),l(!1),u(null)}}};if(c){const k=c.total>0?c.current/c.total*100:0;return i.jsx(Tn,{open:!0,onOpenChange:()=>{},children:i.jsxs(yn,{className:"sm:max-w-md",onInteractOutside:A=>A.preventDefault(),onEscapeKeyDown:A=>A.preventDefault(),children:[i.jsxs(wn,{children:[i.jsxs(bn,{className:"flex items-center gap-2",children:[i.jsx(at,{className:"h-5 w-5 animate-spin text-primary"}),"Publishing Your Items..."]}),i.jsx(Rn,{children:"Creating your listings, please wait..."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx("div",{className:"space-y-3",children:c.status.map((A,E)=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[A.status==="completed"&&i.jsx(Ko,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),A.status==="publishing"&&i.jsx(at,{className:"h-4 w-4 animate-spin text-primary flex-shrink-0"}),A.status==="waiting"&&i.jsx("div",{className:"h-4 w-4 flex-shrink-0 rounded-full border-2 border-muted"}),i.jsxs("span",{className:de(A.status==="completed"&&"text-green-600",A.status==="publishing"&&"font-medium",A.status==="waiting"&&"text-muted-foreground"),children:["Item ",E+1,": ",A.status==="completed"?"Published":A.status==="publishing"?"Publishing...":"Waiting..."]})]},E))}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progress"}),i.jsxs("span",{className:"font-medium",children:[Math.round(k),"%"]})]}),i.jsx(no,{value:k})]})]})]})})}return i.jsxs("div",{className:"min-h-screen pb-32",children:[i.jsx("div",{className:"border-b bg-card sticky top-0 z-10",children:i.jsx("div",{className:"max-w-5xl mx-auto px-4 py-6",children:i.jsx(te,{className:"bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5 border-primary/20",children:i.jsx(je,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[i.jsx(Pz,{className:"h-6 w-6 text-primary"}),"Great! We found ",g," item",g>1?"s":""," in your photos"]}),i.jsx("p",{className:"text-muted-foreground",children:"Review each item below and publish when ready"}),i.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[i.jsxs("span",{className:"text-sm font-medium",children:["Progress: ",w,"/",g," items reviewed"]}),i.jsx(no,{value:w/g*100,className:"w-32 h-2"})]})]}),i.jsxs(B,{onClick:L,disabled:o,size:"lg",className:"flex-shrink-0","data-testid":"button-publish-all-header",children:["Publish All ",g," Item",g>1?"s":"",i.jsx(Pf,{className:"h-4 w-4 ml-1"})]})]})})})})}),i.jsx("div",{className:"max-w-5xl mx-auto px-4 py-6 space-y-6",children:s.map((k,A)=>i.jsxs(te,{ref:E=>y.current[A]=E,"data-testid":`item-card-${A}`,className:de("transition-all duration-300 hover:shadow-lg",k.isReviewed&&"border-green-500/50 bg-green-50/50 dark:bg-green-950/20",Object.keys(k.errors).length>0&&"border-red-500/50"),children:[i.jsx(Ke,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(La,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("span",{className:"text-lg font-semibold",children:["Item ",A+1," of ",g]}),k.isAIGenerated?i.jsxs(ct,{variant:"default",className:"bg-green-600 hover:bg-green-700","data-testid":`badge-ai-${A}`,children:[i.jsx(vr,{className:"h-3 w-3 mr-1"}),"AI Generated"]}):i.jsxs(ct,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 dark:bg-yellow-900 dark:text-yellow-200","data-testid":`badge-manual-${A}`,children:[i.jsx(vs,{className:"h-3 w-3 mr-1"}),"Manual Entry"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(nm,{id:`review-${A}`,checked:k.isReviewed,onCheckedChange:()=>j(A),"data-testid":`checkbox-review-${A}`}),i.jsx(pe,{htmlFor:`review-${A}`,className:"text-sm font-medium cursor-pointer",children:k.isReviewed?i.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[i.jsx(Ko,{className:"h-4 w-4"}),"Reviewed"]}):"Mark as reviewed"})]}),i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>N(A),"data-testid":`button-delete-${A}`,children:i.jsx(bP,{className:"h-4 w-4"})})]})]})}),i.jsx(je,{children:i.jsxs("div",{className:"grid lg:grid-cols-[200px,1fr] gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[k.imageUrls.slice(0,1).map((E,M)=>i.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border-2 hover:border-primary/50 transition-colors cursor-pointer group",onClick:()=>f(E),children:[i.jsx("img",{src:E,alt:`Item ${A+1}`,className:"w-full h-full object-cover","data-testid":`image-${A}`}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:i.jsx(jP,{className:"h-8 w-8 text-white"})})]},M)),k.imageUrls.length>1&&i.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",k.imageUrls.length-1," more image",k.imageUrls.length-1>1?"s":""]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(vr,{className:"h-4 w-4 text-primary"}),i.jsx("span",{children:"AI-Generated Details"})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs(pe,{htmlFor:`title-${A}`,className:"flex items-center gap-1",children:["Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(xt,{id:`title-${A}`,value:k.title,onChange:E=>p(A,"title",E.target.value),className:de(k.errors.title&&"border-red-500"),"data-testid":`input-title-${A}`}),k.errors.title&&i.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[i.jsx(vs,{className:"h-3 w-3"}),k.errors.title]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs(pe,{htmlFor:`description-${A}`,className:"flex items-center gap-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx($r,{id:`description-${A}`,value:k.description,onChange:E=>p(A,"description",E.target.value),rows:3,className:de(k.errors.description&&"border-red-500"),"data-testid":`input-description-${A}`}),k.errors.description&&i.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[i.jsx(vs,{className:"h-3 w-3"}),k.errors.description]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs(pe,{htmlFor:`category-${A}`,className:"flex items-center gap-1",children:["Category ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs(hn,{value:k.category,onValueChange:E=>p(A,"category",E),children:[i.jsx(on,{id:`category-${A}`,"data-testid":`select-category-${A}`,className:de(k.errors.category&&"border-red-500"),children:i.jsx(mn,{})}),i.jsx(ln,{children:dW.map(E=>i.jsx(ne,{value:E,children:E},E))})]}),k.errors.category&&i.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[i.jsx(vs,{className:"h-3 w-3"}),k.errors.category]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs(pe,{htmlFor:`condition-${A}`,className:"flex items-center gap-1",children:["Condition ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs(hn,{value:k.condition,onValueChange:E=>p(A,"condition",E),children:[i.jsx(on,{id:`condition-${A}`,"data-testid":`select-condition-${A}`,className:de(k.errors.condition&&"border-red-500"),children:i.jsx(mn,{})}),i.jsx(ln,{children:fW.map(E=>i.jsx(ne,{value:E,children:E.split("-").map(M=>M.charAt(0).toUpperCase()+M.slice(1)).join(" ")},E))})]}),k.errors.condition&&i.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[i.jsx(vs,{className:"h-3 w-3"}),k.errors.condition]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(pe,{htmlFor:`retail-${A}`,children:"Retail Price"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),i.jsx(xt,{id:`retail-${A}`,type:"number",value:k.retailPrice||"",onChange:E=>p(A,"retailPrice",parseFloat(E.target.value)||0),className:"pl-7","data-testid":`input-retail-${A}`})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs(pe,{htmlFor:`used-${A}`,className:"flex items-center gap-1",children:["Your Price ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),i.jsx(xt,{id:`used-${A}`,type:"number",value:k.usedPrice||"",onChange:E=>p(A,"usedPrice",parseFloat(E.target.value)||0),className:de("pl-7",k.errors.usedPrice&&"border-red-500"),"data-testid":`input-price-${A}`})]}),k.errors.usedPrice&&i.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[i.jsx(vs,{className:"h-3 w-3"}),k.errors.usedPrice]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Tags (optional)"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.tags.map((E,M)=>i.jsxs(ct,{variant:"secondary",className:"gap-1","data-testid":`tag-${A}-${M}`,children:[E,i.jsx("button",{onClick:()=>P(A,E),className:"hover:text-destructive",children:i.jsx(Lr,{className:"h-3 w-3"})})]},M)),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(xt,{value:h[A]||"",onChange:E=>v(M=>({...M,[A]:E.target.value})),onKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),_(A))},placeholder:"Add tag...",className:"h-7 w-24 text-xs","data-testid":`input-tag-${A}`}),i.jsx(B,{size:"sm",variant:"outline",onClick:()=>_(A),className:"h-7 px-2","data-testid":`button-add-tag-${A}`,children:i.jsx(_c,{className:"h-3 w-3"})})]})]})]})]})]})})]},A))}),(()=>{const k=s.filter(T=>T.isAIGenerated),A=s.filter(T=>!T.isAIGenerated),E=.2,M=(A.length*E).toFixed(2);return A.length===0?null:i.jsx("div",{className:"max-w-5xl mx-auto px-4 py-8",children:i.jsx(te,{className:"bg-gradient-to-br from-blue-50 via-blue-100/50 to-indigo-50 dark:from-blue-950/30 dark:via-blue-900/20 dark:to-indigo-950/30 border-2 border-blue-200 dark:border-blue-800",children:i.jsx(je,{className:"p-8",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 mb-4",children:i.jsx(vr,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-foreground","data-testid":"text-upgrade-title",children:"AI Description Upgrade"}),i.jsxs("p",{className:"text-lg text-green-600 dark:text-green-400 font-semibold",children:[" Your First ",k.length," Items Were Free!"]})]}),i.jsx("div",{className:"bg-white/60 dark:bg-gray-900/40 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:i.jsxs("p",{className:"text-center text-lg",children:["You have ",i.jsx("span",{className:"font-bold text-2xl text-blue-600 dark:text-blue-400",children:A.length})," items remaining without AI-generated descriptions."]})}),i.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/60 rounded-lg p-6 border-2 border-blue-300 dark:border-blue-700",children:[i.jsx("h3",{className:"font-semibold text-xl mb-3 text-center",children:"Complete Pricing:"}),i.jsxs("p",{className:"text-center text-lg mb-4",children:[A.length," remaining items  $",E.toFixed(2)," = ",i.jsxs("span",{className:"font-bold text-2xl text-blue-600 dark:text-blue-400",children:["$",M]})]}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsx("h4",{className:"font-semibold text-lg text-center mb-4",children:"What You Get:"}),i.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:["Professional product titles","Detailed descriptions (2-3 sentences)","Accurate category assignment","Smart price suggestions (retail & used)","Condition assessment","SEO-optimized keywords & tags","Save 30+ minutes of manual work","Higher quality listings = more sales"].map((T,q)=>i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ko,{className:"h-5 w-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-sm",children:T})]},q))})]}),i.jsxs(B,{onClick:n,size:"lg",className:"w-full mt-6 h-14 text-lg font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700","data-testid":"button-upgrade-all",children:[i.jsx(vr,{className:"h-5 w-5 mr-2"}),"Complete All ",A.length," Items with AI - $",M]})]}),i.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Or continue filling manually (free)"})]})})})})})(),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card border-t shadow-lg z-20",children:i.jsx("div",{className:"max-w-5xl mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs(B,{variant:"outline",onClick:t,disabled:o,"data-testid":"button-back",children:[i.jsx(fz,{className:"h-4 w-4 mr-2"}),"Back to Photos"]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(B,{variant:"outline",disabled:o,"data-testid":"button-save-drafts",children:[i.jsx(Az,{className:"h-4 w-4 mr-2"}),"Save Drafts"]}),i.jsx(B,{onClick:L,disabled:o||s.length===0,size:"lg","data-testid":"button-publish-all",children:o?i.jsxs(i.Fragment,{children:[i.jsx(at,{className:"h-4 w-4 mr-2 animate-spin"}),"Publishing..."]}):i.jsxs(i.Fragment,{children:["Publish All ",g," Item",g>1?"s":"",i.jsx(Pf,{className:"h-4 w-4 ml-1"})]})})]})]})})}),i.jsx(Tn,{open:d!==null,onOpenChange:()=>f(null),children:i.jsxs(yn,{className:"max-w-4xl",children:[i.jsxs(wn,{children:[i.jsx(bn,{children:"Image Preview"}),i.jsx(Rn,{children:"View the full-size image"})]}),d&&i.jsx("div",{className:"relative w-full max-h-[70vh]",children:i.jsx("img",{src:d,alt:"Enlarged preview",className:"w-full h-full object-contain"})}),i.jsx(js,{children:i.jsx(B,{onClick:()=>f(null),children:"Close"})})]})})]})}var pW=Object.defineProperty,Zf=Object.getOwnPropertySymbols,iI=Object.prototype.hasOwnProperty,aI=Object.prototype.propertyIsEnumerable,Jb=(e,t,n)=>t in e?pW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wx=(e,t)=>{for(var n in t||(t={}))iI.call(t,n)&&Jb(e,n,t[n]);if(Zf)for(var n of Zf(t))aI.call(t,n)&&Jb(e,n,t[n]);return e},bx=(e,t)=>{var n={};for(var r in e)iI.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zf)for(var r of Zf(e))t.indexOf(r)<0&&aI.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ro;(e=>{const t=class qe{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<qe.MIN_VERSION||c>qe.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let y=0;y<this.size;y++)h.push(!1);for(let y=0;y<this.size;y++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(d);if(this.drawCodewords(v),f==-1){let y=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const b=this.getPenaltyScore();b<y&&(f=x,y=b),this.applyMask(x)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return qe.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return qe.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,h=-1,v=!0){if(!(qe.MIN_VERSION<=d&&d<=f&&f<=qe.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let y,x;for(y=d;;y++){const p=qe.getNumDataCodewords(y,u)*8,j=o.getTotalBits(c,y);if(j<=p){x=j;break}if(y>=f)throw new RangeError("Data too long")}for(const p of[qe.Ecc.MEDIUM,qe.Ecc.QUARTILE,qe.Ecc.HIGH])v&&x<=qe.getNumDataCodewords(y,p)*8&&(u=p);let b=[];for(const p of c){n(p.mode.modeBits,4,b),n(p.numChars,p.mode.numCharCountBits(y),b);for(const j of p.getData())b.push(j)}s(b.length==x);const w=qe.getNumDataCodewords(y,u)*8;s(b.length<=w),n(0,Math.min(4,w-b.length),b),n(0,(8-b.length%8)%8,b),s(b.length%8==0);for(let p=236;b.length<w;p^=253)n(p,8,b);let g=[];for(;g.length*8<b.length;)g.push(0);return b.forEach((p,j)=>g[j>>>3]|=p<<7-(j&7)),new qe(y,u,g,h)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;s(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(f,h));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;s(u>>>18==0);for(let d=0;d<18;d++){const f=r(u,d),h=this.size-11+d%3,v=Math.floor(d/3);this.setFunctionModule(h,v,f),this.setFunctionModule(v,h,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),v=c+f,y=u+d;0<=v&&v<this.size&&0<=y&&y<this.size&&this.setFunctionModule(v,y,h!=2&&h!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=qe.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=qe.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=qe.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],v=Math.floor(qe.getNumRawDataModules(u)/8),y=f-v%f,x=Math.floor(v/f);let b=[];const w=qe.reedSolomonComputeDivisor(h);for(let p=0,j=0;p<f;p++){let N=c.slice(j,j+x-h+(p<y?0:1));j+=N.length;const _=qe.reedSolomonComputeRemainder(N,w);p<y&&N.push(0),b.push(N.concat(_))}let g=[];for(let p=0;p<b[0].length;p++)b.forEach((j,N)=>{(p!=x-h||N>=y)&&g.push(j[p])});return s(g.length==v),g}drawCodewords(c){if(c.length!=Math.floor(qe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const v=d-h,x=(d+1&2)==0?this.size-1-f:f;!this.isFunction[x][v]&&u<c.length*8&&(this.modules[x][v]=r(c[u>>>3],7-(u&7)),u++)}}s(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let v=!1,y=0,x=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[h][b]==v?(y++,y==5?c+=qe.PENALTY_N1:y>5&&c++):(this.finderPenaltyAddHistory(y,x),v||(c+=this.finderPenaltyCountPatterns(x)*qe.PENALTY_N3),v=this.modules[h][b],y=1);c+=this.finderPenaltyTerminateAndCount(v,y,x)*qe.PENALTY_N3}for(let h=0;h<this.size;h++){let v=!1,y=0,x=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][h]==v?(y++,y==5?c+=qe.PENALTY_N1:y>5&&c++):(this.finderPenaltyAddHistory(y,x),v||(c+=this.finderPenaltyCountPatterns(x)*qe.PENALTY_N3),v=this.modules[b][h],y=1);c+=this.finderPenaltyTerminateAndCount(v,y,x)*qe.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let v=0;v<this.size-1;v++){const y=this.modules[h][v];y==this.modules[h][v+1]&&y==this.modules[h+1][v]&&y==this.modules[h+1][v+1]&&(c+=qe.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((v,y)=>v+(y?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=f&&f<=9),c+=f*qe.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<qe.MIN_VERSION||c>qe.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(qe.getNumRawDataModules(c)/8)-qe.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*qe.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let h=0;h<u.length;h++)u[h]=qe.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=qe.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const h=f^d.shift();d.push(0),u.forEach((v,y)=>d[y]^=qe.reedSolomonMultiply(v,h))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return s(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];s(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function r(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const a=class Ft{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new Ft(Ft.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!Ft.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new Ft(Ft.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!Ft.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=Ft.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=Ft.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(f,11,u)}return d<c.length&&n(Ft.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new Ft(Ft.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:Ft.isNumeric(c)?[Ft.makeNumeric(c)]:Ft.isAlphanumeric(c)?[Ft.makeAlphanumeric(c)]:[Ft.makeBytes(Ft.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new Ft(Ft.Mode.ECI,0,u)}static isNumeric(c){return Ft.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Ft.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(ro||(ro={}));(e=>{(t=>{const n=class{constructor(s,a){this.ordinal=s,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(ro||(ro={}));(e=>{(t=>{const n=class{constructor(s,a){this.modeBits=s,this.numBitsCharCount=a}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(ro||(ro={}));var zo=ro;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var gW={L:zo.QrCode.Ecc.LOW,M:zo.QrCode.Ecc.MEDIUM,Q:zo.QrCode.Ecc.QUARTILE,H:zo.QrCode.Ecc.HIGH},oI=128,lI="L",cI="#FFFFFF",uI="#000000",dI=!1,fI=1,xW=4,vW=0,yW=.1;function hI(e,t=0){const n=[];return e.forEach(function(r,s){let a=null;r.forEach(function(o,l){if(!o&&a!==null){n.push(`M${a+t} ${s+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===r.length-1){if(!o)return;a===null?n.push(`M${l+t},${s+t} h1v1H${l+t}z`):n.push(`M${a+t},${s+t} h${l+1-a}v1H${a+t}z`);return}o&&a===null&&(a=l)})}),n.join("")}function mI(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,a)=>a<t.x||a>=t.x+t.w?s:!1))}function wW(e,t,n,r){if(r==null)return null;const s=e.length+n*2,a=Math.floor(t*yW),o=s/t,l=(r.width||a)*o,c=(r.height||a)*o,u=r.x==null?e.length/2-l/2:r.x*o,d=r.y==null?e.length/2-c/2:r.y*o,f=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let y=Math.floor(u),x=Math.floor(d),b=Math.ceil(l+u-y),w=Math.ceil(c+d-x);h={x:y,y:x,w:b,h:w}}const v=r.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:h,opacity:f,crossOrigin:v}}function bW(e,t){return t!=null?Math.max(Math.floor(t),0):e?xW:vW}function pI({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:a,size:o,boostLevel:l}){let c=D.useMemo(()=>{const y=(Array.isArray(e)?e:[e]).reduce((x,b)=>(x.push(...zo.QrSegment.makeSegments(b)),x),[]);return zo.QrCode.encodeSegments(y,gW[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:h}=D.useMemo(()=>{let v=c.getModules();const y=bW(r,s),x=v.length+y*2,b=wW(v,o,y,a);return{cells:v,margin:y,numCells:x,calculatedImageSettings:b}},[c,o,a,r,s]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:h}}var jW=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),NW=D.forwardRef(function(t,n){const r=t,{value:s,size:a=oI,level:o=lI,bgColor:l=cI,fgColor:c=uI,includeMargin:u=dI,minVersion:d=fI,boostLevel:f,marginSize:h,imageSettings:v}=r,x=bx(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=x,w=bx(x,["style"]),g=v==null?void 0:v.src,p=D.useRef(null),j=D.useRef(null),N=D.useCallback(T=>{p.current=T,typeof n=="function"?n(T):n&&(n.current=T)},[n]),[_,P]=D.useState(!1),{margin:C,cells:L,numCells:k,calculatedImageSettings:A}=pI({value:s,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:v,size:a});D.useEffect(()=>{if(p.current!=null){const T=p.current,q=T.getContext("2d");if(!q)return;let W=L;const H=j.current,S=A!=null&&H!==null&&H.complete&&H.naturalHeight!==0&&H.naturalWidth!==0;S&&A.excavation!=null&&(W=mI(L,A.excavation));const F=window.devicePixelRatio||1;T.height=T.width=a*F;const Q=a/k*F;q.scale(Q,Q),q.fillStyle=l,q.fillRect(0,0,k,k),q.fillStyle=c,jW?q.fill(new Path2D(hI(W,C))):L.forEach(function(J,be){J.forEach(function(He,De){He&&q.fillRect(De+C,be+C,1,1)})}),A&&(q.globalAlpha=A.opacity),S&&q.drawImage(H,A.x+C,A.y+C,A.w,A.h)}}),D.useEffect(()=>{P(!1)},[g]);const E=wx({height:a,width:a},b);let M=null;return g!=null&&(M=D.createElement("img",{src:g,key:g,style:{display:"none"},onLoad:()=>{P(!0)},ref:j,crossOrigin:A==null?void 0:A.crossOrigin})),D.createElement(D.Fragment,null,D.createElement("canvas",wx({style:E,height:a,width:a,ref:N,role:"img"},w)),M)});NW.displayName="QRCodeCanvas";var gI=D.forwardRef(function(t,n){const r=t,{value:s,size:a=oI,level:o=lI,bgColor:l=cI,fgColor:c=uI,includeMargin:u=dI,minVersion:d=fI,boostLevel:f,title:h,marginSize:v,imageSettings:y}=r,x=bx(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:w,numCells:g,calculatedImageSettings:p}=pI({value:s,level:o,minVersion:d,boostLevel:f,includeMargin:u,marginSize:v,imageSettings:y,size:a});let j=w,N=null;y!=null&&p!=null&&(p.excavation!=null&&(j=mI(w,p.excavation)),N=D.createElement("image",{href:y.src,height:p.h,width:p.w,x:p.x+b,y:p.y+b,preserveAspectRatio:"none",opacity:p.opacity,crossOrigin:p.crossOrigin}));const _=hI(j,b);return D.createElement("svg",wx({height:a,width:a,viewBox:`0 0 ${g} ${g}`,ref:n,role:"img"},x),!!h&&D.createElement("title",null,h),D.createElement("path",{fill:l,d:`M0,0 h${g}v${g}H0z`,shapeRendering:"crispEdges"}),D.createElement("path",{fill:c,d:_,shapeRendering:"crispEdges"}),N)});gI.displayName="QRCodeSVG";function SW({onImagesReceived:e}){const{getToken:t}=ia(),{toast:n}=gn(),[r,s]=m.useState(null),[a,o]=m.useState(!0),[l,c]=m.useState(""),[u,d]=m.useState(0),[f,h]=m.useState(0),[v,y]=m.useState(!1);m.useEffect(()=>{let b=!0;return(async()=>{try{const g=await t(),p=await fetch("/api/upload-session/create",{method:"POST",headers:{Authorization:`Bearer ${g}`}});if(!p.ok)throw new Error("Failed to create session");const j=await p.json();if(b){s(j.id);const N=window.location.origin;c(`${N}/mobile-upload/${j.id}`),o(!1),console.log(" QR Upload session created:",j.id)}}catch(g){console.error("Error creating upload session:",g),b&&(o(!1),n({title:"Error",description:"Failed to create upload session. Please refresh the page.",variant:"destructive"}))}})(),()=>{b=!1}},[t,n]),m.useEffect(()=>{if(!r)return;const b=setInterval(async()=>{try{y(!0);const w=await t(),g=await fetch(`/api/upload-session/${r}/images`,{headers:{Authorization:`Bearer ${w}`}});if(g.ok){const p=await g.json(),j=p.images.length;if(j>f){const N=p.images.slice(f);console.log(` Received ${N.length} new images from phone`),d(j),h(j),e(N),n({title:"Photos Received!",description:`${N.length} ${N.length===1?"photo":"photos"} uploaded from your phone.`})}}}catch(w){console.error("Polling error:",w)}finally{y(!1)}},2e3);return()=>clearInterval(b)},[r,f,t,e,n]),m.useEffect(()=>()=>{r&&(async()=>{try{const b=await t();await fetch(`/api/upload-session/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}})}catch(b){console.error("Session cleanup error:",b)}})()},[r,t]);const x=()=>{window.location.reload()};return a?i.jsx(te,{children:i.jsx(je,{className:"pt-6 flex items-center justify-center",children:i.jsx(at,{className:"h-6 w-6 animate-spin text-muted-foreground"})})}):!r||!l?i.jsx(te,{children:i.jsx(je,{className:"pt-6",children:i.jsx(Zo,{variant:"destructive",children:i.jsxs(Xo,{children:["Failed to create upload session."," ",i.jsx(B,{variant:"ghost",onClick:x,className:"p-0 h-auto underline",children:"Refresh page"})]})})})}):i.jsxs(te,{children:[i.jsxs(Ke,{children:[i.jsxs(Je,{className:"flex items-center gap-2 text-base",children:[i.jsx(wP,{className:"h-5 w-5 text-primary"}),"Upload from Phone"]}),i.jsx(Ut,{className:"text-sm",children:"Scan with your phone to upload photos from your camera or gallery"})]}),i.jsxs(je,{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-center p-4 bg-white rounded-md",children:i.jsx(gI,{value:l,size:180,level:"M"})}),i.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[i.jsx("p",{className:"font-medium text-foreground",children:"How to use:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[i.jsx("li",{children:"Open your phone camera"}),i.jsx("li",{children:"Point at the QR code above"}),i.jsx("li",{children:"Tap the notification to open"}),i.jsx("li",{children:"Select photos to upload"})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[v?i.jsx(at,{className:"h-3 w-3 animate-spin"}):u>0?i.jsx(wt,{className:"h-3 w-3 text-green-600"}):i.jsx("div",{className:"h-3 w-3 rounded-full border-2 border-muted-foreground"}),i.jsx("span",{className:"text-xs",children:u>0?`${u} photos received`:"Waiting for uploads..."})]}),i.jsxs(B,{variant:"ghost",size:"sm",onClick:x,className:"h-7 text-xs","data-testid":"button-qr-refresh",children:[i.jsx(Rz,{className:"h-3 w-3 mr-1"}),"New Code"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Session expires in 30 minutes"})]})]})}const CW=[{credits:25,price:2.99,pricePerCredit:.12,popular:!0,badge:"POPULAR"},{credits:50,price:4.99,pricePerCredit:.1,popular:!1,badge:"40% off"},{credits:75,price:6.99,pricePerCredit:.09,popular:!1,badge:"50% off"},{credits:100,price:8.99,pricePerCredit:.09,popular:!1,badge:"55% off"},{credits:500,price:39.99,pricePerCredit:.08,popular:!1,badge:"BEST VALUE - 60% off"}];function _W({open:e,onOpenChange:t,processedCount:n,remainingCount:r,onSkip:s,onBeforeRedirect:a}){const{toast:o}=gn(),{user:l}=Nv(),c=d=>{var x;let f;switch(d){case 25:f=void 0;break;case 50:f=void 0;break;case 75:f=void 0;break;case 100:f=void 0;break;case 500:f=void 0;break;default:o({title:"Invalid Credit Amount",description:`${d} credits is not a valid bundle size.`,variant:"destructive"});return}if(!f){o({title:"Payment Link Not Configured",description:`Payment link for ${d} credits is not configured yet. Please contact support.`,variant:"destructive"});return}a?(console.log(" Calling onBeforeRedirect to save state"),a(),console.log(" onBeforeRedirect completed")):console.warn(" No onBeforeRedirect callback provided");const h=(l==null?void 0:l.id)||"",v=((x=l==null?void 0:l.primaryEmailAddress)==null?void 0:x.emailAddress)||"",y=`${f}?client_reference_id=${h}&prefilled_email=${v}`;console.log(" Redirecting to Stripe checkout:",y);try{window.top&&window.top!==window.self?(console.log(" Attempting top-level redirect"),window.top.location.href=y):(console.log(" Attempting direct redirect"),window.location.href=y)}catch(b){console.error(" Redirect error (trying fallback):",b),console.log(" Opening in new tab as fallback"),window.open(y,"_blank")||o({title:"Popup Blocked",description:"Please allow popups to complete your purchase, then try again.",variant:"destructive"})}},u=()=>{t(!1),s()};return i.jsx(Tn,{open:e,onOpenChange:t,children:i.jsxs(yn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-payment-modal",children:[i.jsxs(wn,{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(wt,{className:"h-6 w-6 text-green-500"}),i.jsxs(bn,{"data-testid":"text-payment-modal-title",children:["First ",n," Items Processed!"]})]}),i.jsxs(Rn,{className:"text-left space-y-2 pt-2",children:[i.jsxs("p",{children:["We've generated AI descriptions for your first ",n," items."]}),i.jsxs("p",{className:"font-medium text-foreground",children:["You have ",r," more item",r>1?"s":""," remaining."]})]})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx("div",{className:"text-sm font-medium",children:"Choose a Credit Bundle:"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buy credits in bulk and save up to 60%. Credits never expire!"}),i.jsx("div",{className:"grid gap-3",children:CW.map(d=>i.jsx(te,{className:`p-4 cursor-pointer transition-all hover-elevate ${d.popular?"border-2 border-primary":""}`,onClick:()=>c(d.credits),"data-testid":`card-bundle-${d.credits}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("h4",{className:"font-semibold",children:[d.credits," Credits"]}),d.badge&&i.jsx(ct,{variant:d.popular?"default":"secondary",className:"text-xs","data-testid":`badge-${d.credits}`,children:d.badge})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",d.pricePerCredit.toFixed(2)," per credit"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold",children:["$",d.price.toFixed(2)]}),i.jsx(B,{size:"sm",className:"mt-2","data-testid":`button-buy-bundle-${d.credits}`,children:"Buy Now"})]})]})},d.credits))}),i.jsx("div",{className:"pt-4 border-t",children:i.jsxs(B,{variant:"outline",className:"w-full gap-2",onClick:u,"data-testid":"button-skip-ai",children:[i.jsx(yP,{className:"h-4 w-4"}),"Skip AI - I'll enter details manually"]})})]})]})})}function kW({open:e,products:t,groupingInfo:n,onCreateSeparate:r,onCreateBundle:s,onManualRegroup:a}){const o=n.scenario==="same_product",l=t.length;return i.jsx(Tn,{open:e,children:i.jsxs(yn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto","data-testid":"dialog-grouping-modal",children:[i.jsxs(wn,{children:[i.jsxs(bn,{className:"flex items-center gap-2",children:[i.jsx(La,{className:"h-5 w-5"}),o?"Single Item Detected":`${l} Different Items Detected`]}),i.jsx(Rn,{children:o?"All photos show the same item from different angles":`AI detected ${l} different products in your photos`})]}),i.jsx("div",{className:"space-y-4 my-4",children:t.map((c,u)=>i.jsx(te,{className:"p-4","data-testid":`card-product-${u}`,children:i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex gap-2",children:[c.imageUrls.slice(0,3).map((d,f)=>i.jsx("img",{src:d,alt:`Product ${u+1} - Image ${f+1}`,className:"w-20 h-20 object-cover rounded","data-testid":`img-product-${u}-${f}`},f)),c.imageUrls.length>3&&i.jsxs("div",{className:"w-20 h-20 bg-muted rounded flex items-center justify-center text-sm text-muted-foreground",children:["+",c.imageUrls.length-3]})]}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium","data-testid":`text-product-title-${u}`,children:o?c.title:`Product ${u+1}: ${c.title}`}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[c.imageUrls.length," ",c.imageUrls.length===1?"photo":"photos",!o&&`  ${c.category}`]})]}),i.jsxs(ct,{variant:"secondary","data-testid":`badge-confidence-${u}`,children:[c.confidence,"% confident"]})]})})]})},u))}),i.jsxs("div",{className:"flex flex-col gap-2",children:[!o&&l>1&&i.jsxs(i.Fragment,{children:[i.jsxs(B,{onClick:r,size:"lg",className:"w-full","data-testid":"button-create-separate",children:[i.jsx(La,{className:"mr-2 h-4 w-4"}),"Create ",l," Separate Listings"]}),i.jsxs(B,{onClick:s,variant:"outline",size:"lg",className:"w-full","data-testid":"button-create-bundle",children:[i.jsx(kz,{className:"mr-2 h-4 w-4"}),"Create Bundle Listing (All ",l," Items Together)"]})]}),o&&i.jsxs(B,{onClick:r,size:"lg",className:"w-full","data-testid":"button-create-listing",children:[i.jsx(La,{className:"mr-2 h-4 w-4"}),"Create Listing"]}),i.jsxs(B,{onClick:a,variant:"ghost",size:"lg",className:"w-full","data-testid":"button-manual-regroup",children:[i.jsx(Iz,{className:"mr-2 h-4 w-4"}),"Let Me Regroup Manually"]})]})]})})}var Cp="rovingFocusGroup.onEntryFocus",PW={bubbles:!1,cancelable:!0},Lu="RovingFocusGroup",[jx,xI,EW]=Eh(Lu),[TW,Ul]=Yn(Lu,[EW]),[RW,AW]=TW(Lu),vI=m.forwardRef((e,t)=>i.jsx(jx.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(jx.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(IW,{...e,ref:t})})}));vI.displayName=Lu;var IW=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),v=Ze(t,h),y=Mu(a),[x,b]=Ps({prop:o,defaultProp:l??null,onChange:c,caller:Lu}),[w,g]=m.useState(!1),p=qn(u),j=xI(n),N=m.useRef(!1),[_,P]=m.useState(0);return m.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Cp,p),()=>C.removeEventListener(Cp,p)},[p]),i.jsx(RW,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:x,onItemFocus:m.useCallback(C=>b(C),[b]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>P(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>P(C=>C-1),[]),children:i.jsx(Se.div,{tabIndex:w||_===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{N.current=!0}),onFocus:re(e.onFocus,C=>{const L=!N.current;if(C.target===C.currentTarget&&L&&!w){const k=new CustomEvent(Cp,PW);if(C.currentTarget.dispatchEvent(k),!k.defaultPrevented){const A=j().filter(W=>W.focusable),E=A.find(W=>W.active),M=A.find(W=>W.id===x),q=[E,M,...A].filter(Boolean).map(W=>W.ref.current);bI(q,d)}}N.current=!1}),onBlur:re(e.onBlur,()=>g(!1))})})}),yI="RovingFocusGroupItem",wI=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=ss(),u=a||c,d=AW(yI,n),f=d.currentTabStopId===u,h=xI(n),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:x}=d;return m.useEffect(()=>{if(r)return v(),()=>y()},[r,v,y]),i.jsx(jx.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:i.jsx(Se.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:re(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:re(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:re(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=DW(b,d.orientation,d.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let p=h().filter(j=>j.focusable).map(j=>j.ref.current);if(w==="last")p.reverse();else if(w==="prev"||w==="next"){w==="prev"&&p.reverse();const j=p.indexOf(b.currentTarget);p=d.loop?FW(p,j+1):p.slice(j+1)}setTimeout(()=>bI(p))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:x!=null}):o})})});wI.displayName=yI;var MW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function OW(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function DW(e,t,n){const r=OW(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return MW[r]}function bI(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function FW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Py=vI,Ey=wI,Ty="Radio",[LW,jI]=Yn(Ty),[$W,zW]=LW(Ty),NI=m.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=m.useState(null),v=Ze(t,b=>h(b)),y=m.useRef(!1),x=f?u||!!f.closest("form"):!0;return i.jsxs($W,{scope:n,checked:s,disabled:o,children:[i.jsx(Se.button,{type:"button",role:"radio","aria-checked":s,"data-state":kI(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:v,onClick:re(e.onClick,b=>{s||c==null||c(),x&&(y.current=b.isPropagationStopped(),y.current||b.stopPropagation())})}),x&&i.jsx(_I,{control:f,bubbles:!y.current,name:r,value:l,checked:s,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});NI.displayName=Ty;var SI="RadioIndicator",CI=m.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,a=zW(SI,n);return i.jsx(Er,{present:r||a.checked,children:i.jsx(Se.span,{"data-state":kI(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});CI.displayName=SI;var UW="RadioBubbleInput",_I=m.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},a)=>{const o=m.useRef(null),l=Ze(o,a),c=ny(n),u=Kv(t);return m.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&v){const y=new Event("click",{bubbles:r});v.call(d,n),d.dispatchEvent(y)}},[c,n,r]),i.jsx(Se.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_I.displayName=UW;function kI(e){return e?"checked":"unchecked"}var VW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rm="RadioGroup",[BW]=Yn(rm,[Ul,jI]),PI=Ul(),EI=jI(),[WW,HW]=BW(rm),TI=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,v=PI(n),y=Mu(u),[x,b]=Ps({prop:a,defaultProp:s??null,onChange:f,caller:rm});return i.jsx(WW,{scope:n,name:r,required:o,disabled:l,value:x,onValueChange:b,children:i.jsx(Py,{asChild:!0,...v,orientation:c,dir:y,loop:d,children:i.jsx(Se.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...h,ref:t})})})});TI.displayName=rm;var RI="RadioGroupItem",AI=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,a=HW(RI,n),o=a.disabled||r,l=PI(n),c=EI(n),u=m.useRef(null),d=Ze(t,u),f=a.value===s.value,h=m.useRef(!1);return m.useEffect(()=>{const v=x=>{VW.includes(x.key)&&(h.current=!0)},y=()=>h.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",y)}},[]),i.jsx(Ey,{asChild:!0,...l,focusable:!o,active:f,children:i.jsx(NI,{disabled:o,required:a.required,checked:f,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:re(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:re(s.onFocus,()=>{var v;h.current&&((v=u.current)==null||v.click())})})})});AI.displayName=RI;var qW="RadioGroupIndicator",II=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=EI(n);return i.jsx(CI,{...s,...r,ref:t})});II.displayName=qW;var MI=TI,OI=AI,KW=II;const $u=m.forwardRef(({className:e,...t},n)=>i.jsx(MI,{className:de("grid gap-2",e),...t,ref:n}));$u.displayName=MI.displayName;const ir=m.forwardRef(({className:e,...t},n)=>i.jsx(OI,{ref:n,className:de("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(KW,{className:"flex items-center justify-center",children:i.jsx(xP,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ir.displayName=OI.displayName;function QW({open:e,photoCount:t,onChoice:n}){const[r,s]=m.useState(""),a=()=>{r==="one-item"?n(!0):r==="multiple-items"&&n(!1)};return i.jsx(Tn,{open:e,onOpenChange:()=>{},children:i.jsxs(yn,{className:"sm:max-w-md","data-testid":"dialog-photo-processing-choice",children:[i.jsx(wn,{children:i.jsxs(bn,{className:"text-xl",children:[" You've uploaded ",t," photos"]})}),i.jsxs($u,{value:r,onValueChange:s,className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start space-x-3 rounded-lg border p-4 hover-elevate",children:[i.jsx(ir,{value:"one-item",id:"one-item","data-testid":"radio-one-item"}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx(pe,{htmlFor:"one-item",className:"cursor-pointer font-medium",children:"One Item - Multiple Angles"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"All photos show the SAME product"}),i.jsx("p",{className:"text-sm font-medium text-primary",children:" Creates 1 listing  Uses 1 AI credit"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3 rounded-lg border p-4 hover-elevate",children:[i.jsx(ir,{value:"multiple-items",id:"multiple-items","data-testid":"radio-multiple-items"}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx(pe,{htmlFor:"multiple-items",className:"cursor-pointer font-medium",children:"Multiple Different Items"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Each photo is a DIFFERENT product"}),i.jsxs("p",{className:"text-sm font-medium text-primary",children:[" Creates ",t," listings  Uses ",t," AI credits"]})]})]})]}),i.jsx(B,{onClick:a,disabled:!r,className:"w-full","data-testid":"button-continue-processing",children:"Start AI Processing"})]})})}const GW=V7.omit({userId:!0});function YW(){const[,e]=Br(),{toast:t}=gn(),{isSignedIn:n,isLoaded:r,getToken:s}=ia(),{user:a}=Nv(),l=new URLSearchParams(window.location.search).get("edit"),c=!!l,[u,d]=m.useState("coached"),[f,h]=m.useState([]),[v,y]=m.useState(!1),[x,b]=m.useState([]),[w,g]=m.useState([]),[p,j]=m.useState(null),[N,_]=m.useState({title:"",description:"",usedPrice:"",retailPrice:""}),[P,C]=m.useState(null),[L,k]=m.useState(null),[A,E]=m.useState(!1),[M,T]=m.useState(!1),[q,W]=m.useState(!1),[H,S]=m.useState({}),[F,Q]=m.useState(new Set),[J,be]=m.useState(null),[He,De]=m.useState(!1),[yt,st]=m.useState(null),[ve,Ge]=m.useState(!1),[et,Te]=m.useState(!1),[Ae,We]=m.useState([]),[Oe,Ie]=m.useState(!1),[gt,it]=m.useState(null),[Ht,fr]=m.useState(!1),[dt,R]=m.useState(null),[z,V]=m.useState(!1),[ie,Z]=m.useState({current:0,total:0}),[G,oe]=m.useState([]),[Ye,Be]=m.useState("upload"),[tn,Dn]=m.useState(""),[ds,ua]=m.useState(!1),{data:hr}=jt({queryKey:["/api/ai/usage"],enabled:n&&r}),[Vl,fo]=m.useState(!1),[Bl,Bu]=m.useState(0),[da,fa]=m.useState(0),[mQ,oO]=m.useState(null),[mr,ha]=m.useState([]),[lO,cO]=m.useState("upload-ready"),[ho,uO]=m.useState(""),[Sn,lm]=m.useState(""),[dO,cm]=m.useState(!1),[um,fO]=m.useState(null),Re=OB({resolver:$B(GW),defaultValues:{title:"",description:"",price:"0",category:"",condition:"new",location:"",images:[]}}),mo=Re.watch(),{data:un,isLoading:hO}=jt({queryKey:["/api/listings",l],queryFn:async()=>{if(!l)return null;console.log(" FETCHING LISTING ID:",l);const $=await s(),U=await fetch(`/api/listings/${l}`,{headers:{Authorization:`Bearer ${$}`}});if(!U.ok)throw console.error(" FETCH FAILED:",U.status,U.statusText),new Error("Failed to fetch listing");const se=await U.json();return console.log(" RAW API RESPONSE:",se),se.listing||se},enabled:c&&!!l});m.useEffect(()=>{var $,U;if(un&&c){console.log(""),console.log(" PRE-POPULATING FORM - EDIT MODE"),console.log(""),console.log(" Existing Listing Data:",un),console.log("   Title:",un.title),console.log("   Description:",(($=un.description)==null?void 0:$.substring(0,50))+"..."),console.log("   Price:",un.price),console.log("   Category:",un.category),console.log("   Condition:",un.condition),console.log("   Location:",un.location),console.log("   Images:",((U=un.images)==null?void 0:U.length)||0,"photos");const se={title:un.title||"",description:un.description||"",price:String(un.price||"0"),category:un.category||"",condition:un.condition||"new",location:un.location||"",images:un.images||[]};console.log(" Form Data Being Applied:",se),Re.reset(se),h(un.images||[]),console.log(" Form.reset() called successfully"),console.log(" Images state updated"),console.log("")}},[un,c]),m.useEffect(()=>{if(z&&da>0){const $=setInterval(()=>{fa(U=>U<=1?(clearInterval($),0):U-1)},1e3);return()=>clearInterval($)}},[z,da]),m.useEffect(()=>{const $=new URLSearchParams(window.location.search),U=$.get("payment")==="success",se=$.get("credits");if(console.log(" Checking for payment success...",{paymentSuccess:U,newCredits:se}),U){console.log(" Payment success detected!"),t({title:"Payment Successful!",description:`${se} AI credits added to your account. Resuming processing...`}),window.history.replaceState({},"","/post-ad");const xe=localStorage.getItem("pendingItems"),he=localStorage.getItem("processedItems");if(console.log(" Checking localStorage:",{hasPendingItems:!!xe,hasProcessedItems:!!he}),xe&&he){console.log(" Auto-resuming processing after payment");const ee=JSON.parse(xe),Me=JSON.parse(he);console.log(" Pending items:",ee),console.log(" Processed items:",Me),We(Me),R(ee),localStorage.removeItem("pendingItems"),localStorage.removeItem("processedItems"),console.log(" Cleared localStorage"),setTimeout(()=>{ee.imageUrls&&ee.imageUrls.length>0?(console.log(" Resuming analysis for",ee.imageUrls.length,"items"),fm(ee.imageUrls)):console.warn(" No imageUrls found in pending items")},1e3)}else console.log(" No pending items found in localStorage")}},[t]);const zy=$=>$===1?22:$===2?30:$===3?35:$<=9?22+$*4:22+$*6,Uy=$=>{const U=Math.floor($/60),se=$%60;return U>0?`${U}:${se.toString().padStart(2,"0")}`:`0:${se.toString().padStart(2,"0")}`},dm=ur({mutationFn:async $=>{const U=await s(),se=c?`/api/listings/${l}`:"/api/listings",he=await fetch(se,{method:c?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify($)});if(!he.ok){const ee=await he.json();throw new Error(ee.message||`Failed to ${c?"update":"create"} listing`)}return he.json()},onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/listings"]}),vt.invalidateQueries({queryKey:["/api/user/listings"]}),t({title:"Success!",description:c?"Your listing has been updated successfully.":"Your listing has been posted successfully."}),e("/dashboard")},onError:$=>{t({title:"Error",description:$.message||`Failed to ${c?"update":"post"} listing. Please try again.`,variant:"destructive"})}}),Vy=async $=>{const U=Array.from($.target.files||[]);if(U.length!==0){if(console.log(" Starting image upload for",U.length,"files"),y(!0),U.length>1){Be("upload"),V(!0),Z({current:0,total:U.length}),oe(U.map((xe,he)=>({index:he+1,title:xe.name,status:"waiting",imageUrl:void 0})));const se=Math.ceil(U.length*2.5);fa(se),Dn(`Uploading ${U.length} photo${U.length>1?"s":""}`)}try{const se=await s();console.log(" Auth token obtained for upload:",se?"Token present":"No token");const xe=[],he=Date.now();for(let Me=0;Me<U.length;Me++){const ot=U[Me];console.log(" Uploading file:",ot.name,"Size:",ot.size,"bytes"),U.length>1&&oe(lt=>lt.map(Cn=>Cn.index===Me+1?{...Cn,status:"analyzing"}:Cn));const Ce=new FormData;Ce.append("image",ot);const Qt=await fetch("/api/images/upload",{method:"POST",headers:{Authorization:`Bearer ${se}`},body:Ce});if(console.log(" Upload response status:",Qt.status),!Qt.ok){const lt=await Qt.text();throw console.error(" Upload failed:",Qt.status,lt),U.length>1&&oe(Cn=>Cn.map(fs=>fs.index===Me+1?{...fs,status:"failed"}:fs)),new Error("Failed to upload image")}const{imageUrl:Xn}=await Qt.json();if(console.log(" Image uploaded successfully:",Xn),xe.push(Xn),U.length>1){Z({current:Me+1,total:U.length}),oe(Wu=>Wu.map(mm=>mm.index===Me+1?{...mm,status:"completed",imageUrl:Xn,title:ot.name}:mm));const Cn=(Date.now()-he)/1e3/(Me+1),fs=U.length-(Me+1),hm=Math.ceil(fs*Cn);fa(hm)}}U.length>1&&(Be("complete"),Dn("Upload complete!"),await new Promise(Me=>setTimeout(Me,500)),V(!1));const ee=[...f,...xe];if(h(ee),Re.setValue("images",ee),u==="simple"){const Me=ee.map((ot,Ce)=>mr[Ce]||{title:"",description:"",category:"",condition:"new",price:"0"});ha(Me)}ee.length>1?(console.log(` ${ee.length} images uploaded - showing processing choice modal`),cm(!0)):console.log(` Uploaded ${ee.length} image(s). Waiting for user to opt-in to AI analysis.`)}catch(se){console.error(" Image upload error:",se),t({title:"Upload Error",description:"Failed to upload images. Please try again.",variant:"destructive"})}finally{y(!1)}}},mO=async $=>{if(console.log(` analyzeMultipleImagesForAutopopulate() called with ${$.length} image(s)`),$.length>=4){console.log(" Triggering bulk processing mode for",$.length,"images"),await fm($);return}Be("ai"),Dn(`Analyzing ${$.length} item${$.length>1?"s":""} with AI`);const U=Math.ceil($.length*6);fa(U),V(!0),Z({current:0,total:$.length}),oe($.map((se,xe)=>({index:xe+1,title:"",status:"waiting",imageUrl:se}))),W(!0);try{const se=await s();console.log(" Auth token obtained:",se?"Token present":"No token"),console.log(" Calling /api/ai/analyze-multiple-images endpoint...");const xe=await fetch("/api/ai/analyze-multiple-images",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({imageUrls:$,manualCategory:ho||void 0})});if(console.log(" Multi-image OpenAI API response status:",xe.status),xe.ok){const he=await xe.json();if(console.log(" Multi-image OpenAI API response data:",he),be(he),st(he.message||null),oe($.map((ee,Me)=>({index:Me+1,title:Me<he.products.length?he.products[Me].title:"Unknown",status:"completed",imageUrl:ee}))),Z({current:$.length,total:$.length}),await new Promise(ee=>setTimeout(ee,500)),he.scenario==="same_product"){const ee=he.products[0];console.log(" Same product detected, auto-populating form fields...");const Me=Re.getValues("title");ee.title&&!Me&&!F.has("title")&&(console.log(" Updating form field: title =",ee.title),Re.setValue("title",ee.title),S(lt=>({...lt,title:!0})));const ot=Re.getValues("description");ee.description&&!ot&&!F.has("description")&&(console.log(" Updating form field: description =",ee.description.substring(0,50)+"..."),Re.setValue("description",ee.description),S(lt=>({...lt,description:!0})));const Ce=Re.getValues("category");ee.category&&!Ce&&!F.has("category")&&(console.log(" Updating form field: category =",ee.category),Re.setValue("category",ee.category),S(lt=>({...lt,category:!0})));const Qt=Re.getValues("price");ee.usedPrice&&(!Qt||Qt==="0")&&!F.has("price")&&(console.log(" Updating form field: price =",ee.usedPrice),Re.setValue("price",String(ee.usedPrice)),S(lt=>({...lt,price:!0})));const Xn=Re.getValues("condition");ee.condition&&!F.has("condition")&&(console.log(" Updating form field: condition =",ee.condition),Re.setValue("condition",ee.condition),S(lt=>({...lt,condition:!0}))),console.log(" Form fields updated successfully for same product"),Be("complete"),Dn("Analysis complete!"),setTimeout(()=>{V(!1),fo(!0)},500)}else console.log(` Multiple products detected (${he.products.length} items), showing modal...`),Be("complete"),Dn("Analysis complete!"),setTimeout(()=>{V(!1),De(!0)},500)}else{const he=await xe.text();console.error(" Multi-image OpenAI API error:",xe.status,he)}}catch(se){console.error(" Error analyzing multiple images:",se)}finally{W(!1)}},By=async()=>{var $;try{t({title:"Payment Link Not Configured",description:"Payment link is not configured. Please contact support.",variant:"destructive"});return;try{window.top?window.top.location.href=he:window.location.href=he}catch(ee){console.error(" Redirect error:",ee),window.open(he,"_blank")}}catch(U){t({title:"Error",description:U.message||"Failed to start checkout process",variant:"destructive"})}},pO=$=>{console.log(` User choice: ${$?"One item - multiple angles":"Multiple items - different products"}`),fO($),cm(!1);const U=zy(f.length);Bu(U),ua(!0),t({title:$?"One Item Selected":"Multiple Items Selected",description:$?`Will use 1 AI credit to analyze all ${f.length} photos as one item`:`Will use ${f.length} AI credits to analyze each photo separately`})},gO=()=>{if(f.length===0){t({title:"No Images",description:"Please upload at least one image before using AI analysis.",variant:"destructive"});return}if(f.length>1&&um===null){cm(!0);return}const $=zy(f.length);Bu($),ua(!0)},xO=()=>{ua(!1),fa(Bl),oO(Date.now()),um===!0?vO(f):um===!1?fm(f):mO(f)},vO=async $=>{console.log(` Analyzing ${$.length} images as ONE product (multiple angles)`),Be("ai"),Dn(`Analyzing product from ${$.length} angle${$.length>1?"s":""}`);const U=Math.ceil($.length*6);fa(U),V(!0),Z({current:0,total:$.length}),oe($.map((se,xe)=>({index:xe+1,title:"",status:"waiting",imageUrl:se}))),W(!0);try{const se=await s();console.log(" Auth token obtained for one-product analysis"),console.log(" Calling /api/ai/analyze-multiple-images endpoint for single product...");const xe=await fetch("/api/ai/analyze-multiple-images",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({imageUrls:$,manualCategory:ho||void 0})});if(xe.ok){const he=await xe.json();console.log(" Single product analysis complete:",he),be(he),st(`All ${$.length} photos analyzed as one product`),oe($.map((Me,ot)=>{var Ce;return{index:ot+1,title:((Ce=he.products[0])==null?void 0:Ce.title)||"Product",status:"completed",imageUrl:Me}})),Z({current:$.length,total:$.length}),await new Promise(Me=>setTimeout(Me,500));const ee=he.products[0];if(ee){console.log(" Auto-populating form with single product data...");const Me=Re.getValues("title");ee.title&&!F.has("title")&&!Me&&(Re.setValue("title",ee.title),S(lt=>({...lt,title:!0})));const ot=Re.getValues("description");ee.description&&!F.has("description")&&!ot&&(Re.setValue("description",ee.description),S(lt=>({...lt,description:!0})));const Ce=Re.getValues("category");ee.category&&!F.has("category")&&!Ce&&(Re.setValue("category",ee.category),S(lt=>({...lt,category:!0})));const Qt=Re.getValues("price");ee.usedPrice&&!F.has("price")&&(!Qt||Qt==="0")&&(Re.setValue("price",String(ee.usedPrice)),S(lt=>({...lt,price:!0})));const Xn=Re.getValues("condition");ee.condition&&!F.has("condition")&&(Re.setValue("condition",ee.condition),S(lt=>({...lt,condition:!0}))),Be("complete"),Dn("Analysis complete!"),setTimeout(()=>{V(!1),fo(!0)},500)}}else if(xe.status===403){const he=await xe.json();V(!1),t({title:"Free Tier Limit Reached",description:he.message||"You've used all your free AI analyses this month.",variant:"destructive"})}else throw new Error("Failed to analyze images")}catch(se){console.error(" Error in single product analysis:",se),V(!1),t({title:"Analysis Error",description:"Failed to analyze images. Please try again.",variant:"destructive"})}finally{W(!1)}},fm=async $=>{console.log(" Starting bulk analysis for",$.length,"images"),Be("ai"),Dn(`Analyzing ${$.length} photo${$.length>1?"s":""} with AI`);const U=Math.ceil($.length*8.6),se=Math.ceil($.length*24),xe=U+se;fa(xe),Z({current:0,total:$.length}),oe($.map((he,ee)=>({index:ee+1,title:"",status:"waiting",imageUrl:he}))),V(!0);try{const he=await s();console.log(" Auth token obtained for bulk analysis");let ee=!1;const Me=setInterval(()=>{Z(Ce=>{if(Ce.current<Ce.total){const Qt=Math.min(Ce.current+1,Ce.total),Xn=Qt/Ce.total*100;return!ee&&(Xn>=33||Qt>=Math.max(1,Math.floor(Ce.total*.33)))&&(ee=!0,Be("description"),Dn("Generating descriptions and meta tags (most detailed phase)")),oe(lt=>lt.map((Cn,fs)=>fs<Qt-1?{...Cn,status:"completed"}:fs===Qt-1?{...Cn,status:"analyzing"}:Cn)),{...Ce,current:Qt}}return Ce})},3e3);console.log(" Calling /api/ai/analyze-bulk-images endpoint...");const ot=await fetch("/api/ai/analyze-bulk-images",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({imageUrls:$,manualCategory:ho||void 0})});if(clearInterval(Me),ot.ok){const{products:Ce,groupingInfo:Qt,remainingItems:Xn}=await ot.json();console.log(" Bulk analysis complete:",Ce.length,"products detected"),console.log(" Grouping info:",Qt),console.log(" Remaining items:",Xn),oe(Ce.map((hm,Wu)=>({index:Wu+1,title:hm.title,status:"completed",imageUrl:$[Wu]}))),Z({current:Ce.length,total:Ce.length}),We(Ce),it(Qt),Xn&&Xn.count>0&&R({count:Xn.count,imageUrls:Xn.imageUrls||[],products:Xn.products||[]});const lt=Ce.length,Cn=Math.ceil(lt*24),fs=Cn>=60?`${Math.floor(Cn/60)}:${String(Cn%60).padStart(2,"0")}`:`${Cn}s`;Dn(`Generated descriptions for ${lt} item${lt>1?"s":""} (${fs} at ~24s per item)`),Be("complete"),setTimeout(()=>{V(!1),Ie(!0)},1e3)}else if(ot.status===403){const Ce=await ot.json();V(!1),t({title:"Free Tier Limit Reached",description:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:Ce.message||"You've used all 5 free AI descriptions this month."}),i.jsx(B,{variant:"outline",size:"sm",onClick:By,className:"mt-2","data-testid":"button-purchase-credits",children:"Purchase More Credits - $2.99 for 25"})]}),variant:"destructive"}),console.log(" Free tier limit reached:",Ce)}else{clearInterval(Me);const Ce=await ot.text();console.error(" Bulk analysis error:",ot.status,Ce),V(!1),t({title:"Analysis Error",description:"Failed to analyze all images. Please try again.",variant:"destructive"})}}catch(he){console.error(" Error in bulk analysis:",he),V(!1),t({title:"Analysis Error",description:"Failed to analyze images. Please try again.",variant:"destructive"})}},Wy=()=>{console.log(" User chose to create separate listings"),Ie(!1),console.log(" Showing bulk review page"),Te(!0)},yO=async()=>{console.log(" User clicked upgrade for remaining items");const $=Ae.filter(se=>!se.isAIGenerated),U=$.length;if(U===0){t({title:"No Items to Process",description:"All items already have AI descriptions."});return}try{const se=await s(),xe=await fetch("/api/user/credits",{headers:{Authorization:`Bearer ${se}`}});if(xe.ok){const he=await xe.json();if(he.creditsRemaining>=U&&(console.log(` User has ${he.creditsRemaining} credits, auto-deducting ${U}`),(await fetch("/api/credits/use",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({amount:U,description:`AI generation for ${U} item${U>1?"s":""}`})})).ok)){t({title:"Credits Used",description:`${U} credit${U>1?"s":""} deducted. Processing items...`}),vt.invalidateQueries({queryKey:["/api/user/credits"]}),await wO($);return}}}catch(se){console.error("Error checking credits:",se)}console.log(" No credits or insufficient credits - showing payment modal"),R({count:U,imageUrls:$.flatMap(se=>se.imageUrls),products:$}),fr(!0)},wO=async $=>{console.log(` Processing ${$.length} items with AI`),V(!0),Z({current:0,total:$.length});const U=[];for(let se=0;se<$.length;se++){const xe=$[se];Z({current:se+1,total:$.length});try{const he=await s(),ee=await fetch("/api/ai/identify-product",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${he}`},body:JSON.stringify({imageUrl:xe.imageUrls[0]})});if(ee.ok){const Me=await ee.json();U.push({...xe,title:Me.title,description:Me.description,category:Me.category,retailPrice:Me.retailPrice,usedPrice:Me.usedPrice,condition:Me.condition,isAIGenerated:!0})}else U.push(xe)}catch(he){console.error("Error processing item:",he),U.push(xe)}}We(se=>{const xe=new Map(U.map(he=>[he.imageUrls[0],he]));return se.map(he=>xe.get(he.imageUrls[0])||he)}),V(!1),t({title:"Processing Complete",description:`${U.length} item${U.length>1?"s":""} processed with AI.`})},Hy=async()=>{var $;console.log(" User chose to create bundle listing"),Ie(!1),Ge(!0);try{const U=await s(),se=await fetch("/api/ai/generate-bundle-summary",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify({products:Ae})});if(se.ok){const xe=await se.json();console.log(" Bundle summary generated:",xe);const he={title:xe.title,description:xe.description,category:(($=Ae[0])==null?void 0:$.category)||"Other",usedPrice:xe.suggestedBundlePrice,condition:"good",imageUrls:Ae.flatMap(ee=>ee.imageUrls),imageIndices:Ae.flatMap(ee=>ee.imageIndices)};We([he]),Te(!0)}else throw new Error("Failed to generate bundle summary")}catch(U){console.error(" Error generating bundle:",U),t({title:"Bundle Creation Error",description:"Failed to create bundle. Creating separate listings instead.",variant:"destructive"}),Te(!0)}finally{Ge(!1)}},bO=()=>{console.log(" User chose to regroup manually"),Ie(!1),Te(!0)},jO=()=>{if(console.log(" User overriding AI detection - treating all images as same product"),J&&J.products.length>0){const $=J.products[0],U=Re.getValues("title");$.title&&!U&&(Re.setValue("title",$.title),S(ee=>({...ee,title:!0})));const se=Re.getValues("description");$.description&&!se&&(Re.setValue("description",$.description),S(ee=>({...ee,description:!0})));const xe=Re.getValues("category");$.category&&!xe&&(Re.setValue("category",$.category),S(ee=>({...ee,category:!0})));const he=Re.getValues("price");$.usedPrice&&(!he||he==="0")&&(Re.setValue("price",String($.usedPrice)),S(ee=>({...ee,price:!0}))),Re.getValues("condition"),$.condition&&(Re.setValue("condition",$.condition),S(ee=>({...ee,condition:!0}))),st(`All ${f.length} photos treated as the same item (overridden)`),t({title:"Understood!",description:"All photos will be used for this single listing."})}De(!1)},NO=()=>{if(p!==null){const $=x[p],U=N.usedPrice.trim()?parseFloat(N.usedPrice):$.usedPrice,se=N.retailPrice.trim()?parseFloat(N.retailPrice):$.retailPrice;if(isNaN(U)||isNaN(se)){t({title:"Invalid Price",description:"Please enter valid numbers for prices.",variant:"destructive"});return}const xe=[...x];xe[p]={...xe[p],title:N.title.trim()||$.title,description:N.description.trim()||$.description,usedPrice:U,retailPrice:se},b(xe),j(null),t({title:"Details Updated",description:"Product details have been saved successfully."})}},SO=$=>{const U=x[$];U&&(_({title:U.title,description:U.description,usedPrice:U.usedPrice.toString(),retailPrice:U.retailPrice.toString()}),j($))},CO=async()=>{const{description:$,title:U,category:se}=mo;if(!(!$||$.length<10)){E(!0);try{const xe=await fetch("/api/ai/analyze-description",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:$,title:U,category:se}),credentials:"include"});if(xe.ok){const he=await xe.json();C(he)}}catch(xe){console.error("Error analyzing description:",xe)}finally{E(!1)}}},_O=async()=>{const{title:$,description:U,category:se,condition:xe,price:he}=mo;T(!0);try{const ee=await fetch("/api/ai/analyze-pricing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:$,description:U,category:se,condition:xe,userPrice:he}),credentials:"include"});if(ee.ok){const Me=await ee.json();k(Me)}}catch(ee){console.error("Error analyzing pricing:",ee)}finally{T(!1)}},qy=$=>{const U=f.filter((xe,he)=>he!==$);h(U),Re.setValue("images",U);const se=x.filter((xe,he)=>he!==$);b(se)},kO=()=>{P!=null&&P.aiGeneratedDescription&&(Re.setValue("description",P.aiGeneratedDescription),t({title:"AI Description Applied",description:"Feel free to edit and personalize it!"}))},Ky=$=>{if(L){const U=L.strategy[$].price;Re.setValue("price",U.toString()),t({title:"Price Updated",description:`Set to $${U} - ${L.strategy[$].reasoning}`})}},PO=$=>{dm.mutate($)};if(m.useEffect(()=>{r&&!n&&e("/sign-in")},[r,n,e]),!r)return i.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:i.jsx(at,{className:"h-8 w-8 animate-spin text-primary"})});if(!n)return null;if(c&&hO)return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[i.jsx(at,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading listing details..."})]});if(et&&Ae.length>0)return i.jsxs(i.Fragment,{children:[i.jsx(mW,{products:Ae,onCancel:()=>{Te(!1),We([]),h([])},onUpgradeRemaining:yO}),i.jsx(Yb,{open:z,currentIndex:ie.current,totalImages:ie.total,analyzedItems:G,countdown:da,formatTime:Uy,phase:Ye,phaseMessage:tn,onClose:()=>{V(!1),Ae.length>0&&Te(!0)}}),dt&&i.jsx(_W,{open:Ht,onOpenChange:fr,processedCount:Ae.length,remainingCount:dt.count,onSkip:()=>{fr(!1),Te(!0)},onBeforeRedirect:()=>{console.log(" Saving pending items before redirect"),localStorage.setItem("pendingItems",JSON.stringify(dt)),localStorage.setItem("processedItems",JSON.stringify(Ae))}})]});const EO=async $=>{const U=mr[$],se=Re.getValues("location")||"";if(!U.title||!U.description||!U.category||!U.price||!se){t({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}try{const xe=await s();if(!(await fetch("/api/listings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xe}`},body:JSON.stringify({title:U.title,description:U.description,price:U.price,category:U.category,condition:U.condition,location:se,images:[f[$]]}),credentials:"include"})).ok)throw new Error("Failed to create listing");t({title:"Success!",description:`Listing created for photo #${$+1}`});const ee=f.filter((ot,Ce)=>Ce!==$),Me=mr.filter((ot,Ce)=>Ce!==$);h(ee),ha(Me),ee.length===0&&e("/")}catch(xe){console.error("Error creating listing:",xe),t({title:"Error",description:"Failed to create listing. Please try again.",variant:"destructive"})}};return u==="simple"?i.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:i.jsxs(te,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:c?"Edit Your Listing":"Post Your Ad"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:c?"Update listing details":"Manual entry - enter details for each photo"})]}),i.jsxs(B,{variant:"outline",onClick:()=>d("coached"),"data-testid":"button-switch-coached",children:[i.jsx(vr,{className:"h-4 w-4 mr-2"}),"Enable AI Coaching"]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx(pe,{htmlFor:"images",className:"mb-3 block",children:"Upload Photos"}),i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover-elevate cursor-pointer",children:[i.jsx("input",{type:"file",id:"images",multiple:!0,accept:"image/*",onChange:Vy,className:"hidden","data-testid":"input-images",disabled:v}),i.jsxs("label",{htmlFor:"images",className:"cursor-pointer",children:[v?i.jsx(at,{className:"h-10 w-10 mx-auto mb-3 animate-spin text-muted-foreground"}):i.jsx(Yc,{className:"h-10 w-10 mx-auto mb-3 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:v?"Uploading...":"Click to upload images or drag and drop"})]})]})]}),f.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx(pe,{htmlFor:"location",children:"Location (for all listings) *"}),i.jsx(xt,{id:"location",placeholder:"e.g. San Francisco, CA",value:Re.watch("location"),onChange:$=>Re.setValue("location",$.target.value),"data-testid":"input-location-global"})]}),f.map(($,U)=>{var se,xe,he,ee,Me;return i.jsxs(te,{className:"mb-6",children:[i.jsx(Ke,{children:i.jsxs(Je,{className:"flex items-center gap-2",children:[i.jsx(La,{className:"h-5 w-5"}),"Photo #",U+1]})}),i.jsx(je,{className:"space-y-6",children:i.jsxs("div",{className:"flex gap-6",children:[i.jsx("div",{className:"w-32 h-32 flex-shrink-0",children:i.jsx("img",{src:$,alt:`Photo ${U+1}`,className:"w-full h-full object-cover rounded-lg"})}),i.jsxs("div",{className:"flex-1 space-y-4",children:[i.jsxs("div",{children:[i.jsx(pe,{children:"Title *"}),i.jsx(xt,{placeholder:"e.g. iPhone 13 Pro Max - 256GB",value:((se=mr[U])==null?void 0:se.title)||"",onChange:ot=>{const Ce=[...mr];Ce[U]={...Ce[U]||{category:"",condition:"new",price:"0",title:"",description:""},title:ot.target.value},ha(Ce)},"data-testid":`input-title-${U}`})]}),i.jsxs("div",{children:[i.jsx(pe,{children:"Description *"}),i.jsx($r,{placeholder:"Describe your item in detail...",className:"min-h-24",value:((xe=mr[U])==null?void 0:xe.description)||"",onChange:ot=>{const Ce=[...mr];Ce[U]={...Ce[U]||{category:"",condition:"new",price:"0",title:"",description:""},description:ot.target.value},ha(Ce)},"data-testid":`input-description-${U}`})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(pe,{children:"Category *"}),i.jsxs(hn,{value:((he=mr[U])==null?void 0:he.category)||"",onValueChange:ot=>{const Ce=[...mr];Ce[U]={...Ce[U]||{category:"",condition:"new",price:"0",title:"",description:""},category:ot},ha(Ce)},children:[i.jsx(on,{"data-testid":`select-category-${U}`,children:i.jsx(mn,{placeholder:"Select category"})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"Electronics",children:"Electronics"}),i.jsx(ne,{value:"Furniture",children:"Furniture"}),i.jsx(ne,{value:"Clothing",children:"Clothing"}),i.jsx(ne,{value:"Automotive",children:"Automotive"}),i.jsx(ne,{value:"Books & Media",children:"Books & Media"}),i.jsx(ne,{value:"Sports",children:"Sports"}),i.jsx(ne,{value:"Home & Garden",children:"Home & Garden"}),i.jsx(ne,{value:"Toys",children:"Toys"}),i.jsx(ne,{value:"Other",children:"Other"})]})]})]}),i.jsxs("div",{children:[i.jsx(pe,{children:"Condition *"}),i.jsxs(hn,{value:((ee=mr[U])==null?void 0:ee.condition)||"new",onValueChange:ot=>{const Ce=[...mr];Ce[U]={...Ce[U]||{category:"",condition:"new",price:"0",title:"",description:""},condition:ot},ha(Ce)},children:[i.jsx(on,{"data-testid":`select-condition-${U}`,children:i.jsx(mn,{placeholder:"Select condition"})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"new",children:"New"}),i.jsx(ne,{value:"like-new",children:"Like New"}),i.jsx(ne,{value:"good",children:"Good"}),i.jsx(ne,{value:"fair",children:"Fair"}),i.jsx(ne,{value:"poor",children:"Poor"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(pe,{children:"Your Price ($) *"}),i.jsx(xt,{type:"number",placeholder:"0.00",value:((Me=mr[U])==null?void 0:Me.price)||"",onChange:ot=>{const Ce=[...mr];Ce[U]={...Ce[U]||{category:"",condition:"new",price:"0",title:"",description:""},price:ot.target.value},ha(Ce)},"data-testid":`input-price-${U}`})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsxs(B,{onClick:()=>EO(U),className:"flex-1","data-testid":`button-post-${U}`,children:["Post Listing #",U+1]}),i.jsx(B,{type:"button",variant:"outline",onClick:()=>qy(U),"data-testid":`button-remove-${U}`,children:"Remove"})]})]})]})})]},U)}),f.length===0&&i.jsx("p",{className:"text-center text-muted-foreground mt-8",children:"Upload photos to start creating listings"})]})}):u==="coached"&&lO==="category-selection"?i.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:i.jsx(te,{className:"p-8",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[i.jsx(vr,{className:"h-8 w-8 text-primary"}),c?"Edit Your Listing":"What Are You Selling?"]}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"First, let's understand what you're uploading to provide the best experience"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(pe,{className:"text-lg font-semibold",children:"Step 1: What type of listing are you creating?"}),i.jsxs("div",{className:"grid gap-3",children:[i.jsx(te,{className:`p-4 cursor-pointer hover-elevate ${Sn==="different-items"?"border-primary border-2":""}`,onClick:()=>lm("different-items"),"data-testid":"option-different-items",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`h-5 w-5 rounded-full border-2 flex items-center justify-center mt-0.5 ${Sn==="different-items"?"border-primary":"border-muted-foreground"}`,children:Sn==="different-items"&&i.jsx("div",{className:"h-3 w-3 rounded-full bg-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold",children:"Multiple photos of different items"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Create separate listings for each item (e.g., selling 50 different car parts)"})]})]})}),i.jsx(te,{className:`p-4 cursor-pointer hover-elevate ${Sn==="one-item"?"border-primary border-2":""}`,onClick:()=>lm("one-item"),"data-testid":"option-one-item",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`h-5 w-5 rounded-full border-2 flex items-center justify-center mt-0.5 ${Sn==="one-item"?"border-primary":"border-muted-foreground"}`,children:Sn==="one-item"&&i.jsx("div",{className:"h-3 w-3 rounded-full bg-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold",children:"Multiple photos of ONE item"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Different angles of the same product (e.g., front, back, and side views)"})]})]})}),i.jsx(te,{className:`p-4 cursor-pointer hover-elevate ${Sn==="lot-collection"?"border-primary border-2":""}`,onClick:()=>lm("lot-collection"),"data-testid":"option-lot-collection",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`h-5 w-5 rounded-full border-2 flex items-center justify-center mt-0.5 ${Sn==="lot-collection"?"border-primary":"border-muted-foreground"}`,children:Sn==="lot-collection"&&i.jsx("div",{className:"h-3 w-3 rounded-full bg-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold",children:"A collection/lot to sell together"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"One listing with all photos (e.g., a bundle of tools or a set of dishes)"})]})]})})]})]}),Sn&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs(pe,{className:"text-lg font-semibold",children:["Step 2: Select category ",Sn==="different-items"?"(required)":"(optional)"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:Sn==="different-items"?"All uploaded items will be assigned to this category. You can adjust individual items later.":"Manually select a category, or let AI auto-detect it from your photos."}),i.jsxs(hn,{value:ho,onValueChange:uO,children:[i.jsx(on,{className:"w-full","data-testid":"select-manual-category",children:i.jsx(mn,{placeholder:"Select a category"})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"electronics",children:"Electronics"}),i.jsx(ne,{value:"furniture",children:"Furniture"}),i.jsx(ne,{value:"clothing",children:"Clothing & Accessories"}),i.jsx(ne,{value:"automotive",children:"Automotive (Cars, Parts, Tools)"}),i.jsx(ne,{value:"books",children:"Books & Media"}),i.jsx(ne,{value:"sports",children:"Sports & Outdoors"}),i.jsx(ne,{value:"home",children:"Home & Garden"}),i.jsx(ne,{value:"toys",children:"Toys & Games"}),i.jsx(ne,{value:"other",children:"Other"})]})]})]}),i.jsxs("div",{className:"flex gap-4 pt-4",children:[i.jsx(B,{type:"button",variant:"outline",className:"flex-1",onClick:()=>e("/"),"data-testid":"button-cancel-category",children:"Cancel"}),i.jsx(B,{type:"button",className:"flex-1",disabled:!Sn||Sn==="different-items"&&!ho,onClick:()=>{if(Sn==="different-items"&&!ho){t({title:"Category Required",description:"Please select a category for your items.",variant:"destructive"});return}if(!Sn){t({title:"Selection Required",description:"Please select the type of listing you're creating.",variant:"destructive"});return}cO("upload-ready")},"data-testid":"button-continue-to-upload",children:"Continue to Upload Photos "})]})]})})}):i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4 flex-wrap",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[i.jsx(vr,{className:"h-8 w-8 text-primary"}),c?"Edit Your Listing":"Smart Listing Coach"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"AI-powered guidance to create the perfect listing"})]})}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(B,{variant:"outline",size:"lg",onClick:()=>d("simple"),"data-testid":"button-skip-coaching",className:"gap-2",children:[i.jsx(yP,{className:"h-4 w-4"}),"Skip to Simple Form"]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(te,{children:[i.jsx(Ke,{children:i.jsx(Je,{children:c?"Update Your Listing":"Create Your Listing"})}),i.jsx(je,{children:i.jsx(zB,{...Re,children:i.jsxs("form",{onSubmit:Re.handleSubmit(PO),className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Bd,{className:"h-5 w-5 text-primary"}),i.jsx(pe,{className:"text-lg font-semibold",children:"Photos"}),f.length>0&&i.jsxs(ct,{variant:"secondary",children:[f.length," uploaded"]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover-elevate cursor-pointer",children:[i.jsx("input",{type:"file",id:"coached-images",multiple:!0,accept:"image/*",onChange:Vy,className:"hidden","data-testid":"input-images-coached",disabled:v}),i.jsxs("label",{htmlFor:"coached-images",className:"cursor-pointer",children:[v?i.jsx(at,{className:"h-8 w-8 mx-auto mb-2 animate-spin text-muted-foreground"}):i.jsx(Bd,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),i.jsx("p",{className:"text-sm font-medium",children:v?"Uploading & Analyzing...":"Upload Photos from Computer"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click to browse or drag and drop images"})]})]}),i.jsx(SW,{onImagesReceived:$=>{console.log(" Received images from QR upload:",$);const U=[...f,...$];h(U),Re.setValue("images",U)}})]}),f.length>0&&!q&&i.jsxs("div",{className:"mt-4 space-y-3",children:[hr&&i.jsxs(Zo,{className:hr.remainingFree===0?"border-destructive/50 bg-destructive/5":"border-primary/20",children:[i.jsx(vr,{className:"h-4 w-4"}),i.jsxs(Xo,{className:"text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{children:[i.jsx("strong",{children:"AI Descriptions:"})," ",hr.usesThisMonth," of 5 used this month"]}),i.jsxs("span",{className:"text-muted-foreground text-xs",children:["Resets: ",new Date(hr.resetDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),hr.remainingFree>0&&i.jsx("div",{className:"mt-1",children:i.jsxs("span",{className:"text-primary font-medium",children:[hr.remainingFree," free credits remaining"]})}),hr.remainingFree===0&&i.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[i.jsxs(B,{variant:"default",size:"sm",onClick:By,"data-testid":"button-upgrade-credits",children:[i.jsx(vr,{className:"mr-2 h-3 w-3"}),"Purchase 25 AI Credits - $2.99"]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Credits never expire"})]})]})]}),i.jsxs(Zo,{className:"border-primary/20 bg-primary/5",children:[i.jsx(vr,{className:"h-4 w-4"}),i.jsxs(Xo,{className:"text-sm",children:[" Pro Tip: Using AI to generate descriptions creates higher quality product listings which lead to more successful sales.",f.length>=10&&" While it takes 1-2 minutes for 10 items, the improved descriptions are worth the wait!"]})]}),i.jsx("div",{className:"border-2 border-primary/30 rounded-lg p-4 bg-gradient-to-br from-primary/5 to-primary/10",children:i.jsxs("div",{className:"text-center space-y-3",children:[i.jsxs("p",{className:"font-medium",children:["Photos uploaded (",f.length," image",f.length>1?"s":"",")"]}),i.jsxs(B,{type:"button",size:"lg",onClick:gO,className:"w-full gap-2","data-testid":"button-auto-generate",disabled:hr&&hr.remainingFree===0,children:[i.jsx(kf,{className:"h-5 w-5"}),"Auto-Generate Descriptions with AI"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Or enter details manually below "})]})})]}),f.length>0&&i.jsx("div",{className:"space-y-3 mt-4",children:f.map(($,U)=>i.jsxs("div",{className:"flex gap-3 p-3 border rounded-lg",children:[i.jsxs("div",{className:"relative w-24 h-24 rounded overflow-hidden flex-shrink-0",children:[i.jsx("img",{src:$,alt:`Photo ${U+1}`,className:"w-full h-full object-cover"}),i.jsx(B,{type:"button",size:"icon",variant:"destructive",className:"absolute top-1 right-1 h-6 w-6",onClick:()=>qy(U),"data-testid":`button-remove-image-${U}`,children:i.jsx(Lr,{className:"h-3 w-3"})})]}),i.jsx("div",{className:"flex-1 min-w-0",children:w[U]?i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(at,{className:"h-4 w-4 animate-spin"})," Searching for item and generating an automated description"]}):x[U]?i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("p",{className:"font-semibold text-sm",children:["Photo #",U+1]})}),i.jsx("p",{className:"font-bold text-base",children:x[U].title}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:x[U].description}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("span",{className:"font-semibold text-primary",children:["$",x[U].usedPrice]}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Retail: $",x[U].retailPrice,")"]})]}),i.jsx("div",{className:"flex gap-2 mt-2",children:i.jsx(B,{type:"button",size:"sm",variant:"outline",onClick:()=>SO(U),"data-testid":`button-edit-details-${U}`,children:"Edit Details"})})]}):i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Photo #",U+1]})})]},U))}),yt&&i.jsxs(Zo,{className:"mt-4","data-testid":"alert-detection-message",children:[i.jsx(wt,{className:"h-4 w-4"}),i.jsx(Xo,{children:yt})]})]}),i.jsx(wo,{control:Re.control,name:"title",render:({field:$})=>i.jsxs(xa,{children:[i.jsx(uc,{children:"Title *"}),i.jsx(va,{children:i.jsx(xt,{placeholder:"e.g. iPhone 13 Pro Max - 256GB, Like New","data-testid":"input-title-coached",...$})}),i.jsx(ya,{})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(J0,{className:"h-5 w-5 text-primary"}),i.jsx(pe,{className:"text-lg font-semibold",children:"Description *"})]}),i.jsx(B,{type:"button",size:"sm",variant:"outline",onClick:CO,disabled:A||!mo.description||mo.description.length<10,"data-testid":"button-analyze-description",children:A?i.jsxs(i.Fragment,{children:[i.jsx(at,{className:"h-3 w-3 mr-2 animate-spin"})," Analyzing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kf,{className:"h-3 w-3 mr-2"})," Analyze"]})})]}),i.jsx(wo,{control:Re.control,name:"description",render:({field:$})=>{var U;return i.jsxs(xa,{children:[i.jsx(va,{children:i.jsx($r,{placeholder:"Describe your item in detail. Include size, color, condition, features, and why you're selling...",className:"min-h-32","data-testid":"input-description-coached",...$})}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mt-1",children:[i.jsxs("span",{children:[((U=mo.description)==null?void 0:U.length)||0," characters"]}),i.jsx("span",{children:"Optimal: 150-250 words"})]}),i.jsx(ya,{})]})}}),P&&i.jsx(te,{className:"border-primary/20",children:i.jsxs(je,{className:"pt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"font-medium text-sm",children:"Strength Score"}),i.jsxs(ct,{variant:P.score>=7?"default":"secondary",children:[P.score,"/10"]})]}),P.missingInfo.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-sm font-medium flex items-center gap-1",children:[i.jsx(vs,{className:"h-3 w-3"}),"Consider adding:"]}),i.jsx("ul",{className:"text-xs space-y-1",children:P.missingInfo.map(($,U)=>i.jsxs("li",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-muted-foreground",children:""})," ",$]},U))})]}),P.aiGeneratedDescription&&i.jsx("div",{children:i.jsxs(B,{type:"button",size:"sm",variant:"outline",className:"w-full",onClick:kO,"data-testid":"button-use-ai-description",children:[i.jsx(vr,{className:"h-3 w-3 mr-2"}),"Use AI-Enhanced Description"]})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(wo,{control:Re.control,name:"category",render:({field:$})=>i.jsxs(xa,{children:[i.jsx(uc,{children:"Category *"}),i.jsxs(hn,{onValueChange:$.onChange,defaultValue:$.value,children:[i.jsx(va,{children:i.jsx(on,{children:i.jsx(mn,{placeholder:"Select a category"})})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"Electronics",children:"Electronics"}),i.jsx(ne,{value:"Furniture",children:"Furniture"}),i.jsx(ne,{value:"Clothing",children:"Clothing"}),i.jsx(ne,{value:"Automotive",children:"Automotive"}),i.jsx(ne,{value:"Books & Media",children:"Books & Media"}),i.jsx(ne,{value:"Sports",children:"Sports"}),i.jsx(ne,{value:"Home & Garden",children:"Home & Garden"}),i.jsx(ne,{value:"Toys",children:"Toys"}),i.jsx(ne,{value:"Other",children:"Other"})]})]}),i.jsx(ya,{})]})}),i.jsx(wo,{control:Re.control,name:"condition",render:({field:$})=>i.jsxs(xa,{children:[i.jsx(uc,{children:"Condition *"}),i.jsxs(hn,{onValueChange:$.onChange,defaultValue:$.value,children:[i.jsx(va,{children:i.jsx(on,{children:i.jsx(mn,{placeholder:"Select condition"})})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"new",children:"New"}),i.jsx(ne,{value:"like-new",children:"Like New"}),i.jsx(ne,{value:"good",children:"Good"}),i.jsx(ne,{value:"fair",children:"Fair"}),i.jsx(ne,{value:"poor",children:"Poor"})]})]}),i.jsx(ya,{})]})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ef,{className:"h-5 w-5 text-primary"}),i.jsx(pe,{className:"text-lg font-semibold",children:"Price ($) *"})]}),i.jsx(B,{type:"button",size:"sm",variant:"outline",onClick:_O,disabled:M||!mo.title,"data-testid":"button-analyze-pricing",children:M?i.jsxs(i.Fragment,{children:[i.jsx(at,{className:"h-3 w-3 mr-2 animate-spin"})," Analyzing..."]}):i.jsxs(i.Fragment,{children:[i.jsx($v,{className:"h-3 w-3 mr-2"})," Get Price Suggestion"]})})]}),i.jsx(wo,{control:Re.control,name:"price",render:({field:$})=>i.jsxs(xa,{children:[i.jsx(va,{children:i.jsx(xt,{type:"number",placeholder:"0.00","data-testid":"input-price-coached",...$,onChange:U=>$.onChange(U.target.value)})}),i.jsx(ya,{})]})}),L&&i.jsx(te,{className:"border-primary/20",children:i.jsxs(je,{className:"pt-4 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium mb-1",children:["Recommended: $",L.recommendedPrice]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:L.reasoning})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(B,{type:"button",size:"sm",variant:"outline",onClick:()=>Ky("sellFast"),className:"text-xs",children:[i.jsx(qz,{className:"h-3 w-3 mr-1"}),"Sell Fast: $",L.strategy.sellFast.price]}),i.jsxs(B,{type:"button",size:"sm",variant:"outline",onClick:()=>Ky("maximizeValue"),className:"text-xs",children:[i.jsx(Uz,{className:"h-3 w-3 mr-1"}),"Max Value: $",L.strategy.maximizeValue.price]})]}),L.pricingTip&&i.jsxs("div",{className:"flex items-start gap-2 p-2 bg-primary/5 rounded text-xs",children:[i.jsx(vP,{className:"h-3 w-3 text-primary mt-0.5 flex-shrink-0"}),i.jsx("p",{children:L.pricingTip})]})]})})]}),i.jsx(wo,{control:Re.control,name:"location",render:({field:$})=>i.jsxs(xa,{children:[i.jsx(uc,{children:"Location *"}),i.jsx(va,{children:i.jsx(xt,{placeholder:"e.g. San Francisco, CA",...$})}),i.jsx(ya,{})]})}),i.jsxs("div",{className:"flex gap-4 pt-4",children:[i.jsx(B,{type:"button",variant:"outline",className:"flex-1",onClick:()=>e("/"),children:"Cancel"}),i.jsx(B,{type:"submit",className:"flex-1",disabled:dm.isPending,"data-testid":"button-submit-coached",children:dm.isPending?i.jsxs(i.Fragment,{children:[i.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Posting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wt,{className:"mr-2 h-4 w-4"}),c?"Update Listing":"Post Listing"]})})]})]})})})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(te,{children:[i.jsx(Ke,{children:i.jsxs(Je,{className:"flex items-center gap-2",children:[i.jsx(Vt,{className:"h-5 w-5 text-primary"}),"Quick Tips"]})}),i.jsxs(je,{className:"space-y-3",children:[i.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg space-y-2",children:[i.jsxs("p",{className:"font-medium text-sm flex items-center gap-2",children:[i.jsx(Bd,{className:"h-4 w-4"}),"Photo Essentials"]}),i.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[i.jsx("li",{children:" Use natural light near a window"}),i.jsx("li",{children:" Clean, simple background"}),i.jsx("li",{children:" Multiple angles (front, back, sides)"}),i.jsx("li",{children:" Close-ups of details"}),i.jsx("li",{children:" Include size reference"})]})]}),i.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg space-y-2",children:[i.jsxs("p",{className:"font-medium text-sm flex items-center gap-2",children:[i.jsx(J0,{className:"h-4 w-4"}),"Description Must-Haves"]}),i.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[i.jsx("li",{children:" Exact measurements/size"}),i.jsx("li",{children:" Color and material"}),i.jsx("li",{children:" Condition details"}),i.jsx("li",{children:" Purchase date"}),i.jsx("li",{children:" Reason for selling"})]})]}),i.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg space-y-2",children:[i.jsxs("p",{className:"font-medium text-sm flex items-center gap-2",children:[i.jsx(Ef,{className:"h-4 w-4"}),"Pricing Psychology"]}),i.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[i.jsx("li",{children:" $99 feels cheaper than $100"}),i.jsx("li",{children:" Leave room for negotiation"}),i.jsx("li",{children:" Research similar sold items"}),i.jsx("li",{children:" Consider condition honestly"})]})]})]})]}),i.jsxs(te,{children:[i.jsx(Ke,{children:i.jsxs(Je,{className:"flex items-center gap-2",children:[i.jsx(Wz,{className:"h-5 w-5 text-primary"}),"Success Stats"]})}),i.jsxs(je,{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Listings with 5+ photos"}),i.jsx("span",{className:"font-semibold",children:"+67% views"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Detailed descriptions"}),i.jsx("span",{className:"font-semibold",children:"+45% sales"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Competitive pricing"}),i.jsx("span",{className:"font-semibold",children:"3x faster sale"})]})]})]})]})]}),i.jsx(Tn,{open:He,onOpenChange:De,children:i.jsxs(yn,{className:"sm:max-w-md","data-testid":"dialog-multi-product",children:[i.jsxs(wn,{children:[i.jsxs(bn,{className:"flex items-center gap-2",children:[i.jsx(vs,{className:"h-5 w-5 text-primary"}),"Multiple Items Detected"]}),i.jsx(Rn,{children:(J==null?void 0:J.message)||"We detected multiple different items in your photos."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Our AI detected ",(J==null?void 0:J.products.length)||0," different product",((J==null?void 0:J.products.length)||0)>1?"s":""," in your uploaded images. How would you like to proceed?"]}),J==null?void 0:J.products.map(($,U)=>i.jsxs("div",{className:"p-3 border rounded-lg space-y-2",children:[i.jsxs("p",{className:"font-medium text-sm",children:["Product ",U+1,": ",$.title]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Images: ",$.imageIndices.map(se=>`#${se+1}`).join(", "),"(",$.imageIndices.length," ",$.imageIndices.length>1?"angles of same item":"photo",")"]}),i.jsx("div",{className:"flex gap-2 flex-wrap",children:$.imageIndices.map((se,xe)=>i.jsx("div",{className:"w-16 h-16 rounded border overflow-hidden",children:i.jsx("img",{src:f[se],alt:`${$.title} - Image ${se+1}`,className:"w-full h-full object-cover"})},xe))})]},U))]}),i.jsxs(js,{className:"flex-col sm:flex-col gap-2",children:[i.jsxs(B,{variant:"default",onClick:Wy,className:"w-full","data-testid":"button-create-separate",children:[i.jsx(vr,{className:"h-4 w-4 mr-2"}),"Create ",(J==null?void 0:J.products.length)||0," Separate Listings"]}),i.jsx(B,{variant:"default",onClick:Hy,disabled:ve,className:"w-full","data-testid":"button-create-bundle",children:ve?i.jsxs(i.Fragment,{children:[i.jsx(at,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(La,{className:"h-4 w-4 mr-2"}),"Create Bundle Listing"]})}),i.jsx(B,{variant:"outline",onClick:jO,className:"w-full","data-testid":"button-override-same",children:"These Are All the Same Item"})]})]})}),i.jsx(Tn,{open:p!==null,onOpenChange:$=>!$&&j(null),children:i.jsxs(yn,{className:"sm:max-w-lg","data-testid":"dialog-edit-product",children:[i.jsxs(wn,{children:[i.jsx(bn,{children:"Edit Product Details"}),i.jsxs(Rn,{children:["Update the AI-detected product information for Photo #",(p||0)+1]})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"edit-title",children:"Title"}),i.jsx(xt,{id:"edit-title",value:N.title,onChange:$=>_({...N,title:$.target.value}),placeholder:"Product title","data-testid":"input-edit-title"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"edit-description",children:"Description"}),i.jsx($r,{id:"edit-description",value:N.description,onChange:$=>_({...N,description:$.target.value}),placeholder:"Product description",rows:4,"data-testid":"input-edit-description"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"edit-used-price",children:"Used Price ($)"}),i.jsx(xt,{id:"edit-used-price",type:"number",value:N.usedPrice,onChange:$=>_({...N,usedPrice:$.target.value}),placeholder:"0.00",step:"0.01","data-testid":"input-edit-used-price"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"edit-retail-price",children:"Retail Price ($)"}),i.jsx(xt,{id:"edit-retail-price",type:"number",value:N.retailPrice,onChange:$=>_({...N,retailPrice:$.target.value}),placeholder:"0.00",step:"0.01","data-testid":"input-edit-retail-price"})]})]})]}),i.jsxs(js,{children:[i.jsx(B,{variant:"outline",onClick:()=>j(null),"data-testid":"button-cancel-edit",children:"Cancel"}),i.jsx(B,{onClick:NO,"data-testid":"button-save-edit",children:"Save Changes"})]})]})}),i.jsx(Yb,{open:z,currentIndex:ie.current,totalImages:ie.total,analyzedItems:G,countdown:da,formatTime:Uy,phase:Ye,phaseMessage:tn,onClose:()=>{V(!1),Ae.length>0&&Te(!0)}}),i.jsx(QW,{open:dO,photoCount:f.length,onChoice:pO}),gt&&Ae.length>0&&i.jsx(kW,{open:Oe,products:Ae,groupingInfo:gt,onCreateSeparate:Wy,onCreateBundle:Hy,onManualRegroup:bO}),i.jsx(Tn,{open:ds,onOpenChange:ua,children:i.jsxs(yn,{className:"sm:max-w-md","data-testid":"dialog-warning-ai",children:[i.jsxs(wn,{children:[i.jsx(bn,{children:"Use AI to Generate Descriptions?"}),i.jsxs(Rn,{children:["This will take approximately ",Bl," seconds for your ",f.length," photo",f.length>1?"s":"","."]})]}),i.jsxs("div",{className:"space-y-3 py-4",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(wt,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-sm",children:"Creates higher quality descriptions"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(wt,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-sm",children:"Leads to more successful sales"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(wt,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-sm",children:"Automatically fills title, description, category, and pricing"})]}),i.jsx("div",{className:"text-sm text-muted-foreground mt-4 pt-4 border-t",children:"You can always edit the AI-generated content after."})]}),i.jsxs(js,{className:"flex gap-2",children:[i.jsx(B,{variant:"outline",onClick:()=>ua(!1),"data-testid":"button-cancel-ai",children:"Cancel"}),i.jsx(B,{onClick:xO,"data-testid":"button-confirm-ai",children:"Generate Descriptions"})]})]})}),i.jsx(Tn,{open:Vl,onOpenChange:fo,children:i.jsxs(yn,{className:"sm:max-w-md","data-testid":"dialog-success-ai",children:[i.jsxs(wn,{children:[i.jsxs(bn,{className:"flex items-center gap-2",children:[i.jsx(wt,{className:"h-5 w-5 text-green-600"}),"Descriptions Generated Successfully!"]}),i.jsx(Rn,{children:"Review and edit the AI-generated content below, then publish when ready."})]}),i.jsx(js,{children:i.jsx(B,{onClick:()=>fo(!1),"data-testid":"button-success-ok",className:"w-full",children:"OK, Let me Review"})})]})})]})}function ZW({images:e,title:t}){const[n,r]=m.useState(0);if(!e||e.length===0)return i.jsx(te,{className:"aspect-[4/3] flex items-center justify-center bg-muted",children:i.jsx("p",{className:"text-muted-foreground",children:"No images available"})});const s=()=>{r(l=>l===0?e.length-1:l-1)},a=()=>{r(l=>l===e.length-1?0:l+1)},o=()=>{window.open(e[n],"_blank")};return i.jsxs("div",{className:"space-y-4","data-testid":"image-gallery",children:[i.jsxs(te,{className:"relative overflow-hidden bg-muted",children:[i.jsx("div",{className:"aspect-[4/3] flex items-center justify-center",children:i.jsx("img",{src:e[n],alt:`${t} - Image ${n+1}`,className:"w-full h-full object-contain","data-testid":`image-main-${n}`})}),e.length>1&&i.jsxs(i.Fragment,{children:[i.jsx(B,{variant:"outline",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-background/80 backdrop-blur-sm",onClick:s,"data-testid":"button-image-prev",children:i.jsx(pz,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-background/80 backdrop-blur-sm",onClick:a,"data-testid":"button-image-next",children:i.jsx(Pf,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"absolute top-2 right-2 flex items-center gap-2",children:i.jsx(B,{variant:"outline",size:"icon",className:"bg-background/80 backdrop-blur-sm",onClick:o,"data-testid":"button-image-zoom",children:i.jsx(jP,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"absolute bottom-2 right-2 bg-background/80 backdrop-blur-sm px-3 py-1 rounded-md text-sm font-medium","data-testid":"text-image-counter",children:[n+1," / ",e.length]})]}),e.length>1&&i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:e.map((l,c)=>i.jsx("button",{onClick:()=>r(c),className:`flex-shrink-0 w-20 h-20 rounded-md overflow-hidden border-2 transition-colors ${c===n?"border-primary":"border-transparent hover:border-muted-foreground"}`,"data-testid":`button-thumbnail-${c}`,children:i.jsx("img",{src:l,alt:`${t} thumbnail ${c+1}`,className:"w-full h-full object-cover"})},c))})]})}function XW(){return yh.useSyncExternalStore(JW,()=>!0,()=>!1)}function JW(){return()=>{}}var Ry="Avatar",[eH]=Yn(Ry),[tH,DI]=eH(Ry),FI=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=m.useState("idle");return i.jsx(tH,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(Se.span,{...r,ref:t})})});FI.displayName=Ry;var LI="AvatarImage",$I=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,o=DI(LI,n),l=nH(r,a),c=qn(u=>{s(u),o.onImageLoadingStatusChange(u)});return Jt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Se.img,{...a,ref:t,src:r}):null});$I.displayName=LI;var zI="AvatarFallback",UI=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=DI(zI,n),[o,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(Se.span,{...s,ref:t}):null});UI.displayName=zI;function ej(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function nH(e,{referrerPolicy:t,crossOrigin:n}){const r=XW(),s=m.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[o,l]=m.useState(()=>ej(a,e));return Jt(()=>{l(ej(a,e))},[a,e]),Jt(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var VI=FI,BI=$I,WI=UI;const la=m.forwardRef(({className:e,...t},n)=>i.jsx(VI,{ref:n,className:de(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));la.displayName=VI.displayName;const lo=m.forwardRef(({className:e,...t},n)=>i.jsx(BI,{ref:n,className:de("aspect-square h-full w-full",e),...t}));lo.displayName=BI.displayName;const ca=m.forwardRef(({className:e,...t},n)=>i.jsx(WI,{ref:n,className:de("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ca.displayName=WI.displayName;function rH({open:e,onOpenChange:t,listingId:n,reviewedUserId:r,reviewerRole:s,currentUserId:a,queryKey:o=["/api/reviews"]}){const{toast:l}=gn(),[c,u]=m.useState(0),[d,f]=m.useState(0),[h,v]=m.useState([{key:"communicationRating",label:"Communication",value:0},{key:"asDescribedRating",label:"Item as Described",value:0},{key:"punctualityRating",label:"Punctuality",value:0},{key:"professionalismRating",label:"Professionalism",value:0}]),[y,x]=m.useState(""),[b,w]=m.useState(""),[g,p]=m.useState("yes_definitely"),[j,N]=m.useState([]),_=ur({mutationFn:async M=>await ks("POST","/api/reviews/create",M),onSuccess:()=>{l({title:"Review submitted",description:"Thank you for your feedback!"}),vt.invalidateQueries({queryKey:o}),t(!1),P()},onError:M=>{l({title:"Error",description:M.message||"Failed to submit review. Please try again.",variant:"destructive"})}}),P=()=>{u(0),f(0),v(h.map(M=>({...M,value:0}))),x(""),w(""),p("yes_definitely"),N([])},C=()=>{var T,q,W,H;if(c===0){l({title:"Rating required",description:"Please provide an overall rating.",variant:"destructive"});return}if(b.trim().length===0){l({title:"Review text required",description:"Please write a review.",variant:"destructive"});return}const M={listingId:n,reviewerId:a,reviewedUserId:r,overallRating:c,communicationRating:((T=h.find(S=>S.key==="communicationRating"))==null?void 0:T.value)||null,asDescribedRating:((q=h.find(S=>S.key==="asDescribedRating"))==null?void 0:q.value)||null,punctualityRating:((W=h.find(S=>S.key==="punctualityRating"))==null?void 0:W.value)||null,professionalismRating:((H=h.find(S=>S.key==="professionalismRating"))==null?void 0:H.value)||null,reviewTitle:y.trim()||null,reviewText:b.trim(),reviewPhotos:j,reviewerRole:s,wouldTransactAgain:g,verifiedTransaction:!0};_.mutate(M)},L=M=>{const T=M.target.files;if(!T)return;const q=Array.from(T);let W=0;q.forEach(H=>{const S=new FileReader;S.onloadend=()=>{N(F=>F.length>=5?(W===0&&l({title:"Maximum photos reached",description:"You can upload up to 5 photos.",variant:"destructive"}),F):(W++,[...F,S.result]))},S.readAsDataURL(H)}),M.target.value=""},k=M=>{N(T=>T.filter((q,W)=>W!==M))},A=(M,T)=>{v(q=>q.map(W=>W.key===M?{...W,value:T}:W))},E=d||c;return i.jsx(Tn,{open:e,onOpenChange:t,children:i.jsxs(yn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","data-testid":"modal-leave-review",children:[i.jsxs(wn,{children:[i.jsx(bn,{children:"Leave a Review"}),i.jsxs(Rn,{children:["Share your experience with this ",s==="buyer"?"seller":"buyer"]})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{className:"text-base font-semibold",children:"Overall Rating *"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(M=>i.jsx("button",{type:"button",onClick:()=>u(M),onMouseEnter:()=>f(M),onMouseLeave:()=>f(0),className:"transition-transform hover:scale-110","data-testid":`star-overall-${M}`,"aria-label":`Rate ${M} stars`,children:i.jsx(Vt,{className:`h-8 w-8 ${M<=E?"fill-primary text-primary":"fill-muted text-muted"}`})},M))}),c>0&&i.jsxs("span",{className:"text-sm text-muted-foreground",children:[c,".0 / 5.0"]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(pe,{className:"text-base font-semibold",children:"Detailed Ratings"}),h.map(M=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:M.label}),i.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(T=>i.jsx("button",{type:"button",onClick:()=>A(M.key,T),className:"transition-transform hover:scale-110","data-testid":`star-${M.key}-${T}`,"aria-label":`Rate ${M.label} ${T} stars`,children:i.jsx(Vt,{className:`h-5 w-5 ${T<=M.value?"fill-primary text-primary":"fill-muted text-muted"}`})},T))})]},M.key))]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"review-title",children:"Review Title"}),i.jsx(xt,{id:"review-title",placeholder:"Summarize your experience in a few words",value:y,onChange:M=>x(M.target.value),maxLength:200,"data-testid":"input-review-title"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.length,"/200 characters"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"review-text",children:"Your Review *"}),i.jsx($r,{id:"review-text",placeholder:"Share details about your experience...",value:b,onChange:M=>w(M.target.value),rows:5,"data-testid":"textarea-review-text"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{children:"Add Photos (Optional)"}),i.jsxs("div",{className:"space-y-3",children:[j.length>0&&i.jsx("div",{className:"flex gap-2 flex-wrap",children:j.map((M,T)=>i.jsxs("div",{className:"relative w-20 h-20 rounded-md overflow-hidden bg-muted","data-testid":`photo-preview-${T}`,children:[i.jsx("img",{src:M,alt:`Review photo ${T+1}`,className:"w-full h-full object-cover"}),i.jsx("button",{type:"button",onClick:()=>k(T),className:"absolute top-1 right-1 bg-background/80 rounded-full p-1 hover:bg-background","data-testid":`button-remove-photo-${T}`,"aria-label":`Remove photo ${T+1}`,children:i.jsx(Lr,{className:"h-3 w-3"})})]},T))}),j.length<5&&i.jsxs("label",{children:[i.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:L,className:"hidden","data-testid":"input-photo-upload"}),i.jsxs(B,{type:"button",variant:"outline",className:"w-full",onClick:M=>{var T;M.preventDefault(),(T=M.currentTarget.previousElementSibling)==null||T.click()},"data-testid":"button-upload-photos",children:[i.jsx(Yc,{className:"h-4 w-4 mr-2"}),"Upload Photos (",j.length,"/5)"]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(pe,{children:["Would you transact with this ",s==="buyer"?"seller":"buyer"," again?"]}),i.jsxs($u,{value:g,onValueChange:p,children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ir,{value:"yes_definitely",id:"yes_definitely","data-testid":"radio-yes-definitely"}),i.jsx(pe,{htmlFor:"yes_definitely",className:"font-normal",children:"Yes, definitely"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ir,{value:"maybe",id:"maybe","data-testid":"radio-maybe"}),i.jsx(pe,{htmlFor:"maybe",className:"font-normal",children:"Maybe"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ir,{value:"no",id:"no","data-testid":"radio-no"}),i.jsx(pe,{htmlFor:"no",className:"font-normal",children:"No"})]})]})]})]}),i.jsxs(js,{children:[i.jsx(B,{variant:"outline",onClick:()=>t(!1),disabled:_.isPending,"data-testid":"button-cancel",children:"Cancel"}),i.jsxs(B,{onClick:C,disabled:_.isPending,"data-testid":"button-submit-review",children:[_.isPending&&i.jsx(at,{className:"h-4 w-4 mr-2 animate-spin"}),"Submit Review"]})]})]})})}const sH=[{value:"seller_unavailable",label:"Seller became unavailable",roles:["buyer"]},{value:"buyer_unavailable",label:"Buyer became unavailable",roles:["seller"]},{value:"price_disagreement",label:"Could not agree on price"},{value:"item_condition",label:"Item condition not as described"},{value:"payment_issues",label:"Payment issues"},{value:"location_issues",label:"Location/meeting issues"},{value:"changed_mind",label:"Changed my mind"},{value:"found_better_deal",label:"Found a better deal elsewhere"},{value:"safety_concerns",label:"Safety or trust concerns"},{value:"no_response",label:"Other party stopped responding"},{value:"other",label:"Other reason"}];function iH({open:e,onOpenChange:t,listingId:n,otherUserId:r,currentUserId:s,userRole:a,queryKey:o=["/api/cancellations"]}){const{toast:l}=gn(),[c,u]=m.useState(""),[d,f]=m.useState(""),[h,v]=m.useState("self"),y=ur({mutationFn:async g=>await ks("/api/cancellations/create","POST",g),onSuccess:()=>{l({title:"Cancellation recorded",description:"Your cancellation comment has been submitted."}),vt.invalidateQueries({queryKey:o}),t(!1),x()},onError:g=>{l({title:"Error",description:g.message||"Failed to submit cancellation. Please try again.",variant:"destructive"})}}),x=()=>{u(""),f(""),v("self")},b=()=>{if(!c){l({title:"Reason required",description:"Please select a cancellation reason.",variant:"destructive"});return}if(d.trim().length===0){l({title:"Comment required",description:"Please provide details about the cancellation.",variant:"destructive"});return}const g={listingId:n,commenterId:s,commentedUserId:r,cancellationReason:c,cancellationComment:d.trim(),whoInitiated:h,commenterRole:a};y.mutate(g)},w=sH.filter(g=>!g.roles||g.roles.includes(a));return i.jsx(Tn,{open:e,onOpenChange:t,children:i.jsxs(yn,{className:"max-w-lg","data-testid":"modal-cancellation-comment",children:[i.jsxs(wn,{children:[i.jsx(bn,{children:"Report Transaction Cancellation"}),i.jsx(Rn,{children:"Help us improve by sharing why this transaction didn't complete"})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(pe,{children:"Who initiated the cancellation?"}),i.jsxs($u,{value:h,onValueChange:g=>v(g),children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ir,{value:"self",id:"initiated-self","data-testid":"radio-initiated-self"}),i.jsx(pe,{htmlFor:"initiated-self",className:"font-normal",children:"I initiated the cancellation"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ir,{value:"other",id:"initiated-other","data-testid":"radio-initiated-other"}),i.jsx(pe,{htmlFor:"initiated-other",className:"font-normal",children:"The other party initiated the cancellation"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ir,{value:"mutual",id:"initiated-mutual","data-testid":"radio-initiated-mutual"}),i.jsx(pe,{htmlFor:"initiated-mutual",className:"font-normal",children:"It was a mutual decision"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"cancellation-reason",children:"Reason for Cancellation *"}),i.jsxs(hn,{value:c,onValueChange:u,children:[i.jsx(on,{id:"cancellation-reason","data-testid":"select-cancellation-reason",children:i.jsx(mn,{placeholder:"Select a reason"})}),i.jsx(ln,{children:w.map(g=>i.jsx(ne,{value:g.value,children:g.label},g.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"cancellation-comment",children:"Additional Details *"}),i.jsx($r,{id:"cancellation-comment",placeholder:"Please provide details about what happened...",value:d,onChange:g=>f(g.target.value),rows:5,"data-testid":"textarea-cancellation-comment"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Your feedback helps maintain trust in our marketplace"})]})]}),i.jsxs(js,{children:[i.jsx(B,{variant:"outline",onClick:()=>t(!1),disabled:y.isPending,"data-testid":"button-cancel",children:"Cancel"}),i.jsxs(B,{onClick:b,disabled:y.isPending,"data-testid":"button-submit-cancellation",children:[y.isPending&&i.jsx(at,{className:"h-4 w-4 mr-2 animate-spin"}),"Submit Cancellation"]})]})]})})}const aH=[{value:"found_better_deal",label:"Found better deal"},{value:"personal_emergency",label:"Personal/family emergency"},{value:"changed_mind",label:"Changed my mind"},{value:"item_concerns",label:"Item concerns from photos/description"},{value:"scheduling_conflict",label:"Scheduling conflict"},{value:"unresponsive",label:"Seller/Buyer unresponsive"},{value:"price_too_high",label:"Price too high"},{value:"other",label:"Other"}];function oH({open:e,onOpenChange:t,listingTitle:n,listingPrice:r,otherPartyName:s,listingId:a,userRole:o,scheduledMeetupTime:l,onSuccess:c}){const{toast:u}=gn(),[d,f]=m.useState(""),[h,v]=m.useState(""),[y,x]=m.useState(!0),b=ur({mutationFn:async j=>await ks("POST",`/api/listings/${a}/cancel`,j),onSuccess:()=>{u({title:"Transaction cancelled",description:"The other party has been notified."}),vt.invalidateQueries({queryKey:[`/api/transactions/${a}/details`]}),vt.invalidateQueries({queryKey:["/api/transactions"]}),f(""),v(""),x(!0),t(!1),c==null||c()},onError:j=>{u({title:"Failed to cancel",description:j.message||"Something went wrong",variant:"destructive"})}}),w=()=>{if(!d){u({title:"Please select a reason",variant:"destructive"});return}b.mutate({reasonCategory:d,comment:h.trim()||void 0,isPublic:y,scheduledMeetupTime:l})},g=h.length,p=500;return i.jsx(Tn,{open:e,onOpenChange:t,children:i.jsxs(yn,{className:"sm:max-w-[500px]","data-testid":"dialog-cancel-transaction",children:[i.jsxs(wn,{children:[i.jsx(bn,{"data-testid":"heading-cancel-transaction",children:"Cancel Your Offer?"}),i.jsx(Rn,{children:"Review the cancellation details before proceeding"})]}),i.jsxs("div",{className:"space-y-4",children:[(n||r||s)&&i.jsxs("div",{className:"border-b pb-4",children:[(n||r)&&i.jsxs("p",{className:"font-semibold","data-testid":"text-listing-info",children:[n," ",r&&`- $${r}`]}),s&&i.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-other-party",children:[o==="buyer"?"Seller":"Buyer",": ",s]})]}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-md space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wt,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-sm",children:"Deposit will be fully refunded to you"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wt,{className:"w-4 h-4 text-green-600"}),i.jsx("span",{className:"text-sm",children:"No penalties or fees"})]})]}),i.jsxs("div",{className:"flex gap-2 items-start bg-orange-50 dark:bg-orange-950 p-3 rounded-md",children:[i.jsx(Qa,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-orange-900 dark:text-orange-100",children:"This cancellation will appear on your public profile in transaction history."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(pe,{htmlFor:"reason",children:["Would you like to explain why?"," ",i.jsx("span",{className:"text-muted-foreground",children:"(Optional, but recommended)"})]}),i.jsxs(hn,{value:d,onValueChange:f,children:[i.jsx(on,{id:"reason","data-testid":"select-cancel-reason",children:i.jsx(mn,{placeholder:"Select reason"})}),i.jsx(ln,{children:aH.map(j=>i.jsx(ne,{value:j.value,children:j.label},j.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"comment",children:"Additional comment (optional)"}),i.jsx($r,{id:"comment",placeholder:"I'm really sorry for the late cancellation...",value:h,onChange:j=>v(j.target.value.slice(0,p)),rows:4,"data-testid":"textarea-cancel-comment"}),i.jsxs("p",{className:"text-xs text-muted-foreground text-right","data-testid":"text-char-count",children:[g," / ",p," characters"]})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(nm,{id:"public",checked:y,onCheckedChange:j=>x(j===!0),"data-testid":"checkbox-public"}),i.jsxs("div",{className:"grid gap-1.5 leading-none",children:[i.jsx("label",{htmlFor:"public",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Make this comment public"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"(Recommended for transparency)"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: Public comments help maintain your reputation and show you communicate well."})]}),i.jsxs(js,{className:"gap-2",children:[i.jsx(B,{variant:"outline",onClick:()=>t(!1),disabled:b.isPending,"data-testid":"button-keep-offer",children:"Keep Offer"}),i.jsxs(B,{variant:"destructive",onClick:w,disabled:b.isPending,"data-testid":"button-confirm-cancel",children:[b.isPending&&i.jsx(at,{className:"h-4 w-4 mr-2 animate-spin"}),"Cancel Transaction"]})]})]})})}function bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ea(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const HI=6048e5,lH=864e5,Sd=43200,tj=1440;let cH={};function zu(){return cH}function hu(e,t){var l,c,u,d;const n=zu(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=bt(e),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Xf(e){return hu(e,{weekStartsOn:1})}function qI(e){const t=bt(e),n=t.getFullYear(),r=ea(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Xf(r),a=ea(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Xf(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function nj(e){const t=bt(e);return t.setHours(0,0,0,0),t}function Jf(e){const t=bt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function uH(e,t){const n=nj(e),r=nj(t),s=+n-Jf(n),a=+r-Jf(r);return Math.round((s-a)/lH)}function dH(e){const t=qI(e),n=ea(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Xf(n)}function Gd(e,t){const n=bt(e),r=bt(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function fH(e){return ea(e,Date.now())}function hH(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function mH(e){if(!hH(e)&&typeof e!="number")return!1;const t=bt(e);return!isNaN(Number(t))}function pH(e,t){const n=bt(e),r=bt(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}function gH(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function xH(e,t){return+bt(e)-+bt(t)}function vH(e){const t=bt(e);return t.setHours(23,59,59,999),t}function yH(e){const t=bt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function wH(e){const t=bt(e);return+vH(t)==+yH(t)}function bH(e,t){const n=bt(e),r=bt(t),s=Gd(n,r),a=Math.abs(pH(n,r));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);let l=Gd(n,r)===-s;wH(bt(e))&&a===1&&Gd(e,r)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function jH(e,t,n){const r=xH(e,t)/1e3;return gH(n==null?void 0:n.roundingMethod)(r)}function NH(e){const t=bt(e),n=ea(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const SH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},CH=(e,t,n)=>{let r;const s=SH[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function _p(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const _H={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EH={date:_p({formats:_H,defaultWidth:"full"}),time:_p({formats:kH,defaultWidth:"full"}),dateTime:_p({formats:PH,defaultWidth:"full"})},TH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},RH=(e,t,n,r)=>TH[e];function tc(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const AH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},OH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LH=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$H={ordinalNumber:LH,era:tc({values:AH,defaultWidth:"wide"}),quarter:tc({values:IH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tc({values:MH,defaultWidth:"wide"}),day:tc({values:OH,defaultWidth:"wide"}),dayPeriod:tc({values:DH,defaultWidth:"wide",formattingValues:FH,defaultFormattingWidth:"wide"})};function nc(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?UH(l,f=>f.test(o)):zH(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function zH(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function UH(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function VH(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const BH=/^(\d+)(th|st|nd|rd)?/i,WH=/\d+/i,HH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qH={any:[/^b/i,/^(a|c)/i]},KH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QH={any:[/1/i,/2/i,/3/i,/4/i]},GH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},YH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},XH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},eq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tq={ordinalNumber:VH({matchPattern:BH,parsePattern:WH,valueCallback:e=>parseInt(e,10)}),era:nc({matchPatterns:HH,defaultMatchWidth:"wide",parsePatterns:qH,defaultParseWidth:"any"}),quarter:nc({matchPatterns:KH,defaultMatchWidth:"wide",parsePatterns:QH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:nc({matchPatterns:GH,defaultMatchWidth:"wide",parsePatterns:YH,defaultParseWidth:"any"}),day:nc({matchPatterns:ZH,defaultMatchWidth:"wide",parsePatterns:XH,defaultParseWidth:"any"}),dayPeriod:nc({matchPatterns:JH,defaultMatchWidth:"any",parsePatterns:eq,defaultParseWidth:"any"})},KI={code:"en-US",formatDistance:CH,formatLong:EH,formatRelative:RH,localize:$H,match:tq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function nq(e){const t=bt(e);return uH(t,NH(t))+1}function rq(e){const t=bt(e),n=+Xf(t)-+dH(t);return Math.round(n/HI)+1}function QI(e,t){var d,f,h,v;const n=bt(e),r=n.getFullYear(),s=zu(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(h=s.locale)==null?void 0:h.options)==null?void 0:v.firstWeekContainsDate)??1,o=ea(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=hu(o,t),c=ea(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=hu(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function sq(e,t){var l,c,u,d;const n=zu(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=QI(e,t),a=ea(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),hu(a,t)}function iq(e,t){const n=bt(e),r=+hu(n,t)-+sq(n,t);return Math.round(r/HI)+1}function ht(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const di={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ht(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ht(n+1,2)},d(e,t){return ht(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ht(e.getHours()%12||12,t.length)},H(e,t){return ht(e.getHours(),t.length)},m(e,t){return ht(e.getMinutes(),t.length)},s(e,t){return ht(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ht(s,t.length)}},bo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rj={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return di.y(e,t)},Y:function(e,t,n,r){const s=QI(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return ht(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):ht(a,t.length)},R:function(e,t){const n=qI(e);return ht(n,t.length)},u:function(e,t){const n=e.getFullYear();return ht(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ht(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ht(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return di.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ht(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=iq(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ht(s,t.length)},I:function(e,t,n){const r=rq(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ht(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):di.d(e,t)},D:function(e,t,n){const r=nq(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ht(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ht(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ht(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return ht(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=bo.noon:r===0?s=bo.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=bo.evening:r>=12?s=bo.afternoon:r>=4?s=bo.morning:s=bo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return di.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):di.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ht(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ht(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):di.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):di.s(e,t)},S:function(e,t){return di.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ij(r);case"XXXX":case"XX":return wa(r);case"XXXXX":case"XXX":default:return wa(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ij(r);case"xxxx":case"xx":return wa(r);case"xxxxx":case"xxx":default:return wa(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sj(r,":");case"OOOO":default:return"GMT"+wa(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sj(r,":");case"zzzz":default:return"GMT"+wa(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ht(r,t.length)},T:function(e,t,n){const r=e.getTime();return ht(r,t.length)}};function sj(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+ht(a,2)}function ij(e,t){return e%60===0?(e>0?"-":"+")+ht(Math.abs(e)/60,2):wa(e,t)}function wa(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=ht(Math.trunc(r/60),2),a=ht(r%60,2);return n+s+t+a}const aj=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},GI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},aq=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return aj(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",aj(r,t)).replace("{{time}}",GI(s,t))},oq={p:GI,P:aq},lq=/^D+$/,cq=/^Y+$/,uq=["D","DD","YY","YYYY"];function dq(e){return lq.test(e)}function fq(e){return cq.test(e)}function hq(e,t,n){const r=mq(e,t,n);if(console.warn(r),uq.includes(e))throw new RangeError(r)}function mq(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xq=/^'([^]*?)'?$/,vq=/''/g,yq=/[a-zA-Z]/;function oj(e,t,n){var d,f,h,v;const r=zu(),s=r.locale??KI,a=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((v=(h=r.locale)==null?void 0:h.options)==null?void 0:v.weekStartsOn)??0,l=bt(e);if(!mH(l))throw new RangeError("Invalid time value");let c=t.match(gq).map(y=>{const x=y[0];if(x==="p"||x==="P"){const b=oq[x];return b(y,s.formatLong)}return y}).join("").match(pq).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:wq(y)};if(rj[x])return{isToken:!0,value:y};if(x.match(yq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const x=y.value;(fq(x)||dq(x))&&hq(x,t,String(e));const b=rj[x[0]];return b(l,x,s.localize,u)}).join("")}function wq(e){const t=e.match(xq);return t?t[1].replace(vq,"'"):e}function bq(e,t,n){const r=zu(),s=(n==null?void 0:n.locale)??r.locale??KI,a=2520,o=Gd(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=bt(t),u=bt(e)):(c=bt(e),u=bt(t));const d=jH(u,c),f=(Jf(u)-Jf(c))/1e3,h=Math.round((d-f)/60);let v;if(h<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<tj){const y=Math.round(h/60);return s.formatDistance("aboutXHours",y,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<Sd){const y=Math.round(h/tj);return s.formatDistance("xDays",y,l)}else if(h<Sd*2)return v=Math.round(h/Sd),s.formatDistance("aboutXMonths",v,l)}if(v=bH(u,c),v<12){const y=Math.round(h/Sd);return s.formatDistance("xMonths",y,l)}else{const y=v%12,x=Math.trunc(v/12);return y<3?s.formatDistance("aboutXYears",x,l):y<9?s.formatDistance("overXYears",x,l):s.formatDistance("almostXYears",x+1,l)}}function lj(e,t){return bq(e,fH(e),t)}function jq(e,t){const n=t==="buyer"?e.asBuyer:e.asSeller,r=[],s=t==="buyer"?e.asBuyer.totalPurchases:e.asSeller.totalSales,a=n.successRate,o=n.recentCancellations90d,l=n.recentNoShows90d;return s>0?(l>0&&r.push(`${l} no-show${l>1?"s":""} in last 90 days`),o>2&&r.push(`${o} cancellations in last 90 days`),n.responseRate<70&&r.push(`Low response rate (${n.responseRate}%)`),a>=90&&r.length===0?{level:"excellent",color:"text-green-600 dark:text-green-500",bgColor:"bg-green-50 dark:bg-green-950/30",warnings:r}:a>=75&&r.length<=1?{level:"good",color:"text-blue-600 dark:text-blue-500",bgColor:"bg-blue-50 dark:bg-blue-950/30",warnings:r}:a>=60||r.length<=2?{level:"fair",color:"text-yellow-600 dark:text-yellow-500",bgColor:"bg-yellow-50 dark:bg-yellow-950/30",warnings:r}:a>=40?{level:"poor",color:"text-orange-600 dark:text-orange-500",bgColor:"bg-orange-50 dark:bg-orange-950/30",warnings:r}:{level:"very poor",color:"text-red-600 dark:text-red-500",bgColor:"bg-red-50 dark:bg-red-950/30",warnings:r}):{level:"fair",color:"text-yellow-600 dark:text-yellow-500",bgColor:"bg-yellow-50 dark:bg-yellow-950/30",warnings:["No transaction history yet"]}}function Nq({userId:e,role:t}){const{data:n,isLoading:r}=jt({queryKey:["/api/statistics/user",e,"summary"],queryFn:async()=>{const c=await fetch(`/api/statistics/user/${e}/summary`);if(!c.ok)throw new Error("Failed to fetch statistics");return c.json()}});if(r)return i.jsx(te,{"data-testid":"stats-summary-loading",children:i.jsx(je,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-muted animate-pulse"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),i.jsx("div",{className:"h-3 w-24 bg-muted animate-pulse rounded"})]})]})})});if(!n)return i.jsx(te,{"data-testid":"stats-summary-error",children:i.jsx(je,{className:"p-6",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to load user statistics"})})});const s=t==="buyer"?n.asBuyer:n.asSeller,a=jq(n,t),o=t==="buyer"?n.asBuyer.totalPurchases:n.asSeller.totalSales,l=t==="buyer"?n.asBuyer.successfulPurchases:n.asSeller.successfulSales;return i.jsxs(te,{"data-testid":"stats-summary",children:[i.jsx(Ke,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(la,{className:"h-12 w-12","data-testid":"avatar-user",children:[i.jsx(lo,{src:n.profileImageUrl}),i.jsx(ca,{children:n.displayName.charAt(0)})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Je,{className:"text-lg","data-testid":"text-display-name",children:n.displayName}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.averageRating>0&&i.jsxs("div",{className:"flex items-center gap-1","data-testid":"rating-display",children:[i.jsx(Vt,{className:"h-3.5 w-3.5 fill-yellow-400 text-yellow-400"}),i.jsx("span",{className:"text-sm font-medium",children:n.averageRating.toFixed(1)})]}),i.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":"text-member-since",children:["Member ",lj(new Date(n.memberSince),{addSuffix:!0})]})]})]})]})}),i.jsxs(je,{className:"space-y-4",children:[i.jsxs("div",{className:`p-3 rounded-md ${a.bgColor}`,"data-testid":"recommendation-card",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.level==="excellent"&&i.jsx(Lo,{className:"h-5 w-5 text-green-600 dark:text-green-500"}),a.level==="good"&&i.jsx($v,{className:"h-5 w-5 text-blue-600 dark:text-blue-500"}),(a.level==="fair"||a.level==="poor")&&i.jsx(Ah,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-500"}),a.level==="very poor"&&i.jsx(Qa,{className:"h-5 w-5 text-red-600 dark:text-red-500"}),i.jsxs("span",{className:`font-semibold capitalize ${a.color}`,"data-testid":"text-recommendation-level",children:[a.level," ",t==="buyer"?"Buyer":"Seller"]})]}),a.warnings.length>0&&i.jsx("ul",{className:"space-y-1 ml-7","data-testid":"list-warnings",children:a.warnings.map((c,u)=>i.jsx("li",{className:`text-sm ${a.color}`,"data-testid":`warning-${u}`,children:c},u))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{"data-testid":"section-success-rate",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Success Rate"}),i.jsxs("span",{className:"text-sm font-semibold","data-testid":"text-success-rate",children:[s.successRate.toFixed(0),"%"]})]}),i.jsx(no,{value:s.successRate,className:"h-2","data-testid":"progress-success-rate"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{"data-testid":"stat-total-transactions",children:[i.jsxs("div",{className:"text-muted-foreground",children:["Total ",t==="buyer"?"Purchases":"Sales"]}),i.jsx("div",{className:"font-semibold","data-testid":"text-total-transactions",children:o})]}),i.jsxs("div",{"data-testid":"stat-successful-transactions",children:[i.jsx("div",{className:"text-muted-foreground",children:"Successful"}),i.jsx("div",{className:"font-semibold","data-testid":"text-successful-transactions",children:l})]}),i.jsxs("div",{"data-testid":"stat-recent-activity",children:[i.jsx("div",{className:"text-muted-foreground",children:"Recent (90d)"}),i.jsx("div",{className:"font-semibold","data-testid":"text-recent-activity",children:s.recentTransactions90d})]}),i.jsxs("div",{"data-testid":"stat-response-rate",children:[i.jsx("div",{className:"text-muted-foreground",children:"Response Rate"}),i.jsxs("div",{className:"font-semibold","data-testid":"text-response-rate",children:[s.responseRate.toFixed(0),"%"]})]})]})]}),n.recentCancellations.length>0&&i.jsxs("div",{"data-testid":"section-recent-cancellations",children:[i.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Recent Cancellations"}),i.jsx("div",{className:"space-y-2",children:n.recentCancellations.slice(0,2).map((c,u)=>i.jsxs("div",{className:"text-sm p-2 rounded bg-muted","data-testid":`cancellation-${u}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ct,{variant:"outline",className:"text-xs","data-testid":`badge-timing-${u}`,children:c.timing}),i.jsx("span",{className:"text-xs text-muted-foreground",children:lj(new Date(c.date),{addSuffix:!0})})]}),c.comment&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1","data-testid":`text-comment-${u}`,children:['"',c.comment.substring(0,100),c.comment.length>100?"...":"",'"']})]},u))})]}),n.topReviews.length>0&&i.jsxs("div",{"data-testid":"section-top-reviews",children:[i.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Top Reviews"}),i.jsx("div",{className:"space-y-2",children:n.topReviews.slice(0,2).map((c,u)=>i.jsxs("div",{className:"text-sm p-2 rounded bg-muted","data-testid":`review-${u}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:"flex",children:[...Array(5)].map((d,f)=>i.jsx(Vt,{className:`h-3 w-3 ${f<c.rating?"fill-yellow-400 text-yellow-400":"fill-none text-muted-foreground"}`},f))}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",c.reviewerName]})]}),i.jsxs("p",{className:"text-xs text-muted-foreground","data-testid":`text-review-${u}`,children:['"',c.text.substring(0,100),c.text.length>100?"...":"",'"']})]},u))})]})]})]})}function Sq({open:e,onOpenChange:t,listingId:n,sellerId:r,askingPrice:s,listingTitle:a}){const[o,l]=m.useState(""),[c,u]=m.useState(""),[d,f]=m.useState(""),{toast:h}=gn(),v=Iv(),y=ur({mutationFn:async b=>await ks("POST",`/api/listings/${n}/offers`,b),onSuccess:()=>{h({title:"Offer sent",description:"Your offer has been sent to the seller"}),v.invalidateQueries({queryKey:["/api/offers/made"]}),t(!1),l(""),u(""),f("")},onError:b=>{h({title:"Failed to send offer",description:b.message,variant:"destructive"})}}),x=b=>{b.preventDefault();const w=parseFloat(o),g=c?parseFloat(c):0;if(isNaN(w)||w<=0){h({title:"Invalid offer amount",description:"Please enter a valid offer amount",variant:"destructive"});return}if(c&&(isNaN(g)||g<0)){h({title:"Invalid deposit amount",description:"Please enter a valid deposit amount",variant:"destructive"});return}if(g>w){h({title:"Invalid deposit amount",description:"Deposit cannot exceed offer amount",variant:"destructive"});return}y.mutate({offerAmount:w,depositAmount:g,message:d.trim()})};return i.jsx(Tn,{open:e,onOpenChange:t,children:i.jsxs(yn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","data-testid":"modal-make-offer",children:[i.jsxs(wn,{children:[i.jsx(bn,{"data-testid":"text-modal-title",children:"Make an Offer"}),i.jsx(Rn,{"data-testid":"text-listing-title",children:a})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{"data-testid":"section-seller-stats",children:[i.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Seller Track Record"}),i.jsx(Nq,{userId:r,role:"seller"})]}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(pe,{htmlFor:"offer-amount","data-testid":"label-offer-amount",children:"Offer Amount"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-2xl font-semibold",children:"$"}),i.jsx(xt,{id:"offer-amount",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:o,onChange:b=>l(b.target.value),required:!0,"data-testid":"input-offer-amount",className:"text-lg"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1","data-testid":"text-asking-price",children:["Asking price: $",s.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx(pe,{htmlFor:"deposit-amount","data-testid":"label-deposit-amount",children:"Deposit Amount (Optional)"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-2xl font-semibold",children:"$"}),i.jsx(xt,{id:"deposit-amount",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:c,onChange:b=>u(b.target.value),"data-testid":"input-deposit-amount",className:"text-lg"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Optional deposit to show commitment"})]}),i.jsxs("div",{children:[i.jsx(pe,{htmlFor:"offer-message","data-testid":"label-message",children:"Message to Seller (Optional)"}),i.jsx($r,{id:"offer-message",placeholder:"Add a message to explain your offer...",value:d,onChange:b=>f(b.target.value),rows:4,maxLength:500,"data-testid":"input-message",className:"mt-1 resize-none"}),i.jsxs("p",{className:"text-sm text-muted-foreground text-right mt-1",children:[d.length,"/500"]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(B,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:y.isPending,"data-testid":"button-cancel",className:"flex-1",children:"Cancel"}),i.jsxs(B,{type:"submit",disabled:y.isPending,"data-testid":"button-submit-offer",className:"flex-1",children:[y.isPending&&i.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Offer"]})]})]})]})]})})}function Cq(){const{id:e}=Tu(),{toast:t}=gn(),[n,r]=m.useState(!1),[s,a]=m.useState(!1),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,v]=m.useState(!1),{data:y}=jt({queryKey:["/api/auth/user"],retry:!1}),{data:x,isLoading:b}=jt({queryKey:[`/api/listings/${e}`],enabled:!!e}),{data:w}=jt({queryKey:[`/api/transactions/${e}/details`],enabled:!!e&&!!y}),{data:g=[]}=jt({queryKey:[`/api/listings/similar/${e}`],enabled:!!e}),{data:p}=jt({queryKey:[`/api/favorites/${e}`],enabled:!!e});m.useEffect(()=>{p&&a(p.isFavorited)},[p]);const j=ur({mutationFn:async()=>{const T=await fetch("/api/favorites/toggle",{method:"POST",body:JSON.stringify({listingId:e}),headers:{"Content-Type":"application/json"}});if(!T.ok)throw new Error("Failed to toggle favorite");return T.json()},onSuccess:T=>{a(T.isFavorited),vt.invalidateQueries({queryKey:[`/api/favorites/${e}`]}),t({title:T.isFavorited?"Added to favorites":"Removed from favorites"})},onError:()=>{t({title:"Error",description:"You must be logged in to save listings",variant:"destructive"})}}),N=async()=>{const T=window.location.href;try{await navigator.clipboard.writeText(T),t({title:"Link copied to clipboard!"})}catch{t({title:"Failed to copy link",variant:"destructive"})}};if(b)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!x)return i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Listing not found"}),i.jsx(xr,{href:"/",children:i.jsx(B,{children:"Back to Home"})})]});const{listing:_,seller:P}=x,C=T=>{const q={new:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300","like-new":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",good:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",fair:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",poor:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"};return q[T]||q.good},L=T=>{if(!T)return"N/A";const q=new Date,W=new Date(T),H=q.getTime()-W.getTime(),S=Math.floor(H/6e4),F=Math.floor(S/60),Q=Math.floor(F/24);return S<60?`${S}m ago`:F<24?`${F}h ago`:`${Q}d ago`},k=T=>T?new Date(T).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"N/A",A=T=>T.firstName&&T.lastName?`${T.firstName} ${T.lastName}`:T.firstName?T.firstName:T.email?T.email.split("@")[0]:"Anonymous",E=_.description.length>300,M=n||!E?_.description:_.description.slice(0,300)+"...";return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsx(ZW,{images:_.images,title:_.title}),i.jsxs(te,{className:"p-6",children:[i.jsx("h1",{className:"text-3xl font-bold mb-4","data-testid":"text-listing-title",children:_.title}),i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsxs("span",{className:"text-4xl font-bold text-green-600 dark:text-green-500","data-testid":"text-listing-price",children:["$",parseFloat(_.price).toFixed(2)]}),i.jsx(ct,{className:C(_.condition),"data-testid":"badge-listing-condition",children:_.condition})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2","data-testid":"text-listing-posted",children:[i.jsx(Ah,{className:"h-4 w-4"}),i.jsxs("span",{children:["Posted ",L(_.createdAt)]})]}),i.jsxs("div",{className:"flex items-center gap-2","data-testid":"text-listing-location",children:[i.jsx(Lv,{className:"h-4 w-4"}),i.jsx("span",{children:_.location})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zz,{className:"h-4 w-4"}),i.jsx(xr,{href:`/?category=${_.category}`,children:i.jsx(B,{variant:"ghost",className:"h-auto p-0 text-sm","data-testid":"link-listing-category",children:_.category.charAt(0).toUpperCase()+_.category.slice(1)})})]})]})]}),i.jsxs(te,{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Description"}),i.jsx("p",{className:"text-muted-foreground whitespace-pre-line","data-testid":"text-listing-description",children:M}),E&&i.jsx(B,{variant:"ghost",className:"mt-2 p-0 h-auto",onClick:()=>r(!n),"data-testid":"button-description-toggle",children:n?"Show less":"Read more"})]}),g.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"You Might Also Like"}),i.jsx("div",{className:"flex gap-6 overflow-x-auto pb-4",children:g.map(T=>i.jsx("div",{className:"flex-shrink-0 w-64",children:i.jsx(iy,{id:T.id,image:T.images[0],title:T.title,price:parseFloat(T.price),location:T.location,timePosted:L(T.createdAt)})},T.id))})]})]}),i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsxs(te,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx(la,{className:"h-16 w-16",children:i.jsx(ca,{className:"text-xl bg-primary text-primary-foreground",children:A(P).charAt(0).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg","data-testid":"text-seller-name",children:A(P)}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Member since ",k(P.createdAt)]})]})]}),i.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:" 4.8 (23 reviews)"})}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(ct,{variant:"outline",className:"text-xs",children:"Usually responds in 1 hour"})})]}),i.jsx(xr,{href:`/profile/${P.id}`,children:i.jsx(B,{variant:"outline",className:"w-full","data-testid":"button-view-profile",children:"View Profile"})})]}),y&&i.jsxs(te,{className:"p-6",children:[i.jsx("h3",{className:"font-semibold mb-3",children:"Transaction Actions"}),i.jsxs("div",{className:"space-y-2",children:[(w==null?void 0:w.canCancelTransaction)&&i.jsxs(B,{variant:"destructive",className:"w-full",onClick:()=>f(!0),"data-testid":"button-cancel-transaction",children:[i.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Cancel Transaction"]}),w!=null&&w.eligibleForReview?i.jsxs(B,{variant:"outline",className:"w-full",onClick:()=>l(!0),"data-testid":"button-leave-review",children:[i.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Leave a Review"]}):i.jsx("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-md",children:"Complete a transaction to leave a review"}),w!=null&&w.eligibleForCancellationReport?i.jsxs(B,{variant:"outline",className:"w-full",onClick:()=>u(!0),"data-testid":"button-report-cancellation",children:[i.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Report Cancellation"]}):w&&!w.eligibleForReview&&i.jsx("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-md",children:"Only available for cancelled transactions"})]})]}),i.jsx(te,{className:"p-6 hidden lg:block","data-testid":"card-desktop-actions",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs(B,{className:"w-full",size:"lg","data-testid":"button-message-seller",children:[i.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Message Seller"]}),y&&(x==null?void 0:x.listing.userId)!==y.id&&i.jsxs(B,{variant:"outline",className:"w-full",size:"lg",onClick:()=>v(!0),"data-testid":"button-make-offer",children:[i.jsx(Ef,{className:"h-4 w-4 mr-2"}),"Make Offer"]}),i.jsxs(B,{variant:"outline",className:"w-full",onClick:()=>j.mutate(),disabled:j.isPending,"data-testid":"button-save-listing",children:[i.jsx(Gc,{className:`h-4 w-4 mr-2 ${s?"fill-current text-red-500":""}`}),s?"Saved":"Save"]}),i.jsxs(B,{variant:"outline",className:"w-full",onClick:N,"data-testid":"button-share-listing",children:[i.jsx(nb,{className:"h-4 w-4 mr-2"}),"Share"]})]})}),i.jsxs(te,{className:"p-6 bg-orange-50 dark:bg-orange-950 border-orange-200 dark:border-orange-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Qa,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"}),i.jsx("h3",{className:"font-semibold text-orange-900 dark:text-orange-100",children:"Safety Tips"})]}),i.jsxs("ul",{className:"space-y-2 text-sm text-orange-800 dark:text-orange-200",children:[i.jsxs("li",{className:"flex gap-2",children:[i.jsx("span",{className:"flex-shrink-0",children:""}),i.jsx("span",{children:"Meet in public places"})]}),i.jsxs("li",{className:"flex gap-2",children:[i.jsx("span",{className:"flex-shrink-0",children:""}),i.jsx("span",{children:"Inspect item before payment"})]}),i.jsxs("li",{className:"flex gap-2",children:[i.jsx("span",{className:"flex-shrink-0",children:""}),i.jsx("span",{children:"Use secure payment methods"})]}),i.jsxs("li",{className:"flex gap-2",children:[i.jsx("span",{className:"flex-shrink-0",children:""}),i.jsx("span",{children:"Trust your instincts"})]})]})]})]})]})}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-background border-t lg:hidden shadow-lg","data-testid":"card-mobile-actions",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(B,{variant:"outline",size:"icon",onClick:()=>j.mutate(),disabled:j.isPending,"data-testid":"button-mobile-save",children:i.jsx(Gc,{className:`h-5 w-5 ${s?"fill-current text-red-500":""}`})}),i.jsx(B,{variant:"outline",size:"icon",onClick:N,"data-testid":"button-mobile-share",children:i.jsx(nb,{className:"h-5 w-5"})}),y&&(x==null?void 0:x.listing.userId)!==y.id&&i.jsxs(B,{variant:"outline",className:"flex-1",size:"lg",onClick:()=>v(!0),"data-testid":"button-mobile-make-offer",children:[i.jsx(Ef,{className:"h-4 w-4 mr-2"}),"Make Offer"]}),i.jsxs(B,{className:"flex-1",size:"lg","data-testid":"button-mobile-message",children:[i.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Message"]})]})}),i.jsx("div",{className:"h-20 lg:hidden"}),y&&i.jsxs(i.Fragment,{children:[i.jsx(rH,{open:o,onOpenChange:l,listingId:e,reviewedUserId:P.id,reviewerRole:"buyer",currentUserId:y.id,queryKey:["/api/reviews/listing",e]}),i.jsx(iH,{open:c,onOpenChange:u,listingId:e,otherUserId:P.id,currentUserId:y.id,userRole:"buyer",queryKey:["/api/cancellations/listing",e]}),(w==null?void 0:w.canCancelTransaction)&&i.jsx(oH,{open:d,onOpenChange:f,listingId:e,userRole:w.userRole||"buyer",onSuccess:()=>{vt.invalidateQueries({queryKey:[`/api/transactions/${e}/details`]}),vt.invalidateQueries({queryKey:[`/api/listings/${e}`]})}}),(x==null?void 0:x.listing.userId)!==y.id&&i.jsx(Sq,{open:h,onOpenChange:v,listingId:e,sellerId:P.id,askingPrice:Number(_.price),listingTitle:_.title})]})]})}var sm="Tabs",[_q]=Yn(sm,[Ul]),YI=Ul(),[kq,Ay]=_q(sm),ZI=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Mu(l),[f,h]=Ps({prop:r,onChange:s,defaultProp:a??"",caller:sm});return i.jsx(kq,{scope:n,baseId:ss(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(Se.div,{dir:d,"data-orientation":o,...u,ref:t})})});ZI.displayName=sm;var XI="TabsList",JI=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=Ay(XI,n),o=YI(n);return i.jsx(Py,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:i.jsx(Se.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});JI.displayName=XI;var eM="TabsTrigger",tM=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,o=Ay(eM,n),l=YI(n),c=sM(o.baseId,r),u=iM(o.baseId,r),d=r===o.value;return i.jsx(Ey,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:re(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:re(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:re(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});tM.displayName=eM;var nM="TabsContent",rM=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=e,l=Ay(nM,n),c=sM(l.baseId,r),u=iM(l.baseId,r),d=r===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Er,{present:s||d,children:({present:h})=>i.jsx(Se.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});rM.displayName=nM;function sM(e,t){return`${e}-trigger-${t}`}function iM(e,t){return`${e}-content-${t}`}var Pq=ZI,aM=JI,oM=tM,lM=rM;const cM=Pq,uM=m.forwardRef(({className:e,...t},n)=>i.jsx(aM,{ref:n,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));uM.displayName=aM.displayName;const dc=m.forwardRef(({className:e,...t},n)=>i.jsx(oM,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));dc.displayName=oM.displayName;const Mi=m.forwardRef(({className:e,...t},n)=>i.jsx(lM,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Mi.displayName=lM.displayName;function Eq({user:e}){const{toast:t}=gn(),[n,r]=m.useState(e.firstName||""),[s,a]=m.useState(e.lastName||""),o=ur({mutationFn:async c=>ks("/api/users/profile","PUT",c),onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/auth/user"]}),t({title:"Success",description:"Profile updated successfully"})},onError:()=>{t({title:"Error",description:"Failed to update profile",variant:"destructive"})}}),l=c=>{c.preventDefault(),o.mutate({firstName:n,lastName:s})};return i.jsxs("form",{onSubmit:l,className:"space-y-4","data-testid":"form-settings",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"firstName",children:"First Name"}),i.jsx(xt,{id:"firstName",value:n,onChange:c=>r(c.target.value),placeholder:"Enter first name","data-testid":"input-first-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"lastName",children:"Last Name"}),i.jsx(xt,{id:"lastName",value:s,onChange:c=>a(c.target.value),placeholder:"Enter last name","data-testid":"input-last-name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{htmlFor:"email",children:"Email"}),i.jsx(xt,{id:"email",value:e.email||"",disabled:!0,className:"bg-muted","data-testid":"input-email"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),i.jsx(B,{type:"submit",disabled:o.isPending,"data-testid":"button-save-profile",children:o.isPending?"Saving...":"Save Changes"})]})}function Tq(){var W,H;const[,e]=Br(),{toast:t}=gn(),{getToken:n,isSignedIn:r,isLoaded:s}=ia(),[a,o]=m.useState("my-listings"),[l,c]=m.useState("active"),[u,d]=m.useState(""),[f,h]=m.useState("newest"),[v,y]=m.useState(!1);m.useEffect(()=>{const F=new URLSearchParams(window.location.search).get("tab");o(F==="favorites"||F==="settings"?F:"my-listings")},[]);const{data:x,isLoading:b,isSuccess:w,isError:g}=jt({queryKey:["/api/auth/user"],queryFn:async()=>{const S=await n();console.log(" Dashboard fetching user with token:",S?"present":"missing");const F=await fetch("/api/auth/user",{headers:{Authorization:`Bearer ${S}`}});if(!F.ok)throw console.error(" Dashboard user fetch failed:",F.status),new Error(`Failed to fetch user: ${F.status}`);const Q=await F.json();return console.log(" Dashboard user fetch successful:",Q==null?void 0:Q.id),Q},retry:!1,enabled:s&&r}),{data:p}=jt({queryKey:["/api/listings/stats"],enabled:!!x}),{data:j=[],isLoading:N}=jt({queryKey:["/api/user/listings"],queryFn:async()=>{const S=await n(),F=await fetch("/api/user/listings",{headers:{Authorization:`Bearer ${S}`}});if(!F.ok)throw new Error(`Failed to fetch listings: ${F.status}`);return F.json()},enabled:!!x}),{data:_=[],isLoading:P}=jt({queryKey:["/api/favorites"],enabled:!!x&&a==="favorites"}),C=ur({mutationFn:async S=>{const F=await n(),Q=await fetch(`/api/listings/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${F}`}});if(!Q.ok)throw new Error(`Failed to delete listing: ${Q.status}`);return Q},onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/user/listings"]}),vt.invalidateQueries({queryKey:["/api/listings/stats"]}),t({title:"Success",description:"Listing deleted successfully"})}}),L=ur({mutationFn:async S=>{const F=await n(),Q=await fetch(`/api/listings/${S}/status`,{method:"PUT",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({status:"sold"})});if(!Q.ok)throw new Error(`Failed to mark as sold: ${Q.status}`);return Q},onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/user/listings"]}),vt.invalidateQueries({queryKey:["/api/listings/stats"]}),t({title:"Success",description:"Listing marked as sold"})}});if(m.useEffect(()=>{s&&!r&&(console.log(" Dashboard: User not signed in, redirecting to home"),e("/"),t({title:"Authentication required",description:"Please log in to access your dashboard",variant:"destructive"}))},[s,r,e,t]),m.useEffect(()=>{(g||w&&!x)&&(console.log(" Dashboard: User fetch failed or user not found, redirecting to home"),e("/"),t({title:"Authentication required",description:"Please log in to access your dashboard",variant:"destructive"}))},[g,w,x,e,t]),!s||b)return i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})});if(!r||!w||!x)return null;const k=x,A=k.firstName&&k.lastName?`${k.firstName} ${k.lastName}`:k.email||"User",E=k.firstName&&k.lastName?`${k.firstName[0]}${k.lastName[0]}`:((H=(W=k.email)==null?void 0:W[0])==null?void 0:H.toUpperCase())||"U",M=k.createdAt?new Date(k.createdAt).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"N/A",T=j.filter(S=>!(l!=="all"&&S.status!==l||u&&!S.title.toLowerCase().includes(u.toLowerCase()))).sort((S,F)=>f==="newest"?new Date(F.createdAt||0).getTime()-new Date(S.createdAt||0).getTime():f==="oldest"?new Date(S.createdAt||0).getTime()-new Date(F.createdAt||0).getTime():f==="price-high"?parseFloat(F.price)-parseFloat(S.price):f==="price-low"?parseFloat(S.price)-parseFloat(F.price):0),q=()=>i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsxs(la,{className:"h-20 w-20 mb-3","data-testid":"avatar-user",children:[i.jsx(lo,{src:k.profileImageUrl||""}),i.jsx(ca,{className:"text-2xl",children:E})]}),i.jsx("h2",{className:"text-xl font-semibold","data-testid":"text-user-name",children:A}),i.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-member-since",children:["Member since ",M]}),i.jsx(xr,{href:"/dashboard?tab=settings",children:i.jsx(B,{variant:"ghost",size:"sm",className:"mt-2","data-testid":"link-edit-profile",children:"Edit Profile"})})]})}),i.jsx("nav",{className:"flex-1 p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs(B,{variant:a==="my-listings"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>{o("my-listings"),y(!1)},"data-testid":"button-nav-my-listings",children:[i.jsx(eb,{className:"mr-2 h-4 w-4"}),"My Listings"]}),i.jsxs(B,{variant:a==="favorites"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>{o("favorites"),y(!1)},"data-testid":"button-nav-favorites",children:[i.jsx(Gc,{className:"mr-2 h-4 w-4"}),"Favorites"]}),i.jsxs(B,{variant:a==="messages"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>{e("/messages")},"data-testid":"button-nav-messages",children:[i.jsx(Wi,{className:"mr-2 h-4 w-4"}),"Messages"]}),i.jsxs(B,{variant:a==="settings"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>{o("settings"),y(!1)},"data-testid":"button-nav-settings",children:[i.jsx(Mz,{className:"mr-2 h-4 w-4"}),"Settings"]})]})})]});return i.jsxs("div",{className:"flex h-screen bg-background",children:[v&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>y(!1),"data-testid":"overlay-sidebar"}),i.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 w-60 bg-card border-r z-50 transform transition-transform duration-200 lg:transform-none ${v?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,"data-testid":"sidebar-dashboard",children:[i.jsx(B,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 lg:hidden",onClick:()=>y(!1),"data-testid":"button-close-sidebar",children:i.jsx(Lr,{className:"h-5 w-5"})}),i.jsx(q,{})]}),i.jsxs("main",{className:"flex-1 overflow-auto",children:[i.jsxs("div",{className:"lg:hidden flex items-center justify-between p-4 border-b bg-card",children:[i.jsx(B,{variant:"ghost",size:"icon",onClick:()=>y(!0),"data-testid":"button-open-sidebar",children:i.jsx(Sz,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Dashboard"}),i.jsx("div",{className:"w-10"})]}),i.jsx("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:i.jsxs(cM,{value:a,onValueChange:o,className:"space-y-6",children:[i.jsxs(Mi,{value:"my-listings",className:"space-y-6 m-0",children:[i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs(te,{"data-testid":"card-stat-active",children:[i.jsx(Ke,{className:"pb-2",children:i.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Total Active"})}),i.jsx(je,{children:i.jsx("div",{className:"text-3xl font-bold text-green-600","data-testid":"text-stat-active",children:(p==null?void 0:p.totalActive)||0})})]}),i.jsxs(te,{"data-testid":"card-stat-views",children:[i.jsx(Ke,{className:"pb-2",children:i.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Total Views"})}),i.jsx(je,{children:i.jsx("div",{className:"text-3xl font-bold text-blue-600","data-testid":"text-stat-views",children:(p==null?void 0:p.totalViews)||0})})]}),i.jsxs(te,{"data-testid":"card-stat-messages",children:[i.jsx(Ke,{className:"pb-2",children:i.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Messages"})}),i.jsx(je,{children:i.jsx("div",{className:"text-3xl font-bold text-purple-600","data-testid":"text-stat-messages",children:(p==null?void 0:p.totalMessages)||0})})]}),i.jsxs(te,{"data-testid":"card-stat-sold",children:[i.jsx(Ke,{className:"pb-2",children:i.jsx(Je,{className:"text-sm font-medium text-muted-foreground",children:"Items Sold"})}),i.jsx(je,{children:i.jsx("div",{className:"text-3xl font-bold text-orange-600","data-testid":"text-stat-sold",children:(p==null?void 0:p.totalSold)||0})})]})]}),i.jsxs(te,{children:[i.jsxs(Ke,{className:"flex flex-row items-center justify-between gap-4 space-y-0 pb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(B,{variant:l==="active"?"default":"outline",size:"sm",onClick:()=>c("active"),"data-testid":"button-filter-active",children:"Active"}),i.jsx(B,{variant:l==="draft"?"default":"outline",size:"sm",onClick:()=>c("draft"),"data-testid":"button-filter-draft",children:"Drafts"}),i.jsx(B,{variant:l==="sold"?"default":"outline",size:"sm",onClick:()=>c("sold"),"data-testid":"button-filter-sold",children:"Sold"}),i.jsx(B,{variant:l==="expired"?"default":"outline",size:"sm",onClick:()=>c("expired"),"data-testid":"button-filter-expired",children:"Expired"})]}),i.jsx(xr,{href:"/post-ad",children:i.jsxs(B,{"data-testid":"button-create-listing",children:[i.jsx(_c,{className:"h-4 w-4 mr-2"}),"Create New Listing"]})})]}),i.jsxs(je,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Tf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(xt,{placeholder:"Search my listings...",value:u,onChange:S=>d(S.target.value),className:"pl-10","data-testid":"input-search-listings"})]}),i.jsxs(hn,{value:f,onValueChange:h,children:[i.jsx(on,{className:"w-full sm:w-48","data-testid":"select-sort",children:i.jsx(mn,{placeholder:"Sort by"})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"newest",children:"Newest"}),i.jsx(ne,{value:"oldest",children:"Oldest"}),i.jsx(ne,{value:"price-high",children:"Price: High to Low"}),i.jsx(ne,{value:"price-low",children:"Price: Low to High"})]})]})]}),N?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):T.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:i.jsx(eb,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No listings yet"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Post your first item to get started"}),i.jsx(xr,{href:"/post-ad",children:i.jsxs(B,{"data-testid":"button-post-first-item",children:[i.jsx(_c,{className:"h-4 w-4 mr-2"}),"Post Your First Item"]})})]}):i.jsx("div",{className:"space-y-4",children:T.map(S=>i.jsx(te,{className:"hover-elevate","data-testid":`card-my-listing-${S.id}`,children:i.jsx(je,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx(xr,{href:`/listings/${S.id}`,children:i.jsx("div",{className:"w-full sm:w-32 h-32 bg-muted rounded-md overflow-hidden flex-shrink-0",children:S.images&&S.images.length>0?i.jsx("img",{src:S.images[0],alt:S.title,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:"No image"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(xr,{href:`/listings/${S.id}`,children:i.jsx("h3",{className:"font-semibold text-lg mb-1 truncate hover:text-primary","data-testid":`text-listing-title-${S.id}`,children:S.title})}),i.jsxs("p",{className:"text-xl font-bold text-primary mb-2","data-testid":`text-listing-price-${S.id}`,children:["$",parseFloat(S.price).toFixed(2)]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[i.jsx(ct,{variant:"outline","data-testid":`badge-condition-${S.id}`,children:S.condition}),i.jsx(ct,{variant:S.status==="active"?"default":S.status==="sold"?"secondary":"outline","data-testid":`badge-status-${S.id}`,children:S.status})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:S.createdAt?new Date(S.createdAt).toLocaleDateString():""})]}),i.jsxs("div",{className:"flex sm:flex-col gap-2 justify-end",children:[i.jsx(xr,{href:`/post-ad?edit=${S.id}`,children:i.jsx(B,{variant:"outline",size:"sm","data-testid":`button-edit-${S.id}`,children:i.jsx(Ez,{className:"h-4 w-4"})})}),S.status==="active"&&i.jsx(B,{variant:"outline",size:"sm",onClick:()=>L.mutate(S.id),disabled:L.isPending,"data-testid":`button-mark-sold-${S.id}`,children:i.jsx(Lo,{className:"h-4 w-4"})}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this listing?")&&C.mutate(S.id)},disabled:C.isPending,"data-testid":`button-delete-${S.id}`,children:i.jsx(bP,{className:"h-4 w-4"})})]})]})})},S.id))})]})]})]}),i.jsx(Mi,{value:"favorites",className:"m-0",children:i.jsxs(te,{children:[i.jsx(Ke,{children:i.jsx(Je,{children:"Saved Listings"})}),i.jsx(je,{children:P?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):_.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:i.jsx(Gc,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No saved listings"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Browse listings and save your favorites"}),i.jsx(xr,{href:"/",children:i.jsx(B,{"data-testid":"button-browse-listings",children:"Browse Listings"})})]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(S=>{const F=S.createdAt?(()=>{const Q=new Date,J=new Date(S.createdAt),be=Q.getTime()-J.getTime(),He=Math.floor(be/6e4),De=Math.floor(He/60),yt=Math.floor(De/24);return He<60?`${He}m ago`:De<24?`${De}h ago`:`${yt}d ago`})():"N/A";return i.jsx(iy,{id:S.id,title:S.title,price:parseFloat(S.price),location:S.location,timePosted:F,image:S.images&&S.images.length>0?S.images[0]:void 0},S.id)})})})]})}),i.jsxs(Mi,{value:"settings",className:"m-0 space-y-6",children:[i.jsxs(te,{children:[i.jsx(Ke,{children:i.jsx(Je,{children:"Profile Settings"})}),i.jsx(je,{children:i.jsx(Eq,{user:k})})]}),i.jsxs(te,{children:[i.jsx(Ke,{children:i.jsx(Je,{children:"Notification Preferences"})}),i.jsx(je,{children:i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage your notification settings (coming soon)"})})]})]})]})})]}),i.jsx(xr,{href:"/post-ad",children:i.jsx(B,{size:"icon",className:"lg:hidden fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg z-30","data-testid":"button-fab-create",children:i.jsx(_c,{className:"h-6 w-6"})})})]})}var Rq="Separator",cj="horizontal",Aq=["horizontal","vertical"],dM=m.forwardRef((e,t)=>{const{decorative:n,orientation:r=cj,...s}=e,a=Iq(r)?r:cj,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(Se.div,{"data-orientation":a,...l,...s,ref:t})});dM.displayName=Rq;function Iq(e){return Aq.includes(e)}var fM=dM;const Ys=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>i.jsx(fM,{ref:s,decorative:n,orientation:t,className:de("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Ys.displayName=fM.displayName;var Nx=["Enter"," "],Mq=["ArrowDown","PageUp","Home"],hM=["ArrowUp","PageDown","End"],Oq=[...Mq,...hM],Dq={ltr:[...Nx,"ArrowRight"],rtl:[...Nx,"ArrowLeft"]},Fq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Uu="Menu",[mu,Lq,$q]=Eh(Uu),[co,mM]=Yn(Uu,[$q,Ll,Ul]),im=Ll(),pM=Ul(),[zq,uo]=co(Uu),[Uq,Vu]=co(Uu),gM=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:o=!0}=e,l=im(t),[c,u]=m.useState(null),d=m.useRef(!1),f=qn(a),h=Mu(s);return m.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),i.jsx(Yv,{...l,children:i.jsx(zq,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(Uq,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};gM.displayName=Uu;var Vq="MenuAnchor",Iy=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=im(n);return i.jsx(Zv,{...s,...r,ref:t})});Iy.displayName=Vq;var My="MenuPortal",[Bq,xM]=co(My,{forceMount:void 0}),vM=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=uo(My,t);return i.jsx(Bq,{scope:t,forceMount:n,children:i.jsx(Er,{present:n||a.open,children:i.jsx(Ru,{asChild:!0,container:s,children:r})})})};vM.displayName=My;var zr="MenuContent",[Wq,Oy]=co(zr),yM=m.forwardRef((e,t)=>{const n=xM(zr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=uo(zr,e.__scopeMenu),o=Vu(zr,e.__scopeMenu);return i.jsx(mu.Provider,{scope:e.__scopeMenu,children:i.jsx(Er,{present:r||a.open,children:i.jsx(mu.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(Hq,{...s,ref:t}):i.jsx(qq,{...s,ref:t})})})})}),Hq=m.forwardRef((e,t)=>{const n=uo(zr,e.__scopeMenu),r=m.useRef(null),s=Ze(t,r);return m.useEffect(()=>{const a=r.current;if(a)return ry(a)},[]),i.jsx(Dy,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:re(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),qq=m.forwardRef((e,t)=>{const n=uo(zr,e.__scopeMenu);return i.jsx(Dy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Kq=Ka("MenuContent.ScrollLock"),Dy=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:v,disableOutsideScroll:y,...x}=e,b=uo(zr,n),w=Vu(zr,n),g=im(n),p=pM(n),j=Lq(n),[N,_]=m.useState(null),P=m.useRef(null),C=Ze(t,P,b.onContentChange),L=m.useRef(0),k=m.useRef(""),A=m.useRef(0),E=m.useRef(null),M=m.useRef("right"),T=m.useRef(0),q=y?Vh:m.Fragment,W=y?{as:Kq,allowPinchZoom:!0}:void 0,H=F=>{var ve,Ge;const Q=k.current+F,J=j().filter(et=>!et.disabled),be=document.activeElement,He=(ve=J.find(et=>et.ref.current===be))==null?void 0:ve.textValue,De=J.map(et=>et.textValue),yt=iK(De,Q,He),st=(Ge=J.find(et=>et.textValue===yt))==null?void 0:Ge.ref.current;(function et(Te){k.current=Te,window.clearTimeout(L.current),Te!==""&&(L.current=window.setTimeout(()=>et(""),1e3))})(Q),st&&setTimeout(()=>st.focus())};m.useEffect(()=>()=>window.clearTimeout(L.current),[]),ty();const S=m.useCallback(F=>{var J,be;return M.current===((J=E.current)==null?void 0:J.side)&&oK(F,(be=E.current)==null?void 0:be.area)},[]);return i.jsx(Wq,{scope:n,searchRef:k,onItemEnter:m.useCallback(F=>{S(F)&&F.preventDefault()},[S]),onItemLeave:m.useCallback(F=>{var Q;S(F)||((Q=P.current)==null||Q.focus(),_(null))},[S]),onTriggerLeave:m.useCallback(F=>{S(F)&&F.preventDefault()},[S]),pointerGraceTimerRef:A,onPointerGraceIntentChange:m.useCallback(F=>{E.current=F},[]),children:i.jsx(q,{...W,children:i.jsx(zh,{asChild:!0,trapped:s,onMountAutoFocus:re(a,F=>{var Q;F.preventDefault(),(Q=P.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Il,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:v,children:i.jsx(Py,{asChild:!0,...p,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:re(c,F=>{w.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Xv,{role:"menu","aria-orientation":"vertical","data-state":OM(b.open),"data-radix-menu-content":"",dir:w.dir,...g,...x,ref:C,style:{outline:"none",...x.style},onKeyDown:re(x.onKeyDown,F=>{const J=F.target.closest("[data-radix-menu-content]")===F.currentTarget,be=F.ctrlKey||F.altKey||F.metaKey,He=F.key.length===1;J&&(F.key==="Tab"&&F.preventDefault(),!be&&He&&H(F.key));const De=P.current;if(F.target!==De||!Oq.includes(F.key))return;F.preventDefault();const st=j().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);hM.includes(F.key)&&st.reverse(),rK(st)}),onBlur:re(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(L.current),k.current="")}),onPointerMove:re(e.onPointerMove,pu(F=>{const Q=F.target,J=T.current!==F.clientX;if(F.currentTarget.contains(Q)&&J){const be=F.clientX>T.current?"right":"left";M.current=be,T.current=F.clientX}}))})})})})})})});yM.displayName=zr;var Qq="MenuGroup",Fy=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Se.div,{role:"group",...r,ref:t})});Fy.displayName=Qq;var Gq="MenuLabel",wM=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Se.div,{...r,ref:t})});wM.displayName=Gq;var eh="MenuItem",uj="menu.itemSelect",am=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=m.useRef(null),o=Vu(eh,e.__scopeMenu),l=Oy(eh,e.__scopeMenu),c=Ze(t,a),u=m.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(uj,{bubbles:!0,cancelable:!0});f.addEventListener(uj,v=>r==null?void 0:r(v),{once:!0}),Mv(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(bM,{...s,ref:c,disabled:n,onClick:re(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:re(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:re(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||Nx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});am.displayName=eh;var bM=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,o=Oy(eh,n),l=pM(n),c=m.useRef(null),u=Ze(t,c),[d,f]=m.useState(!1),[h,v]=m.useState("");return m.useEffect(()=>{const y=c.current;y&&v((y.textContent??"").trim())},[a.children]),i.jsx(mu.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:i.jsx(Ey,{asChild:!0,...l,focusable:!r,children:i.jsx(Se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:re(e.onPointerMove,pu(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(e.onPointerLeave,pu(y=>o.onItemLeave(y))),onFocus:re(e.onFocus,()=>f(!0)),onBlur:re(e.onBlur,()=>f(!1))})})})}),Yq="MenuCheckboxItem",jM=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return i.jsx(kM,{scope:e.__scopeMenu,checked:n,children:i.jsx(am,{role:"menuitemcheckbox","aria-checked":th(n)?"mixed":n,...s,ref:t,"data-state":$y(n),onSelect:re(s.onSelect,()=>r==null?void 0:r(th(n)?!0:!n),{checkForDefaultPrevented:!1})})})});jM.displayName=Yq;var NM="MenuRadioGroup",[Zq,Xq]=co(NM,{value:void 0,onValueChange:()=>{}}),SM=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=qn(r);return i.jsx(Zq,{scope:e.__scopeMenu,value:n,onValueChange:a,children:i.jsx(Fy,{...s,ref:t})})});SM.displayName=NM;var CM="MenuRadioItem",_M=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=Xq(CM,e.__scopeMenu),a=n===s.value;return i.jsx(kM,{scope:e.__scopeMenu,checked:a,children:i.jsx(am,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":$y(a),onSelect:re(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});_M.displayName=CM;var Ly="MenuItemIndicator",[kM,Jq]=co(Ly,{checked:!1}),PM=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=Jq(Ly,n);return i.jsx(Er,{present:r||th(a.checked)||a.checked===!0,children:i.jsx(Se.span,{...s,ref:t,"data-state":$y(a.checked)})})});PM.displayName=Ly;var eK="MenuSeparator",EM=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});EM.displayName=eK;var tK="MenuArrow",TM=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=im(n);return i.jsx(Jv,{...s,...r,ref:t})});TM.displayName=tK;var nK="MenuSub",[bQ,RM]=co(nK),fc="MenuSubTrigger",AM=m.forwardRef((e,t)=>{const n=uo(fc,e.__scopeMenu),r=Vu(fc,e.__scopeMenu),s=RM(fc,e.__scopeMenu),a=Oy(fc,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(Iy,{asChild:!0,...u,children:i.jsx(bM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":OM(n.open),...e,ref:Ph(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:re(e.onPointerMove,pu(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:re(e.onPointerLeave,pu(f=>{var v,y;d();const h=(v=n.content)==null?void 0:v.getBoundingClientRect();if(h){const x=(y=n.content)==null?void 0:y.dataset.side,b=x==="right",w=b?-5:5,g=h[b?"left":"right"],p=h[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:g,y:h.top},{x:p,y:h.top},{x:p,y:h.bottom},{x:g,y:h.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:re(e.onKeyDown,f=>{var v;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||Dq[r.dir].includes(f.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),f.preventDefault())})})})});AM.displayName=fc;var IM="MenuSubContent",MM=m.forwardRef((e,t)=>{const n=xM(zr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=uo(zr,e.__scopeMenu),o=Vu(zr,e.__scopeMenu),l=RM(IM,e.__scopeMenu),c=m.useRef(null),u=Ze(t,c);return i.jsx(mu.Provider,{scope:e.__scopeMenu,children:i.jsx(Er,{present:r||a.open,children:i.jsx(mu.Slot,{scope:e.__scopeMenu,children:i.jsx(Dy,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:re(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:re(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:re(e.onKeyDown,d=>{var v;const f=d.currentTarget.contains(d.target),h=Fq[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(v=l.trigger)==null||v.focus(),d.preventDefault())})})})})})});MM.displayName=IM;function OM(e){return e?"open":"closed"}function th(e){return e==="indeterminate"}function $y(e){return th(e)?"indeterminate":e?"checked":"unchecked"}function rK(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function sK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function iK(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=sK(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function aK(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function oK(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return aK(n,t)}function pu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var lK=gM,cK=Iy,uK=vM,dK=yM,fK=Fy,hK=wM,mK=am,pK=jM,gK=SM,xK=_M,vK=PM,yK=EM,wK=TM,bK=AM,jK=MM,om="DropdownMenu",[NK]=Yn(om,[mM]),Zn=mM(),[SK,DM]=NK(om),FM=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Zn(t),u=m.useRef(null),[d,f]=Ps({prop:s,defaultProp:a??!1,onChange:o,caller:om});return i.jsx(SK,{scope:t,triggerId:ss(),triggerRef:u,contentId:ss(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(lK,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};FM.displayName=om;var LM="DropdownMenuTrigger",$M=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=DM(LM,n),o=Zn(n);return i.jsx(cK,{asChild:!0,...o,children:i.jsx(Se.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ph(t,a.triggerRef),onPointerDown:re(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:re(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});$M.displayName=LM;var CK="DropdownMenuPortal",zM=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Zn(t);return i.jsx(uK,{...r,...n})};zM.displayName=CK;var UM="DropdownMenuContent",VM=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=DM(UM,n),a=Zn(n),o=m.useRef(!1);return i.jsx(dK,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:re(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:re(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VM.displayName=UM;var _K="DropdownMenuGroup",kK=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Zn(n);return i.jsx(fK,{...s,...r,ref:t})});kK.displayName=_K;var PK="DropdownMenuLabel",BM=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Zn(n);return i.jsx(hK,{...s,...r,ref:t})});BM.displayName=PK;var EK="DropdownMenuItem",WM=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Zn(n);return i.jsx(mK,{...s,...r,ref:t})});WM.displayName=EK;var TK="DropdownMenuCheckboxItem",HM=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Zn(n);return i.jsx(pK,{...s,...r,ref:t})});HM.displayName=TK;var RK="DropdownMenuRadioGroup",AK=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Zn(n);return i.jsx(gK,{...s,...r,ref:t})});AK.displayName=RK;var IK="DropdownMenuRadioItem",qM=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Zn(n);return i.jsx(xK,{...s,...r,ref:t})});qM.displayName=IK;var MK="DropdownMenuItemIndicator",KM=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Zn(n);return i.jsx(vK,{...s,...r,ref:t})});KM.displayName=MK;var OK="DropdownMenuSeparator",QM=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Zn(n);return i.jsx(yK,{...s,...r,ref:t})});QM.displayName=OK;var DK="DropdownMenuArrow",FK=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Zn(n);return i.jsx(wK,{...s,...r,ref:t})});FK.displayName=DK;var LK="DropdownMenuSubTrigger",GM=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Zn(n);return i.jsx(bK,{...s,...r,ref:t})});GM.displayName=LK;var $K="DropdownMenuSubContent",YM=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Zn(n);return i.jsx(jK,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YM.displayName=$K;var zK=FM,UK=$M,VK=zM,ZM=VM,XM=BM,JM=WM,eO=HM,tO=qM,nO=KM,rO=QM,sO=GM,iO=YM;const BK=zK,WK=UK,HK=m.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsxs(sO,{ref:s,className:de("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,i.jsx(Pf,{className:"ml-auto"})]}));HK.displayName=sO.displayName;const qK=m.forwardRef(({className:e,...t},n)=>i.jsx(iO,{ref:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));qK.displayName=iO.displayName;const aO=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(VK,{children:i.jsx(ZM,{ref:r,sideOffset:t,className:de("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));aO.displayName=ZM.displayName;const Yd=m.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(JM,{ref:r,className:de("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));Yd.displayName=JM.displayName;const KK=m.forwardRef(({className:e,children:t,checked:n,...r},s)=>i.jsxs(eO,{ref:s,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(nO,{children:i.jsx(Ko,{className:"h-4 w-4"})})}),t]}));KK.displayName=eO.displayName;const QK=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(tO,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(nO,{children:i.jsx(xP,{className:"h-2 w-2 fill-current"})})}),t]}));QK.displayName=tO.displayName;const GK=m.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(XM,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));GK.displayName=XM.displayName;const YK=m.forwardRef(({className:e,...t},n)=>i.jsx(rO,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));YK.displayName=rO.displayName;function ZK({review:e,currentUserId:t,showReviewer:n=!0,onRespond:r,queryKey:s=["/api/reviews"]}){var b;const{toast:a}=gn(),[o,l]=m.useState(null),[c,u]=m.useState(e.isFlagged),d=ur({mutationFn:async w=>await ks(`/api/reviews/${e.id}/vote`,"POST",{voteType:w}),onMutate:async w=>{await vt.cancelQueries({queryKey:s});const g=vt.getQueryData(s);return vt.setQueryData(s,p=>Array.isArray(p)?p.map(j=>{if(j.id===e.id){const N=w==="helpful"&&o!=="helpful"?1:o==="helpful"?-1:0,_=w==="not_helpful"&&o!=="not_helpful"?1:o==="not_helpful"?-1:0;return{...j,helpfulCount:(j.helpfulCount||0)+N,notHelpfulCount:(j.notHelpfulCount||0)+_}}return j}):p),{previousData:g}},onSuccess:(w,g)=>{l(g),a({title:"Vote recorded",description:"Thank you for your feedback!"})},onError:(w,g,p)=>{p!=null&&p.previousData&&vt.setQueryData(s,p.previousData),a({title:"Error",description:"Failed to record vote. Please try again.",variant:"destructive"})},onSettled:()=>{vt.invalidateQueries({queryKey:s})}}),f=ur({mutationFn:async w=>await ks(`/api/reviews/${e.id}/flag`,"PUT",{reason:w}),onSuccess:()=>{u(!0),a({title:"Review flagged",description:"Thank you for reporting. We'll review this content."})},onError:()=>{a({title:"Error",description:"Failed to flag review. Please try again.",variant:"destructive"})}}),h=w=>{if(!t){a({title:"Sign in required",description:"Please sign in to vote on reviews.",variant:"destructive"});return}d.isPending||d.mutate(w)},v=w=>{if(!t){a({title:"Sign in required",description:"Please sign in to flag reviews.",variant:"destructive"});return}if(c){a({title:"Already flagged",description:"You have already flagged this review."});return}f.mutate(w)},y=t&&e.reviewedUserId===t&&!e.sellerResponse,x=e.sellerResponse&&e.sellerResponseAt&&t===e.reviewedUserId&&(Date.now()-new Date(e.sellerResponseAt).getTime())/(1e3*60*60)<24;return i.jsx(te,{className:"overflow-hidden","data-testid":`card-review-${e.id}`,children:i.jsxs(je,{className:"pt-6 space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-start gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex",role:"img","aria-label":`${e.overallRating} out of 5 stars`,children:[1,2,3,4,5].map(w=>i.jsx(Vt,{className:`h-4 w-4 ${w<=e.overallRating?"fill-primary text-primary":"fill-muted text-muted"}`,"data-testid":`star-${w}-${e.id}`},w))}),i.jsxs("span",{className:"text-sm font-medium","data-testid":`text-rating-${e.id}`,children:[e.overallRating,".0"]})]}),n&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(la,{className:"h-6 w-6",children:[i.jsx(lo,{src:e.reviewerProfileImage||void 0}),i.jsx(ca,{className:"text-xs",children:((b=e.reviewerName)==null?void 0:b.charAt(0))||"?"})]}),i.jsx("span",{className:"text-sm font-medium","data-testid":`text-reviewer-${e.id}`,children:e.reviewerName||"Anonymous"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:""}),i.jsx("span",{className:"text-sm text-muted-foreground","data-testid":`text-date-${e.id}`,children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[e.verifiedTransaction&&i.jsxs(pV,{children:[i.jsx(gV,{asChild:!0,children:i.jsxs(ct,{variant:"secondary",className:"gap-1","data-testid":`badge-verified-${e.id}`,children:[i.jsx(wt,{className:"h-3 w-3"}),"Verified"]})}),i.jsx(lE,{children:i.jsx("p",{children:"This review is from a verified transaction"})})]}),i.jsxs(BK,{children:[i.jsx(WK,{asChild:!0,children:i.jsx(B,{variant:"ghost",size:"icon","data-testid":`button-menu-${e.id}`,"aria-label":"Review options",children:i.jsx(vz,{className:"h-4 w-4"})})}),i.jsxs(aO,{align:"end",children:[i.jsxs(Yd,{onClick:()=>v("Inappropriate content"),"data-testid":`button-flag-inappropriate-${e.id}`,disabled:c||f.isPending,children:[f.isPending?i.jsx(at,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(lp,{className:"h-4 w-4 mr-2"}),"Flag as inappropriate"]}),i.jsxs(Yd,{onClick:()=>v("Spam"),disabled:c||f.isPending,"data-testid":`button-flag-spam-${e.id}`,children:[i.jsx(lp,{className:"h-4 w-4 mr-2"}),"Flag as spam"]}),i.jsxs(Yd,{onClick:()=>v("False information"),disabled:c||f.isPending,children:[i.jsx(lp,{className:"h-4 w-4 mr-2"}),"Flag as false information"]})]})]})]})]}),e.reviewTitle&&i.jsx("h3",{className:"font-semibold","data-testid":`text-review-title-${e.id}`,children:e.reviewTitle}),e.reviewText&&i.jsx("p",{className:"text-sm leading-relaxed","data-testid":`text-review-${e.id}`,children:e.reviewText}),e.reviewPhotos&&e.reviewPhotos.length>0&&i.jsx("div",{className:"flex gap-2 flex-wrap",children:e.reviewPhotos.map((w,g)=>i.jsx("button",{className:"relative w-20 h-20 rounded-md overflow-hidden bg-muted hover-elevate","data-testid":`image-review-${e.id}-${g}`,"aria-label":`Review photo ${g+1}`,children:i.jsx("img",{src:w,alt:`Review photo ${g+1}`,className:"w-full h-full object-cover"})},g))}),(e.communicationRating||e.asDescribedRating||e.punctualityRating||e.professionalismRating)&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 py-2",children:[e.communicationRating&&i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Communication"}),i.jsx("div",{className:"flex justify-center mt-1",role:"img","aria-label":`Communication: ${e.communicationRating} stars`,children:[1,2,3,4,5].map(w=>i.jsx(Vt,{className:`h-3 w-3 ${w<=e.communicationRating?"fill-primary text-primary":"fill-muted text-muted"}`},w))})]}),e.asDescribedRating&&i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"As Described"}),i.jsx("div",{className:"flex justify-center mt-1",role:"img","aria-label":`As described: ${e.asDescribedRating} stars`,children:[1,2,3,4,5].map(w=>i.jsx(Vt,{className:`h-3 w-3 ${w<=e.asDescribedRating?"fill-primary text-primary":"fill-muted text-muted"}`},w))})]}),e.punctualityRating&&i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Punctuality"}),i.jsx("div",{className:"flex justify-center mt-1",role:"img","aria-label":`Punctuality: ${e.punctualityRating} stars`,children:[1,2,3,4,5].map(w=>i.jsx(Vt,{className:`h-3 w-3 ${w<=e.punctualityRating?"fill-primary text-primary":"fill-muted text-muted"}`},w))})]}),e.professionalismRating&&i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Professionalism"}),i.jsx("div",{className:"flex justify-center mt-1",role:"img","aria-label":`Professionalism: ${e.professionalismRating} stars`,children:[1,2,3,4,5].map(w=>i.jsx(Vt,{className:`h-3 w-3 ${w<=e.professionalismRating?"fill-primary text-primary":"fill-muted text-muted"}`},w))})]})]}),e.sellerResponse&&i.jsxs(i.Fragment,{children:[i.jsx(Ys,{}),i.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium",children:" Response"}),e.sellerResponseAt&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:[" Replied ",new Date(e.sellerResponseAt).toLocaleDateString(),e.sellerResponseEditedAt&&" (edited)"]})]}),x&&r&&i.jsx(B,{variant:"ghost",size:"sm",onClick:()=>r(e.id),"data-testid":`button-edit-response-${e.id}`,className:"text-xs h-7",children:"Edit"})]}),i.jsx("p",{className:"text-sm","data-testid":`text-response-${e.id}`,children:e.sellerResponse})]})]}),i.jsx(Ys,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>h("helpful"),disabled:d.isPending||!t,className:o==="helpful"?"text-primary":"","data-testid":`button-helpful-${e.id}`,"aria-label":"Mark review as helpful",children:[d.isPending&&o==="helpful"?i.jsx(at,{className:"h-4 w-4 mr-1 animate-spin"}):i.jsx(Bz,{className:"h-4 w-4 mr-1"}),"Helpful (",e.helpfulCount||0,")"]}),i.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>h("not_helpful"),disabled:d.isPending||!t,className:o==="not_helpful"?"text-primary":"","data-testid":`button-not-helpful-${e.id}`,"aria-label":"Mark review as not helpful",children:[d.isPending&&o==="not_helpful"?i.jsx(at,{className:"h-4 w-4 mr-1 animate-spin"}):i.jsx(Vz,{className:"h-4 w-4 mr-1"}),"(",e.notHelpfulCount||0,")"]})]}),y&&r&&i.jsx(B,{variant:"outline",size:"sm",onClick:()=>r(e.id),"data-testid":`button-respond-${e.id}`,children:"Respond"})]})]})})}function XK({userId:e}){const{data:t,isLoading:n}=jt({queryKey:["/api/statistics/user",e]}),{data:r}=jt({queryKey:["/api/statistics/user",e,"monthly"],queryFn:()=>fetch(`/api/statistics/user/${e}/monthly?months=3`).then(h=>h.json())});if(n)return i.jsx("div",{className:"space-y-4",children:i.jsx(te,{children:i.jsx(je,{className:"py-8",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-8 bg-muted rounded"}),i.jsx("div",{className:"h-24 bg-muted rounded"})]})})})});if(!t)return i.jsx(te,{children:i.jsx(je,{className:"py-8 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No statistics available"})})});const s=(t.totalSales||0)+(t.totalPurchases||0),a=parseFloat(t.overallSuccessRate||"0"),o=parseFloat(t.sellerSuccessRate||"0"),l=parseFloat(t.buyerSuccessRate||"0"),c=parseFloat(t.averageRating||"0"),u=t.avgResponseTimeMinutes||0,d=h=>h>=80?"text-green-600 dark:text-green-400":h>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",f=h=>{if(h<60)return`${h} min`;const v=Math.floor(h/60),y=h%60;return y>0?`${v}h ${y}m`:`${v}h`};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(te,{"data-testid":"card-overall-summary",children:[i.jsxs(Ke,{children:[i.jsxs(Je,{className:"flex items-center gap-2",children:[i.jsx($v,{className:"h-5 w-5"}),"Overall Summary"]}),i.jsx(Ut,{children:"Your performance at a glance"})]}),i.jsx(je,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transactions"}),i.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-transactions",children:s})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Success Rate"}),i.jsxs("p",{className:`text-2xl font-bold ${d(a)}`,"data-testid":"text-success-rate",children:[a.toFixed(0),"%"]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Rating"}),i.jsxs("p",{className:"text-2xl font-bold flex items-center gap-1","data-testid":"text-overall-rating",children:[c>0?c.toFixed(1):"N/A",c>0&&i.jsx(Vt,{className:"h-4 w-4 fill-primary text-primary"})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Time"}),i.jsx("p",{className:"text-2xl font-bold","data-testid":"text-response-time",children:u>0?f(u):"N/A"})]})]})})]}),i.jsxs(te,{"data-testid":"card-buyer-stats",children:[i.jsxs(Ke,{children:[i.jsxs(Je,{className:"flex items-center gap-2",children:[" As Buyer (",t.totalPurchases||0," Transactions)"]}),i.jsx(Ut,{children:"Your performance as a buyer"})]}),i.jsx(je,{className:"space-y-4",children:t.totalPurchases>0?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Purchases"}),i.jsx("p",{className:"text-lg font-bold","data-testid":"text-total-purchases",children:t.totalPurchases})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Successfully"}),i.jsxs("p",{className:"text-lg font-bold text-green-600 dark:text-green-400","data-testid":"text-successful-purchases",children:[t.successfulPurchases," (",(t.successfulPurchases/t.totalPurchases*100).toFixed(0),"%)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled by Buyer"}),i.jsxs("p",{className:"text-lg font-bold","data-testid":"text-cancelled-by-buyer",children:[t.cancelledByBuyer," (",(t.cancelledByBuyer/t.totalPurchases*100).toFixed(0),"%)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled by Seller"}),i.jsxs("p",{className:"text-lg font-bold","data-testid":"text-cancelled-by-seller-on-buyer",children:[t.cancelledBySellerOnBuyer," (",(t.cancelledBySellerOnBuyer/t.totalPurchases*100).toFixed(0),"%)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buyer No-Shows"}),i.jsxs("p",{className:"text-lg font-bold text-red-600 dark:text-red-400","data-testid":"text-buyer-no-shows",children:[t.buyerNoShows," (",(t.buyerNoShows/t.totalPurchases*100).toFixed(0),"%)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Seller No-Shows"}),i.jsxs("p",{className:"text-lg font-bold","data-testid":"text-seller-no-shows-on-buyer",children:[t.sellerNoShowsOnBuyer," (",(t.sellerNoShowsOnBuyer/t.totalPurchases*100).toFixed(0),"%)"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-medium",children:"Success Rate"}),i.jsxs("p",{className:`text-sm font-bold ${d(l)}`,"data-testid":"text-buyer-success-rate",children:[l.toFixed(0),"%"]})]}),i.jsx(no,{value:l,className:"h-2","data-testid":"progress-buyer-success"})]})]}):i.jsx("div",{className:"text-center py-8 text-muted-foreground","data-testid":"empty-buyer-stats",children:i.jsx("p",{children:"No buyer transactions yet. Start purchasing to build your buyer statistics."})})})]}),i.jsxs(te,{"data-testid":"card-seller-stats",children:[i.jsxs(Ke,{children:[i.jsxs(Je,{className:"flex items-center gap-2",children:[" As Seller (",t.totalSales||0," Transactions)"]}),i.jsx(Ut,{children:"Your performance as a seller"})]}),i.jsx(je,{className:"space-y-4",children:t.totalSales>0?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Sales"}),i.jsx("p",{className:"text-lg font-bold","data-testid":"text-total-sales",children:t.totalSales})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Successfully"}),i.jsxs("p",{className:"text-lg font-bold text-green-600 dark:text-green-400","data-testid":"text-successful-sales",children:[t.successfulSales," (",(t.successfulSales/t.totalSales*100).toFixed(0),"%)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled by Seller"}),i.jsxs("p",{className:"text-lg font-bold","data-testid":"text-cancelled-by-seller",children:[t.cancelledBySeller," (",(t.cancelledBySeller/t.totalSales*100).toFixed(0),"%)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled by Buyer"}),i.jsxs("p",{className:"text-lg font-bold","data-testid":"text-cancelled-by-buyer-on-seller",children:[t.cancelledByBuyerOnSeller," (",(t.cancelledByBuyerOnSeller/t.totalSales*100).toFixed(0),"%)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Seller No-Shows"}),i.jsxs("p",{className:"text-lg font-bold text-red-600 dark:text-red-400","data-testid":"text-seller-no-shows",children:[t.sellerNoShows," (",(t.sellerNoShows/t.totalSales*100).toFixed(0),"%)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buyer No-Shows"}),i.jsxs("p",{className:"text-lg font-bold","data-testid":"text-buyer-no-shows-on-seller",children:[t.buyerNoShowsOnSeller," (",(t.buyerNoShowsOnSeller/t.totalSales*100).toFixed(0),"%)"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-medium",children:"Success Rate"}),i.jsxs("p",{className:`text-sm font-bold ${d(o)}`,"data-testid":"text-seller-success-rate",children:[o.toFixed(0),"%"]})]}),i.jsx(no,{value:o,className:"h-2","data-testid":"progress-seller-success"})]})]}):i.jsx("div",{className:"text-center py-8 text-muted-foreground","data-testid":"empty-seller-stats",children:i.jsx("p",{children:"No seller transactions yet. Start selling to build your seller statistics."})})})]}),i.jsxs(te,{"data-testid":"card-recent-activity",children:[i.jsxs(Ke,{children:[i.jsx(Je,{className:"flex items-center gap-2",children:" Recent Activity (Last 90 Days)"}),i.jsx(Ut,{children:"Your activity over the past 3 months"})]}),i.jsxs(je,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Transactions"}),i.jsx("p",{className:"text-lg font-bold","data-testid":"text-recent-transactions",children:t.recentTransactions90d||0})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"}),i.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400","data-testid":"text-recent-completed",children:(t.recentTransactions90d||0)-(t.recentCancellations90d||0)-(t.recentNoShows90d||0)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled"}),i.jsx("p",{className:"text-lg font-bold","data-testid":"text-recent-cancelled",children:t.recentCancellations90d||0})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Shows"}),i.jsx("p",{className:"text-lg font-bold text-red-600 dark:text-red-400","data-testid":"text-recent-no-shows",children:t.recentNoShows90d||0})]})]}),r&&r.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(Ys,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Monthly Breakdown"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left py-2",children:"Month"}),i.jsx("th",{className:"text-center py-2",children:"Total"}),i.jsx("th",{className:"text-center py-2",children:"Completed"}),i.jsx("th",{className:"text-center py-2",children:"Cancelled"}),i.jsx("th",{className:"text-center py-2",children:"No-Shows"})]})}),i.jsx("tbody",{children:r.map(h=>{const v=new Date(h.month+"-01").toLocaleDateString("en-US",{month:"long",year:"numeric"});return i.jsxs("tr",{className:"border-b","data-testid":`row-month-${h.month}`,children:[i.jsx("td",{className:"py-2","data-testid":`text-month-name-${h.month}`,children:v}),i.jsx("td",{className:"text-center","data-testid":`text-month-total-${h.month}`,children:h.total}),i.jsx("td",{className:"text-center","data-testid":`text-month-completed-${h.month}`,children:h.completed}),i.jsx("td",{className:"text-center","data-testid":`text-month-cancelled-${h.month}`,children:h.cancelled}),i.jsx("td",{className:"text-center","data-testid":`text-month-no-shows-${h.month}`,children:h.noShows})]},h.month)})})]})})]})]}),(t.recentCancellations90d>2||t.recentNoShows90d>0||l<70)&&i.jsxs(i.Fragment,{children:[i.jsx(Ys,{}),i.jsxs("div",{className:"space-y-2","data-testid":"platform-warnings",children:[t.recentCancellations90d>2&&i.jsxs("div",{className:"flex items-start gap-2 text-yellow-600 dark:text-yellow-400",children:[i.jsx(Qa,{className:"h-4 w-4 mt-0.5"}),i.jsxs("p",{className:"text-sm","data-testid":"warning-cancellations",children:["This user has ",t.recentCancellations90d," cancellations in the last 90 days, which is above the platform average of 0.5/90 days."]})]}),t.recentNoShows90d>0&&i.jsxs("div",{className:"flex items-start gap-2 text-red-600 dark:text-red-400",children:[i.jsx(Wn,{className:"h-4 w-4 mt-0.5"}),i.jsxs("p",{className:"text-sm","data-testid":"warning-no-shows",children:["This user has ",t.recentNoShows90d," no-show",t.recentNoShows90d>1?"s":""," in the last 90 days."]})]}),l<70&&t.totalPurchases>0&&i.jsxs("div",{className:"flex items-start gap-2 text-yellow-600 dark:text-yellow-400",children:[i.jsx(Qa,{className:"h-4 w-4 mt-0.5"}),i.jsxs("p",{className:"text-sm","data-testid":"warning-buyer-success",children:["This buyer has a success rate of ",l.toFixed(0),"%, which is below the platform average of 90%."]})]})]})]})]})]}),(t.totalMessagesReceived>0||t.totalCheckins>0)&&i.jsxs(te,{"data-testid":"card-communication",children:[i.jsxs(Ke,{children:[i.jsx(Je,{className:"flex items-center gap-2",children:" Communication & Timing"}),i.jsx(Ut,{children:"Response times and punctuality"})]}),i.jsxs(je,{className:"space-y-4",children:[t.totalMessagesReceived>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"font-medium",children:"Response Statistics"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Response Time"}),i.jsx("p",{className:"text-lg font-bold","data-testid":"text-avg-response-minutes",children:u>0?f(u):"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),i.jsxs("p",{className:"text-lg font-bold","data-testid":"text-response-rate-percent",children:[t.responseRatePercent?parseFloat(t.responseRatePercent).toFixed(0):0,"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Within 1 hour"}),i.jsxs("p",{className:"text-lg font-bold","data-testid":"text-responses-1hour",children:[(t.responsesWithin1hour/t.totalMessagesReceived*100).toFixed(0),"%"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Within 24 hours"}),i.jsxs("p",{className:"text-lg font-bold","data-testid":"text-responses-24hours",children:[(t.responsesWithin24hours/t.totalMessagesReceived*100).toFixed(0),"%"]})]})]})]}),t.totalCheckins>0&&i.jsxs(i.Fragment,{children:[i.jsx(Ys,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"font-medium",children:"Punctuality (Meetup Check-ins)"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Checked in Early"}),i.jsxs("p",{className:"text-lg font-bold text-green-600 dark:text-green-400","data-testid":"text-checked-in-early",children:[t.checkedInEarly," (",(t.checkedInEarly/t.totalCheckins*100).toFixed(0),"%)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"On Time"}),i.jsxs("p",{className:"text-lg font-bold text-green-600 dark:text-green-400","data-testid":"text-checked-in-on-time",children:[t.checkedInOnTime," (",(t.checkedInOnTime/t.totalCheckins*100).toFixed(0),"%)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Late (5-15min)"}),i.jsxs("p",{className:"text-lg font-bold text-yellow-600 dark:text-yellow-400","data-testid":"text-checked-in-late",children:[t.checkedInLate," (",(t.checkedInLate/t.totalCheckins*100).toFixed(0),"%)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"On-time Rate"}),i.jsxs("p",{className:"text-lg font-bold","data-testid":"text-on-time-rate",children:[((t.checkedInEarly+t.checkedInOnTime)/t.totalCheckins*100).toFixed(0),"%"]})]})]})]})]})]})]}),t.totalReviewsReceived>0&&i.jsxs(te,{"data-testid":"card-reviews-received",children:[i.jsxs(Ke,{children:[i.jsx(Je,{className:"flex items-center gap-2",children:" Reviews Received"}),i.jsxs(Ut,{children:["Average Rating: ",c.toFixed(1)," out of 5.0 (",t.totalReviewsReceived," reviews)"]})]}),i.jsx(je,{className:"space-y-3",children:[5,4,3,2,1].map(h=>{const v=t[`${["one","two","three","four","five"][h-1]}StarReviews`]||0,y=t.totalReviewsReceived||1,x=v/y*100;return i.jsxs("div",{className:"flex items-center gap-3","data-testid":`rating-row-${h}`,children:[i.jsxs("div",{className:"flex items-center gap-1 w-20",children:[i.jsx("span",{className:"text-sm font-medium",children:h}),i.jsx(Vt,{className:"h-3 w-3 fill-primary text-primary"})]}),i.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${x}%`},"data-testid":`rating-bar-${h}`})}),i.jsxs("span",{className:"text-sm text-muted-foreground w-16 text-right","data-testid":`rating-count-${h}`,children:[v," (",x.toFixed(0),"%)"]})]},h)})})]}),i.jsxs(te,{"data-testid":"card-verification",children:[i.jsxs(Ke,{children:[i.jsxs(Je,{className:"flex items-center gap-2",children:[i.jsx(Oz,{className:"h-5 w-5"}),"Verification Status"]}),i.jsx(Ut,{children:"Account verification details"})]}),i.jsx(je,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[t.phoneVerified?i.jsx(Lo,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):i.jsx(Wn,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Tz,{className:"h-3 w-3"}),i.jsx("span",{className:"text-sm","data-testid":"text-phone-verified",children:t.phoneVerified?"Phone Verified":"Phone Not Verified"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[t.emailVerified?i.jsx(Lo,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):i.jsx(Wn,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Nz,{className:"h-3 w-3"}),i.jsx("span",{className:"text-sm","data-testid":"text-email-verified",children:t.emailVerified?"Email Verified":"Email Not Verified"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[t.stripeConnected?i.jsx(Lo,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):i.jsx(Wn,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(xz,{className:"h-3 w-3"}),i.jsx("span",{className:"text-sm","data-testid":"text-stripe-connected",children:t.stripeConnected?"Stripe Connected":"Stripe Not Connected"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[t.idVerified?i.jsx(Lo,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):i.jsx(Wn,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(bz,{className:"h-3 w-3"}),i.jsx("span",{className:"text-sm","data-testid":"text-id-verified",children:t.idVerified?"ID Verified":"ID Not Verified"})]})]})]})})]})]})}function JK({isOpen:e,onClose:t,review:n,listingTitle:r,queryKey:s=["/api/reviews"]}){var x;const{toast:a}=gn(),[o,l]=m.useState(n.sellerResponse||""),c=!!n.sellerResponse,u=ur({mutationFn:async b=>await ks(`/api/reviews/${n.id}/response`,"POST",{responseText:b}),onSuccess:()=>{vt.invalidateQueries({queryKey:s}),a({title:c?"Response updated":"Response posted",description:c?"Your response has been successfully updated.":"Your response is now visible to everyone."}),t()},onError:b=>{a({title:"Error",description:b.message||"Failed to post response. Please try again.",variant:"destructive"})}}),d=()=>{if(!o.trim()){a({title:"Response required",description:"Please write a response before submitting.",variant:"destructive"});return}if(o.length>500){a({title:"Response too long",description:"Response must be 500 characters or less.",variant:"destructive"});return}u.mutate(o)},f=b=>Array.from({length:5}).map((w,g)=>i.jsx(Vt,{className:`w-4 h-4 ${g<b?"fill-yellow-400 text-yellow-400":"fill-muted text-muted-foreground"}`},g)),h=o.length,v=500,y=h>v;return i.jsx(Tn,{open:e,onOpenChange:t,children:i.jsxs(yn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsxs(wn,{children:[i.jsx(bn,{"data-testid":"text-modal-title",children:c?"Edit Your Response":`Respond to ${n.reviewerName||"Reviewer"}'s Review`}),i.jsx(Rn,{children:r&&`Transaction: ${r}`})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-md",children:[i.jsxs(la,{className:"w-10 h-10",children:[i.jsx(lo,{src:n.reviewerProfileImage}),i.jsx(ca,{children:((x=n.reviewerName)==null?void 0:x.charAt(0))||"?"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-medium text-sm","data-testid":"text-reviewer-name",children:n.reviewerName||"Anonymous"}),i.jsx("div",{className:"flex items-center gap-1",children:f(n.overallRating)})]}),i.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-3","data-testid":"text-review-text",children:['"',n.reviewText,'"']})]})]}),i.jsx(Ys,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",htmlFor:"response-textarea",children:"Your Response:"}),i.jsx($r,{id:"response-textarea","data-testid":"textarea-response",value:o,onChange:b=>l(b.target.value),placeholder:"Thank you for your feedback! It was a pleasure working with you...",className:"min-h-[120px] resize-none",disabled:u.isPending}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("span",{className:`text-sm ${y?"text-destructive font-medium":"text-muted-foreground"}`,"data-testid":"text-char-count",children:[h," / ",v," characters"]})})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/30 p-4 rounded-md space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-blue-700 dark:text-blue-400",children:[i.jsx(vP,{className:"w-5 h-5"}),i.jsx("h4",{className:"font-semibold text-sm",children:"TIPS FOR GOOD RESPONSES:"})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-start gap-2 text-green-700 dark:text-green-400",children:[i.jsx(wt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:"Thank the reviewer"})]}),i.jsxs("div",{className:"flex items-start gap-2 text-green-700 dark:text-green-400",children:[i.jsx(wt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:"Keep it brief and professional"})]}),i.jsxs("div",{className:"flex items-start gap-2 text-green-700 dark:text-green-400",children:[i.jsx(wt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:"Address specific points they mentioned"})]}),i.jsxs("div",{className:"flex items-start gap-2 text-green-700 dark:text-green-400",children:[i.jsx(wt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:"Remain courteous even for negative reviews"})]}),i.jsx(Ys,{className:"my-2"}),i.jsxs("div",{className:"flex items-start gap-2 text-destructive",children:[i.jsx(Wn,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:"Don't argue or be defensive"})]}),i.jsxs("div",{className:"flex items-start gap-2 text-destructive",children:[i.jsx(Wn,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:"Don't share personal contact information"})]}),i.jsxs("div",{className:"flex items-start gap-2 text-destructive",children:[i.jsx(Wn,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:"Don't request removal of negative reviews"})]})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: Your response will be public and can only be edited within 24 hours. Be professional and thoughtful."}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(B,{variant:"outline",onClick:t,disabled:u.isPending,"data-testid":"button-cancel",children:"Cancel"}),i.jsxs(B,{onClick:d,disabled:u.isPending||!o.trim()||y,"data-testid":"button-submit-response",children:[u.isPending&&i.jsx(at,{className:"w-4 h-4 mr-2 animate-spin"}),c?"Update Response":"Post Response"]})]})]})]})})}function eQ(){var H;const{userId:e}=Tu();Br();const[t,n]=m.useState("about"),[r,s]=m.useState(!1),[a,o]=m.useState(0),[l,c]=m.useState([]),[u,d]=m.useState(!1),[f,h]=m.useState(null),v=()=>{const S=new URLSearchParams(window.location.search);return{stars:S.get("stars")?parseInt(S.get("stars")):void 0,role:S.get("role")||"all",period:S.get("period")||"all",sort:S.get("sort")||"recent"}},[y,x]=m.useState(v());m.useEffect(()=>{const S=new URLSearchParams;y.stars&&S.set("stars",y.stars.toString()),y.role&&y.role!=="all"&&S.set("role",y.role),y.period&&y.period!=="all"&&S.set("period",y.period),y.sort&&y.sort!=="recent"&&S.set("sort",y.sort);const F=S.toString(),Q=`/users/${e}${F?`?${F}`:""}`;window.history.replaceState({},"",Q)},[y,e]);const{data:b}=jt({queryKey:["/api/auth/user"],retry:!1}),{data:w,isLoading:g}=jt({queryKey:["/api/users",e]}),{data:p,isLoading:j}=jt({queryKey:["/api/statistics/user",e]}),N=()=>{const S=new URLSearchParams;return y.stars&&S.set("stars",y.stars.toString()),y.role&&y.role!=="all"&&S.set("role",y.role),y.period&&y.period!=="all"&&S.set("period",y.period),y.sort&&S.set("sort",y.sort),S.set("limit","20"),S.set("offset",a.toString()),S.toString()},{data:_,isLoading:P}=jt({queryKey:["/api/reviews/user",e,N()],queryFn:async()=>{const S=N(),F=await fetch(`/api/reviews/user/${e}?${S}`,{credentials:"include"});if(!F.ok)throw new Error("Failed to fetch reviews");return F.json()}}),{data:C}=jt({queryKey:["/api/reviews/user",e,"count",y.stars,y.role,y.period],queryFn:async()=>{const S=new URLSearchParams;y.stars&&S.set("stars",y.stars.toString()),y.role&&y.role!=="all"&&S.set("role",y.role),y.period&&y.period!=="all"&&S.set("period",y.period);const F=await fetch(`/api/reviews/user/${e}/count?${S.toString()}`,{credentials:"include"});if(!F.ok)throw new Error("Failed to fetch count");return F.json()}}),{data:L,isLoading:k}=jt({queryKey:["/api/statistics/user",e,"timeline"]}),{data:A,isLoading:E}=jt({queryKey:["/api/transactions/user",e,"history"]});m.useEffect(()=>{_&&c(a===0?_:S=>[...S,..._])},[_,a]),m.useEffect(()=>{o(0),c([])},[y]);const M=S=>{const F=l.find(Q=>Q.id===S);F&&(h(F),d(!0))};if(g)return i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-32 bg-muted rounded-lg"}),i.jsx("div",{className:"h-64 bg-muted rounded-lg"})]})});if(!w)return i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx(te,{children:i.jsx(je,{className:"py-8 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"User not found"})})})});const T=w.firstName&&w.lastName?`${w.firstName} ${w.lastName}`:w.firstName||w.lastName||"User",q=T.split(" ").map(S=>S[0]).join("").toUpperCase(),W=p!=null&&p.averageRating?parseFloat(p.averageRating):0;return i.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[i.jsx(te,{children:i.jsx(je,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs(la,{className:"h-24 w-24","data-testid":"avatar-user",children:[i.jsx(lo,{src:w.profileImageUrl,alt:T}),i.jsx(ca,{children:q})]}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h1",{className:"text-2xl font-bold","data-testid":"text-username",children:T}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(hz,{className:"h-4 w-4"}),i.jsxs("span",{"data-testid":"text-member-since",children:["Member since ",new Date((p==null?void 0:p.memberSince)||w.createdAt).toLocaleDateString()]})]})]}),W>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(S=>i.jsx(Vt,{className:`h-4 w-4 ${S<=W?"fill-primary text-primary":"fill-muted text-muted"}`},S))}),i.jsx("span",{className:"text-sm font-medium","data-testid":"text-avg-rating",children:W.toFixed(1)}),i.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":"text-review-count",children:["(",(p==null?void 0:p.totalReviewsReceived)||0," reviews)"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.location&&i.jsxs(ct,{variant:"secondary","data-testid":"badge-location",children:[i.jsx(Lv,{className:"h-3 w-3 mr-1"}),w.location]}),(p==null?void 0:p.totalListingsSold)>0&&i.jsxs(ct,{variant:"secondary","data-testid":"badge-sold",children:[i.jsx(La,{className:"h-3 w-3 mr-1"}),p.totalListingsSold," sold"]}),(p==null?void 0:p.responseRate)&&i.jsxs(ct,{variant:"secondary","data-testid":"badge-response-rate",children:[i.jsx(Wi,{className:"h-3 w-3 mr-1"}),p.responseRate,"% response"]})]})]}),i.jsx("div",{className:"flex md:flex-col gap-2",children:i.jsxs(B,{variant:"default","data-testid":"button-message",children:[i.jsx(Wi,{className:"h-4 w-4 mr-2"}),"Message"]})})]})})}),i.jsxs(cM,{value:t,onValueChange:n,children:[i.jsxs(uM,{className:"grid w-full grid-cols-4","data-testid":"tabs-user-profile",children:[i.jsx(dc,{value:"about","data-testid":"tab-about",children:"About"}),i.jsx(dc,{value:"statistics","data-testid":"tab-statistics",children:"Statistics"}),i.jsxs(dc,{value:"reviews","data-testid":"tab-reviews",children:["Reviews (",(p==null?void 0:p.totalReviewsReceived)||0,")"]}),i.jsx(dc,{value:"history","data-testid":"tab-history",children:"Transaction History"})]}),i.jsx(Mi,{value:"about",className:"space-y-4",children:i.jsxs(te,{children:[i.jsx(Ke,{children:i.jsx(Je,{children:"About"})}),i.jsxs(je,{className:"space-y-4",children:[w.bio?i.jsx("p",{className:"text-muted-foreground","data-testid":"text-bio",children:w.bio}):i.jsx("p",{className:"text-muted-foreground italic",children:"No bio available"}),i.jsx(Ys,{}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Listings"}),i.jsx("p",{className:"text-2xl font-bold","data-testid":"text-active-listings",children:(p==null?void 0:p.totalListingsActive)||0})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Sales"}),i.jsx("p",{className:"text-2xl font-bold","data-testid":"text-completed-sales",children:(p==null?void 0:p.totalListingsSold)||0})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Rate"}),i.jsxs("p",{className:"text-2xl font-bold","data-testid":"text-response-rate",children:[(p==null?void 0:p.responseRate)||0,"%"]})]})]})]})]})}),i.jsx(Mi,{value:"statistics",className:"space-y-4",children:i.jsx(XK,{userId:e})}),i.jsxs(Mi,{value:"reviews",className:"space-y-4",children:[i.jsx(te,{children:i.jsxs(je,{className:"pt-6",children:[i.jsx("div",{className:"md:hidden mb-4",children:i.jsxs(B,{variant:"outline",className:"w-full",onClick:()=>s(!r),"data-testid":"button-toggle-filters",children:[i.jsx(yz,{className:"h-4 w-4 mr-2"}),"Filters & Sort"]})}),i.jsxs("div",{className:`space-y-4 ${!r&&"hidden md:block"}`,children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Stars"}),i.jsxs(hn,{value:((H=y.stars)==null?void 0:H.toString())||"all",onValueChange:S=>x({...y,stars:S==="all"?void 0:parseInt(S)}),children:[i.jsx(on,{"data-testid":"select-stars",children:i.jsx(mn,{placeholder:"All Stars"})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"all",children:"All Stars"}),i.jsx(ne,{value:"5",children:"5 Stars"}),i.jsx(ne,{value:"4",children:"4 Stars"}),i.jsx(ne,{value:"3",children:"3 Stars"}),i.jsx(ne,{value:"2",children:"2 Stars"}),i.jsx(ne,{value:"1",children:"1 Star"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Role"}),i.jsxs(hn,{value:y.role||"all",onValueChange:S=>x({...y,role:S}),children:[i.jsx(on,{"data-testid":"select-role",children:i.jsx(mn,{placeholder:"All"})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"all",children:"All"}),i.jsx(ne,{value:"seller",children:"As Seller"}),i.jsx(ne,{value:"buyer",children:"As Buyer"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Period"}),i.jsxs(hn,{value:y.period||"all",onValueChange:S=>x({...y,period:S}),children:[i.jsx(on,{"data-testid":"select-period",children:i.jsx(mn,{placeholder:"All Time"})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"all",children:"All Time"}),i.jsx(ne,{value:"30d",children:"Last 30 Days"}),i.jsx(ne,{value:"3m",children:"Last 3 Months"}),i.jsx(ne,{value:"6m",children:"Last 6 Months"}),i.jsx(ne,{value:"12m",children:"Last 12 Months"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Sort by"}),i.jsxs(hn,{value:y.sort||"recent",onValueChange:S=>x({...y,sort:S}),children:[i.jsx(on,{"data-testid":"select-sort",children:i.jsx(mn,{placeholder:"Most Recent"})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"recent",children:"Most Recent"}),i.jsx(ne,{value:"oldest",children:"Oldest First"}),i.jsx(ne,{value:"highest",children:"Highest Rating"}),i.jsx(ne,{value:"lowest",children:"Lowest Rating"}),i.jsx(ne,{value:"helpful",children:"Most Helpful"})]})]})]})]}),(y.stars||y.role&&y.role!=="all"||y.period&&y.period!=="all")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Active Filters:"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.stars&&i.jsxs(ct,{variant:"secondary",className:"gap-1","data-testid":"badge-filter-stars",children:[y.stars," Stars",i.jsx(Lr,{className:"h-3 w-3 cursor-pointer",onClick:()=>x({...y,stars:void 0}),"data-testid":"button-remove-stars-filter"})]}),y.role&&y.role!=="all"&&i.jsxs(ct,{variant:"secondary",className:"gap-1","data-testid":"badge-filter-role",children:["As ",y.role==="seller"?"Seller":"Buyer",i.jsx(Lr,{className:"h-3 w-3 cursor-pointer",onClick:()=>x({...y,role:"all"}),"data-testid":"button-remove-role-filter"})]}),y.period&&y.period!=="all"&&i.jsxs(ct,{variant:"secondary",className:"gap-1","data-testid":"badge-filter-period",children:[y.period==="30d"?"Last 30 Days":y.period==="3m"?"Last 3 Months":y.period==="6m"?"Last 6 Months":"Last 12 Months",i.jsx(Lr,{className:"h-3 w-3 cursor-pointer",onClick:()=>x({...y,period:"all"}),"data-testid":"button-remove-period-filter"})]}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>x({role:"all",period:"all",sort:"recent"}),"data-testid":"button-clear-filters",children:"Clear All Filters"})]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":"text-review-count-filtered",children:["Showing ",(C==null?void 0:C.count)||0," reviews",(y.stars||y.role&&y.role!=="all"||y.period&&y.period!=="all")&&` (filtered from ${(p==null?void 0:p.totalReviewsReceived)||0} total)`]})]})]})}),P?i.jsx(te,{children:i.jsx(je,{className:"py-8",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-24 bg-muted rounded"}),i.jsx("div",{className:"h-24 bg-muted rounded"})]})})}):l&&l.length>0?i.jsxs(i.Fragment,{children:[l.map(S=>{var F;return i.jsx(ZK,{review:S,currentUserId:(F=b==null?void 0:b.user)==null?void 0:F.id,onRespond:M,queryKey:["/api/reviews/user",e,N()]},S.id)}),C&&l.length<C.count&&i.jsx(te,{children:i.jsx(je,{className:"py-4 text-center",children:i.jsxs(B,{variant:"outline",onClick:()=>o(a+20),"data-testid":"button-load-more",children:["Load More Reviews (",C.count-l.length," remaining)"]})})})]}):i.jsx(te,{children:i.jsx(je,{className:"py-8 text-center space-y-4",children:y.stars||y.role&&y.role!=="all"||y.period&&y.period!=="all"?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-muted-foreground font-medium",children:"No reviews match your filters"}),i.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("p",{children:"Active filters:"}),i.jsxs("ul",{className:"list-disc list-inside",children:[y.stars&&i.jsxs("li",{children:[y.stars," Star reviews"]}),y.role&&y.role!=="all"&&i.jsxs("li",{children:["As ",y.role==="seller"?"Seller":"Buyer"]}),y.period&&y.period!=="all"&&i.jsx("li",{children:y.period==="30d"?"Last 30 Days":y.period==="3m"?"Last 3 Months":y.period==="6m"?"Last 6 Months":"Last 12 Months"})]})]}),i.jsx(B,{variant:"outline",onClick:()=>x({role:"all",period:"all",sort:"recent"}),"data-testid":"button-clear-filters-empty",children:"Clear All Filters"})]}):i.jsx("p",{className:"text-muted-foreground",children:"No reviews yet"})})})]}),i.jsx(Mi,{value:"history",className:"space-y-4",children:E?i.jsx(te,{children:i.jsx(je,{className:"py-8",children:i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-16 bg-muted rounded"}),i.jsx("div",{className:"h-16 bg-muted rounded"})]})})}):A&&A.length>0?i.jsxs(te,{children:[i.jsxs(Ke,{children:[i.jsx(Je,{children:"Transaction History"}),i.jsx(Ut,{children:"Recent buying and selling activity"})]}),i.jsx(je,{children:i.jsx("div",{className:"space-y-4",children:A.map(S=>i.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b last:border-0","data-testid":`row-transaction-${S.id}`,children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium","data-testid":`text-item-title-${S.id}`,children:S.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(S.createdAt).toLocaleDateString()})]}),i.jsx(ct,{variant:S.status==="sold"?"default":"secondary","data-testid":`badge-status-${S.id}`,children:S.status}),i.jsxs("p",{className:"font-bold","data-testid":`text-price-${S.id}`,children:["$",S.price]})]},S.id))})})]}):i.jsx(te,{children:i.jsx(je,{className:"py-8 text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No transaction history"})})})})]}),f&&i.jsx(JK,{isOpen:u,onClose:()=>{d(!1),h(null)},review:f,queryKey:["/api/reviews/user",e,N()]})]})}function kp({className:e,...t}){return i.jsx("div",{className:de("animate-pulse rounded-md bg-muted",e),...t})}function tQ({open:e,onOpenChange:t,commentId:n,listingTitle:r,listingPrice:s,originalComment:a,originalCommenterName:o,onSuccess:l}){const{toast:c}=gn(),[u,d]=m.useState(""),[f,h]=m.useState(!0),v=ur({mutationFn:async g=>await ks("POST",`/api/cancellations/${n}/response`,g),onSuccess:()=>{c({title:"Response posted",description:"Your response has been added to the cancellation comment."}),vt.invalidateQueries({queryKey:["/api/transactions"]}),vt.invalidateQueries({queryKey:["/api/users"]}),d(""),h(!0),t(!1),l==null||l()},onError:g=>{c({title:"Failed to post response",description:g.message||"Something went wrong",variant:"destructive"})}}),y=()=>{if(!u.trim()){c({title:"Response cannot be empty",variant:"destructive"});return}if(u.length>500){c({title:"Response too long",description:"Response must be 500 characters or less",variant:"destructive"});return}v.mutate({responseText:u.trim(),isPublic:f})},x=u.length,b=500,w=x>b;return i.jsx(Tn,{open:e,onOpenChange:t,children:i.jsxs(yn,{className:"sm:max-w-[600px]","data-testid":"dialog-respond-cancellation",children:[i.jsxs(wn,{children:[i.jsx(bn,{"data-testid":"heading-respond-cancellation",children:"Respond to Cancellation Comment"}),i.jsx(Rn,{children:"Add your response to help maintain clear communication"})]}),i.jsxs("div",{className:"space-y-4",children:[(r||s)&&i.jsx("div",{className:"border-b pb-3",children:i.jsxs("p",{className:"text-sm font-medium","data-testid":"text-transaction-info",children:["Transaction: ",r,s&&i.jsxs("span",{className:"text-muted-foreground",children:[" - ",s]})]})}),i.jsxs("div",{children:[i.jsx(pe,{className:"text-sm font-medium mb-2 block",children:o?`${o}'s comment:`:"Original comment:"}),i.jsx(te,{children:i.jsx(je,{className:"p-3",children:i.jsxs("p",{className:"text-sm text-muted-foreground italic","data-testid":"text-original-comment",children:['"',a,'"']})})})]}),i.jsxs("div",{children:[i.jsx(pe,{htmlFor:"response-text",className:"text-sm font-medium mb-2 block",children:"Your response:"}),i.jsx($r,{id:"response-text","data-testid":"textarea-response",placeholder:"Thanks for explaining! I completely understand...",value:u,onChange:g=>d(g.target.value),className:`min-h-[120px] ${w?"border-destructive":""}`}),i.jsxs("p",{className:`text-sm mt-1 ${w?"text-destructive":"text-muted-foreground"}`,"data-testid":"text-char-count",children:[x," / ",b," characters"]})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(nm,{id:"response-public","data-testid":"checkbox-response-public",checked:f,onCheckedChange:g=>h(g)}),i.jsxs("div",{className:"grid gap-1.5 leading-none",children:[i.jsx("label",{htmlFor:"response-public",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Make this response public"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Recommended - shows you're professional and helps build your reputation"})]})]}),i.jsx(te,{className:"bg-muted/50",children:i.jsxs(je,{className:"p-3",children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Tips for good responses:"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[i.jsx("li",{children:"Be professional and courteous"}),i.jsx("li",{children:"Acknowledge their explanation"}),i.jsx("li",{children:"Keep it brief"}),i.jsx("li",{children:"No personal attacks"})]})]})}),f&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Note: Your response will be visible on both your profile and"," ",o?`${o}'s`:"the other party's"," profile. Being understanding builds your reputation."]})]}),i.jsxs(js,{children:[i.jsx(B,{variant:"outline",onClick:()=>t(!1),disabled:v.isPending,"data-testid":"button-cancel-response",children:"Cancel"}),i.jsx(B,{onClick:y,disabled:v.isPending||!u.trim()||w,"data-testid":"button-post-response",children:v.isPending?i.jsxs(i.Fragment,{children:[i.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Posting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Cz,{className:"mr-2 h-4 w-4"}),"Post Response"]})})]})]})})}function nQ(){const t=Tu().userId,n=P$(),[,r]=Br(),[s,a]=m.useState(!1),[o,l]=m.useState(null),c=new URLSearchParams(n),u=c.get("status")||"all",d=c.get("role")||"all",f=new URLSearchParams;u!=="all"&&f.set("status",u),d!=="all"&&f.set("role",d);const h=f.toString(),{data:v,isLoading:y}=jt({queryKey:[`/api/transactions/user/${t}/history${h?`?${h}`:""}`]}),x=(p,j)=>{const N=new URLSearchParams(n);j==="all"?N.delete(p):N.set(p,j),r(`/users/${t}/history${N.toString()?`?${N.toString()}`:""}`)},b=(p,j,N)=>{switch(p){case"completed":return i.jsxs(ct,{variant:"default",className:"bg-green-600 hover:bg-green-700 gap-1","data-testid":"badge-status-completed",children:[i.jsx(wt,{className:"w-3 h-3"}),"COMPLETED"]});case"cancelled":const _=(N==null?void 0:N.cancelledRole)||j;return i.jsxs(ct,{variant:"destructive",className:"gap-1","data-testid":"badge-status-cancelled",children:[i.jsx(Wn,{className:"w-3 h-3"}),"CANCELLED BY ",_.toUpperCase()]});case"buyer_noshow":case"seller_noshow":const P=p.split("_")[0];return i.jsxs(ct,{variant:"secondary",className:"bg-orange-600 hover:bg-orange-700 text-white gap-1","data-testid":"badge-status-noshow",children:[i.jsx(Qa,{className:"w-3 h-3"}),"NO-SHOW BY ",P.toUpperCase()]});default:return i.jsx(ct,{variant:"secondary","data-testid":`badge-status-${p}`,children:p.toUpperCase()})}},g=v?{completed:v.filter(p=>p.eventType==="completed").length,cancelled:v.filter(p=>p.eventType==="cancelled").length,noshow:v.filter(p=>p.eventType.includes("noshow")||p.eventType.includes("no_show")).length}:{completed:0,cancelled:0,noshow:0};return y?i.jsx("div",{className:"min-h-screen bg-background",children:i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[i.jsx(kp,{className:"h-10 w-64 mb-2"}),i.jsx(kp,{className:"h-6 w-96 mb-8"}),i.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>i.jsx(kp,{className:"h-48 w-full"},p))})]})}):i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2","data-testid":"heading-transaction-history",children:"Transaction History"}),i.jsxs("p",{className:"text-muted-foreground mb-4","data-testid":"text-transaction-count",children:["Showing ",(v==null?void 0:v.length)||0," transactions"]}),i.jsxs("div",{className:"flex gap-3 flex-wrap",children:[i.jsxs(ct,{variant:"default",className:"bg-green-600 hover:bg-green-700","data-testid":"badge-count-completed",children:[i.jsx(wt,{className:"w-3 h-3 mr-1"}),g.completed," completed"]}),i.jsxs(ct,{variant:"destructive","data-testid":"badge-count-cancelled",children:[i.jsx(Wn,{className:"w-3 h-3 mr-1"}),g.cancelled," cancelled"]}),i.jsxs(ct,{variant:"secondary",className:"bg-orange-600 hover:bg-orange-700 text-white","data-testid":"badge-count-noshow",children:[i.jsx(Qa,{className:"w-3 h-3 mr-1"}),g.noshow," no-show"]})]})]}),i.jsx(te,{className:"p-4 mb-6",children:i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-[200px]",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),i.jsxs(hn,{value:u,onValueChange:p=>x("status",p),children:[i.jsx(on,{"data-testid":"select-status-filter",children:i.jsx(mn,{placeholder:"All"})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"all",children:"All"}),i.jsx(ne,{value:"completed",children:"Completed"}),i.jsx(ne,{value:"cancelled",children:"Cancelled"}),i.jsx(ne,{value:"buyer_noshow",children:"Buyer No-Show"}),i.jsx(ne,{value:"seller_noshow",children:"Seller No-Show"})]})]})]}),i.jsxs("div",{className:"flex-1 min-w-[200px]",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Role"}),i.jsxs(hn,{value:d,onValueChange:p=>x("role",p),children:[i.jsx(on,{"data-testid":"select-role-filter",children:i.jsx(mn,{placeholder:"All"})}),i.jsxs(ln,{children:[i.jsx(ne,{value:"all",children:"All"}),i.jsx(ne,{value:"buyer",children:"As Buyer"}),i.jsx(ne,{value:"seller",children:"As Seller"})]})]})]})]})}),!v||v.length===0?i.jsxs(te,{className:"p-12 text-center",children:[i.jsx("p",{className:"text-muted-foreground text-lg","data-testid":"text-no-transactions",children:"No transactions yet. Start browsing!"}),i.jsx(B,{className:"mt-4",onClick:()=>r("/"),"data-testid":"button-browse-listings",children:"Browse Listings"})]}):i.jsx("div",{className:"space-y-4",children:v.map(p=>{var _,P;const j=p.reviews.find(C=>C.reviewerId===t),N=p.reviews.find(C=>C.reviewerId===p.otherParty.id);return i.jsxs(te,{className:"p-6","data-testid":`card-transaction-${p.listing.id}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 gap-2 flex-wrap",children:[b(p.eventType,p.role,p.cancellationComment),i.jsx("span",{className:"text-sm text-muted-foreground","data-testid":`text-transaction-date-${p.listing.id}`,children:oj(new Date(p.createdAt),"MMMM d, yyyy")})]}),i.jsxs("div",{className:"flex gap-4 mb-4",children:[p.listing.images&&p.listing.images[0]&&i.jsx("img",{src:p.listing.images[0],alt:p.listing.title,className:"w-20 h-20 object-cover rounded-md","data-testid":`img-listing-${p.listing.id}`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-lg mb-1","data-testid":`text-listing-title-${p.listing.id}`,children:p.listing.title}),i.jsxs("p",{className:"text-xl font-bold text-primary","data-testid":`text-listing-price-${p.listing.id}`,children:["$",p.listing.price]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsxs(la,{className:"w-10 h-10",children:[i.jsx(lo,{src:p.otherParty.profileImageUrl}),i.jsxs(ca,{children:[(_=p.otherParty.firstName)==null?void 0:_[0],(P=p.otherParty.lastName)==null?void 0:P[0]]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-medium","data-testid":`text-other-party-${p.listing.id}`,children:[p.role==="buyer"?"Seller":"Buyer",":"," ",p.otherParty.firstName," ",p.otherParty.lastName]}),p.otherPartyStats&&p.otherPartyStats.averageRating&&i.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[i.jsx(Vt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),i.jsxs("span",{"data-testid":`text-rating-${p.listing.id}`,children:[Number(p.otherPartyStats.averageRating).toFixed(1),"/5.0"]})]})]}),i.jsx(B,{variant:"outline",size:"sm",onClick:()=>r(`/users/${p.otherParty.id}`),"data-testid":`button-view-profile-${p.listing.id}`,children:"View Profile"})]}),i.jsx("div",{className:"mb-3",children:i.jsxs(ct,{variant:"secondary","data-testid":`badge-role-${p.listing.id}`,children:["Role: ",p.role==="buyer"?"Buyer":"Seller"]})}),(j||N)&&i.jsxs("div",{className:"border-t pt-3 mt-3 space-y-2",children:[j&&i.jsxs("div",{className:"text-sm","data-testid":`review-user-${p.listing.id}`,children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(Vt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),i.jsx("span",{className:"font-medium",children:"Your Review:"}),i.jsx("span",{className:"text-yellow-600",children:"".repeat(j.overallRating)})]}),i.jsxs("p",{className:"text-muted-foreground",children:['"',j.reviewText,'"']})]}),N&&i.jsxs("div",{className:"text-sm","data-testid":`review-other-${p.listing.id}`,children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(Vt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),i.jsxs("span",{className:"font-medium",children:[p.otherParty.firstName,"'s Review:"]}),i.jsx("span",{className:"text-yellow-600",children:"".repeat(N.overallRating)})]}),i.jsxs("p",{className:"text-muted-foreground",children:['"',N.reviewText,'"']})]})]}),p.cancellationComment&&i.jsxs("div",{className:"border-t pt-3 mt-3 space-y-3","data-testid":`cancellation-comment-${p.listing.id}`,children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(Wi,{className:"w-4 h-4"}),i.jsxs("p",{className:"text-sm font-medium",children:[p.otherParty.firstName,"'s Cancellation Comment:"]})]}),p.cancellationComment.cancellationReasonCategory&&i.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Reason: ",p.cancellationComment.cancellationReasonCategory.replace(/_/g," ")]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:['"',p.cancellationComment.comment,'"']}),p.cancellationComment.cancellationTiming&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.cancellationComment.cancellationTiming})]}),p.cancellationComment.responseText?i.jsxs("div",{className:"pl-4 border-l-2 border-muted",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(Wi,{className:"w-4 h-4"}),i.jsx("p",{className:"text-sm font-medium",children:"Your Response:"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:['"',p.cancellationComment.responseText,'"']}),p.cancellationComment.responseAt&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Posted: ",oj(new Date(p.cancellationComment.responseAt),"MMM d, yyyy 'at' h:mm a")]})]}):p.cancellationComment.cancelledRole!==p.role&&i.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{l({id:p.cancellationComment.id,comment:p.cancellationComment.comment,listingTitle:p.listing.title,listingPrice:p.listing.price,commenterName:`${p.otherParty.firstName} ${p.otherParty.lastName}`}),a(!0)},"data-testid":`button-respond-cancellation-${p.listing.id}`,children:[i.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Respond to Comment"]})]}),i.jsx("div",{className:"mt-4",children:i.jsx(B,{variant:"outline",onClick:()=>r(`/listings/${p.listing.id}`),"data-testid":`button-view-details-${p.listing.id}`,children:"View Transaction Details"})})]},p.listing.id+p.createdAt)})})]}),o&&i.jsx(tQ,{open:s,onOpenChange:a,commentId:o.id,listingTitle:o.listingTitle,listingPrice:o.listingPrice,originalComment:o.comment,originalCommenterName:o.commenterName,onSuccess:()=>{l(null)}})]})}function rQ(){const[,e]=k2("/create-review/:token"),[,t]=Br(),{toast:n}=gn(),r=e==null?void 0:e.token,[s,a]=m.useState(0),[o,l]=m.useState(0),[c,u]=m.useState([{key:"communicationRating",label:"Communication",value:0},{key:"asDescribedRating",label:"Item as Described",value:0},{key:"punctualityRating",label:"Punctuality",value:0},{key:"professionalismRating",label:"Professionalism",value:0}]),[d,f]=m.useState(""),[h,v]=m.useState(""),[y,x]=m.useState("yes_definitely"),[b,w]=m.useState([]),[g,p]=m.useState(!1),{data:j,isLoading:N,error:_}=jt({queryKey:["/api/reviews/validate-token",r],enabled:!!r}),P=ur({mutationFn:async E=>await ks("/api/reviews/create","POST",E),onSuccess:()=>{p(!0),n({title:"Review submitted",description:"Thank you for your feedback!"})},onError:E=>{n({title:"Error",description:E.message||"Failed to submit review. Please try again.",variant:"destructive"})}}),C=(E,M)=>{E===null?a(M):u(T=>T.map(q=>q.key===E?{...q,value:M}:q))},L=E=>{const M=E.target.files;M&&Array.from(M).forEach(T=>{const q=new FileReader;q.onloadend=()=>{typeof q.result=="string"&&w(W=>[...W,q.result])},q.readAsDataURL(T)})},k=()=>{if(!s){n({title:"Missing rating",description:"Please provide an overall rating.",variant:"destructive"});return}if(!h.trim()){n({title:"Missing review",description:"Please write a review.",variant:"destructive"});return}if(!j)return;const E={token:j.token,listingId:j.listingId,reviewedUserId:j.reviewedUserId,reviewerRole:j.reviewerRole,overallRating:s,...c.reduce((M,T)=>({...M,[T.key]:T.value}),{}),reviewTitle:d.trim(),reviewText:h.trim(),wouldTransactAgain:y,photos:b};P.mutate(E)},A=(E,M,T,q,W=null)=>i.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(H=>i.jsx("button",{type:"button",onMouseEnter:()=>T(H),onMouseLeave:()=>T(0),onClick:()=>q(H),className:"focus:outline-none transition-transform hover:scale-110","data-testid":`star-${W||"overall"}-${H}`,children:i.jsx(Vt,{className:`w-6 h-6 ${H<=(M||E)?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`})},H))});return N?i.jsx("div",{className:"container mx-auto py-12 px-4 flex items-center justify-center min-h-screen",children:i.jsx(te,{className:"w-full max-w-md",children:i.jsx(je,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[i.jsx(at,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"text-muted-foreground",children:"Validating your review link..."})]})})})}):_||!j?i.jsx("div",{className:"container mx-auto py-12 px-4 flex items-center justify-center min-h-screen",children:i.jsxs(te,{className:"w-full max-w-md",children:[i.jsxs(Ke,{children:[i.jsx(Je,{className:"text-destructive",children:"Invalid Link"}),i.jsx(Ut,{children:"This review link is invalid, has expired, or has already been used."})]}),i.jsx(je,{children:i.jsx(B,{onClick:()=>t("/"),className:"w-full","data-testid":"button-go-home",children:"Go to Homepage"})})]})}):g?i.jsx("div",{className:"container mx-auto py-12 px-4 flex items-center justify-center min-h-screen",children:i.jsxs(te,{className:"w-full max-w-md",children:[i.jsxs(Ke,{children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(wt,{className:"h-16 w-16 text-green-500"})}),i.jsx(Je,{className:"text-center",children:"Review Submitted!"}),i.jsx(Ut,{className:"text-center",children:"Thank you for sharing your feedback. Your review helps build trust in our community."})]}),i.jsxs(je,{className:"space-y-4",children:[i.jsx(B,{onClick:()=>t("/"),className:"w-full","data-testid":"button-browse-listings",children:"Browse Listings"}),i.jsx(B,{variant:"outline",onClick:()=>t(`/profile/${j.listing.sellerId}`),className:"w-full","data-testid":"button-view-seller-profile",children:"View Seller Profile"})]})]})}):i.jsx("div",{className:"container mx-auto py-12 px-4",children:i.jsxs(te,{className:"max-w-3xl mx-auto",children:[i.jsxs(Ke,{children:[i.jsx(Je,{children:"Leave a Review"}),i.jsx(Ut,{children:"Share your experience with this transaction"})]}),i.jsxs(je,{className:"space-y-6",children:[i.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Transaction Details"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium",children:"Item:"})," ",j.listing.title]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("span",{className:"font-medium",children:"Reviewing:"})," ",j.reviewerRole==="buyer"?"Seller":"Buyer"]})]}),i.jsxs("div",{children:[i.jsxs(pe,{className:"text-base font-semibold mb-3 block",children:["Overall Rating ",i.jsx("span",{className:"text-destructive",children:"*"})]}),A(s,o,l,E=>C(null,E))]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(pe,{className:"text-base font-semibold",children:"Detailed Ratings"}),c.map(E=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:E.label}),A(E.value,0,()=>{},M=>C(E.key,M),E.key)]},E.key))]}),i.jsxs("div",{children:[i.jsx(pe,{htmlFor:"review-title",children:"Review Title (Optional)"}),i.jsx(xt,{id:"review-title",placeholder:"Sum up your experience",value:d,onChange:E=>f(E.target.value),maxLength:100,"data-testid":"input-review-title"})]}),i.jsxs("div",{children:[i.jsxs(pe,{htmlFor:"review-text",children:["Your Review ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx($r,{id:"review-text",placeholder:"Share details about your experience...",value:h,onChange:E=>v(E.target.value),rows:6,"data-testid":"input-review-text"})]}),i.jsxs("div",{children:[i.jsx(pe,{className:"text-base font-semibold mb-3 block",children:"Would you transact with this person again?"}),i.jsxs($u,{value:y,onValueChange:x,children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ir,{value:"yes_definitely",id:"yes_definitely","data-testid":"radio-yes-definitely"}),i.jsx(pe,{htmlFor:"yes_definitely",className:"font-normal cursor-pointer",children:"Yes, definitely"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ir,{value:"yes_probably",id:"yes_probably","data-testid":"radio-yes-probably"}),i.jsx(pe,{htmlFor:"yes_probably",className:"font-normal cursor-pointer",children:"Yes, probably"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ir,{value:"not_sure",id:"not_sure","data-testid":"radio-not-sure"}),i.jsx(pe,{htmlFor:"not_sure",className:"font-normal cursor-pointer",children:"Not sure"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ir,{value:"no_probably_not",id:"no_probably_not","data-testid":"radio-no-probably-not"}),i.jsx(pe,{htmlFor:"no_probably_not",className:"font-normal cursor-pointer",children:"No, probably not"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ir,{value:"no_definitely_not",id:"no_definitely_not","data-testid":"radio-no-definitely-not"}),i.jsx(pe,{htmlFor:"no_definitely_not",className:"font-normal cursor-pointer",children:"No, definitely not"})]})]})]}),i.jsxs("div",{children:[i.jsx(pe,{className:"text-base font-semibold mb-3 block",children:"Add Photos (Optional)"}),i.jsxs("div",{className:"space-y-3",children:[b.length>0&&i.jsx("div",{className:"grid grid-cols-5 gap-2",children:b.map((E,M)=>i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:E,alt:`Review photo ${M+1}`,className:"w-full h-full object-cover rounded-md"}),i.jsx("button",{type:"button",onClick:()=>w(T=>T.filter((q,W)=>W!==M)),className:"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-1","data-testid":`button-remove-photo-${M}`,children:i.jsx(Lr,{className:"h-3 w-3"})})]},M))}),b.length<5&&i.jsxs("div",{children:[i.jsx("input",{type:"file",id:"photo-upload",accept:"image/*",multiple:!0,onChange:L,className:"hidden"}),i.jsxs(pe,{htmlFor:"photo-upload",className:"flex items-center justify-center gap-2 border-2 border-dashed rounded-lg p-6 cursor-pointer hover-elevate","data-testid":"button-upload-photo",children:[i.jsx(Yc,{className:"h-5 w-5"}),i.jsxs("span",{children:["Upload Photos (",b.length,"/5)"]})]})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(B,{onClick:()=>t("/"),variant:"outline",className:"flex-1","data-testid":"button-cancel",children:"Cancel"}),i.jsxs(B,{onClick:k,disabled:P.isPending,className:"flex-1","data-testid":"button-submit-review",children:[P.isPending&&i.jsx(at,{className:"h-4 w-4 mr-2 animate-spin"}),"Submit Review"]})]})]})]})})}function sQ(){const[,e]=k2("/unsubscribe"),[,t]=Br(),[n,r]=m.useState(null);m.useEffect(()=>{const c=new URLSearchParams(window.location.search).get("user");r(c)},[]);const{data:s,isLoading:a,error:o}=jt({queryKey:["/api/unsubscribe/review-reminders",n],enabled:!!n});return a?i.jsx("div",{className:"container mx-auto py-12 px-4 flex items-center justify-center min-h-screen",children:i.jsx(te,{className:"w-full max-w-md",children:i.jsx(je,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[i.jsx(at,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"text-muted-foreground",children:"Unsubscribing you from review reminders..."})]})})})}):o||!s?i.jsx("div",{className:"container mx-auto py-12 px-4 flex items-center justify-center min-h-screen",children:i.jsxs(te,{className:"w-full max-w-md",children:[i.jsxs(Ke,{children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(Wn,{className:"h-16 w-16 text-destructive"})}),i.jsx(Je,{className:"text-center text-destructive",children:"Unsubscribe Failed"}),i.jsx(Ut,{className:"text-center",children:"We couldn't process your unsubscribe request. Please try again or contact support."})]}),i.jsx(je,{children:i.jsx(B,{onClick:()=>t("/"),className:"w-full","data-testid":"button-go-home",children:"Go to Homepage"})})]})}):i.jsx("div",{className:"container mx-auto py-12 px-4 flex items-center justify-center min-h-screen",children:i.jsxs(te,{className:"w-full max-w-md",children:[i.jsxs(Ke,{children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(wt,{className:"h-16 w-16 text-green-500"})}),i.jsx(Je,{className:"text-center",children:"Successfully Unsubscribed"}),i.jsx(Ut,{className:"text-center",children:"You've been unsubscribed from review reminder emails. You can re-enable these emails at any time from your account settings."})]}),i.jsx(je,{children:i.jsx(B,{onClick:()=>t("/"),className:"w-full","data-testid":"button-browse-listings",children:"Browse Listings"})})]})})}function iQ(){return i.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:i.jsx(j3,{routing:"path",path:"/sign-in",signUpUrl:"/sign-up"})})}function aQ(){return i.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:i.jsx(N3,{routing:"path",path:"/sign-up",signInUrl:"/sign-in"})})}function oQ(){const{sessionId:e}=Tu();Br();const{toast:t}=gn(),{isSignedIn:n,isLoaded:r,getToken:s}=ia(),[a,o]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!1),[f,h]=m.useState(0),[v,y]=m.useState(0),[x,b]=m.useState(!1),w=m.useRef(null),g=m.useRef(null),p=_=>{if(!_||_.length===0)return;const P=Array.from(_).filter(L=>L.type.startsWith("image/"));if(a.length+P.length>24){t({title:"Too many images",description:`You can only upload up to 24 images per session. You have ${a.length} selected.`,variant:"destructive"});return}o(L=>[...L,...P]),P.forEach(L=>{const k=new FileReader;k.onloadend=()=>{c(A=>[...A,k.result])},k.readAsDataURL(L)})},j=_=>{o(P=>P.filter((C,L)=>L!==_)),c(P=>P.filter((C,L)=>L!==_))},N=async()=>{if(a.length===0){t({title:"No images selected",description:"Please select at least one image to upload.",variant:"destructive"});return}d(!0),h(0),y(0);try{const _=await s();if(!_){t({title:"Authentication Required",description:"Please sign in to upload images.",variant:"destructive"}),d(!1);return}const P=new FormData;a.forEach(k=>{P.append("images",k)});const C=await fetch(`/api/upload-session/${e}/upload`,{method:"POST",headers:{Authorization:`Bearer ${_}`},body:P});if(C.status===410){b(!0),t({title:"Session Expired",description:"This upload session has expired. Please scan the QR code again on your desktop.",variant:"destructive"});return}if(!C.ok)throw new Error("Upload failed");const L=await C.json();h(100),y(L.imageCount),t({title:"Upload Successful!",description:`${a.length} ${a.length===1?"image":"images"} uploaded to your desktop.`}),o([]),c([])}catch(_){console.error("Upload error:",_),t({title:"Upload Failed",description:_.message||"Failed to upload images. Please try again.",variant:"destructive"})}finally{d(!1)}};return r?n?x?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:i.jsx(te,{className:"max-w-md w-full",children:i.jsxs(Ke,{children:[i.jsxs("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[i.jsx(vs,{className:"h-6 w-6"}),i.jsx(Je,{children:"Session Expired"})]}),i.jsx(Ut,{children:"This upload session has expired. Please return to your desktop and scan the QR code again to create a new session."})]})})}):i.jsx("div",{className:"min-h-screen bg-background p-4",children:i.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:i.jsxs(te,{children:[i.jsxs(Ke,{children:[i.jsxs(Je,{className:"flex items-center gap-2",children:[i.jsx(Jg,{className:"h-6 w-6 text-primary"}),"Upload Photos to Desktop"]}),i.jsx(Ut,{children:"Take photos or select from your gallery. They'll appear on your desktop in real-time."})]}),i.jsxs(je,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(B,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{var _;return(_=g.current)==null?void 0:_.click()},disabled:u||a.length>=24,"data-testid":"button-take-photo",children:[i.jsx(Bd,{className:"h-6 w-6"}),i.jsx("span",{className:"text-sm",children:"Take Photo"})]}),i.jsxs(B,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>{var _;return(_=w.current)==null?void 0:_.click()},disabled:u||a.length>=24,"data-testid":"button-choose-gallery",children:[i.jsx(Jg,{className:"h-6 w-6"}),i.jsx("span",{className:"text-sm",children:"From Gallery"})]})]}),i.jsx("input",{ref:g,type:"file",accept:"image/*",capture:"environment",multiple:!0,className:"hidden",onChange:_=>p(_.target.files)}),i.jsx("input",{ref:w,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:_=>p(_.target.files)}),a.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm font-medium",children:["Selected: ",a.length," / 24"]}),a.length>=24&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum reached"})]}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.map((_,P)=>i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:_,alt:`Selected ${P+1}`,className:"w-full h-full object-cover rounded-md"}),i.jsx(B,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6",onClick:()=>j(P),disabled:u,"data-testid":`button-remove-${P}`,children:i.jsx(Lr,{className:"h-4 w-4"})})]},P))})]}),u&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Uploading..."}),i.jsxs("span",{children:[Math.round(f),"%"]})]}),i.jsx(no,{value:f})]}),v>0&&!u&&i.jsxs(Zo,{className:"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800",children:[i.jsx(wt,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),i.jsxs(Xo,{className:"text-green-800 dark:text-green-200",children:["Successfully uploaded ",v," ",v===1?"image":"images"," to desktop!"]})]}),i.jsx("div",{className:"flex gap-3 pt-2",children:i.jsx(B,{variant:"default",className:"flex-1",onClick:N,disabled:a.length===0||u,"data-testid":"button-upload",children:u?i.jsxs(i.Fragment,{children:[i.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(wt,{className:"mr-2 h-4 w-4"}),"Upload ",a.length>0&&`(${a.length})`]})})}),i.jsx("p",{className:"text-xs text-muted-foreground text-center pt-2",children:"Keep this page open until you see your photos on the desktop"})]})]})})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:i.jsxs(te,{className:"max-w-md w-full",children:[i.jsxs(Ke,{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(tb,{className:"h-6 w-6 text-primary"}),i.jsx(Je,{children:"Sign In Required"})]}),i.jsx(Ut,{children:"You need to sign in to upload photos to your desktop session."})]}),i.jsx(je,{children:i.jsx(g2,{mode:"modal",children:i.jsxs(B,{className:"w-full","data-testid":"button-sign-in",children:[i.jsx(tb,{className:"h-4 w-4 mr-2"}),"Sign In to Continue"]})})})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:i.jsx(te,{className:"max-w-md w-full",children:i.jsx(je,{className:"pt-6 flex items-center justify-center",children:i.jsx(at,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})})}function lQ(){const[,e]=Br(),{toast:t}=gn(),{getToken:n}=ia(),[r,s]=m.useState("loading"),[a,o]=m.useState({type:""});return m.useEffect(()=>{(async()=>{const u=new URLSearchParams(window.location.search).get("session_id");if(!u){s("error");return}try{const d=await n();if(!d){s("error"),t({title:"Authentication Required",description:"Please sign in to verify your payment.",variant:"destructive"});return}const f=await fetch("/api/verify-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({sessionId:u})});if(!f.ok)throw new Error("Failed to verify payment");const h=await f.json();if(h.success)if(o({type:h.type,creditsAdded:h.creditsAdded,itemCount:h.itemCount}),s("success"),vt.invalidateQueries({queryKey:["/api/user/credits"]}),vt.invalidateQueries({queryKey:["/api/ai/usage"]}),h.type==="credits"){if(t({title:"Purchase Successful!",description:`${h.creditsAdded} AI credits have been added to your account.`}),localStorage.getItem("pendingItems")){setTimeout(()=>{e(`/post-ad?payment=success&credits=${h.creditsAdded}`)},2e3);return}}else t({title:"Payment Successful!",description:`Payment confirmed for ${h.itemCount} items.`});else s("error")}catch(d){console.error("Error verifying payment:",d),s("error"),t({title:"Error",description:"Failed to verify your payment. Please contact support.",variant:"destructive"})}})()},[t,n]),r==="loading"?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx(te,{className:"w-full max-w-md",children:i.jsxs(Ke,{className:"text-center",children:[i.jsx(at,{className:"mx-auto h-12 w-12 animate-spin text-primary"}),i.jsx(Je,{className:"mt-4",children:"Processing your payment..."}),i.jsx(Ut,{children:"Please wait while we confirm your payment"})]})})}):r==="error"?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:i.jsxs(te,{className:"w-full max-w-md",children:[i.jsxs(Ke,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:i.jsx(Wn,{className:"h-6 w-6 text-destructive"})}),i.jsx(Je,{children:"Payment Verification Failed"}),i.jsx(Ut,{children:"We couldn't confirm your payment. If you were charged, please contact support."})]}),i.jsx(je,{className:"text-center",children:i.jsx(B,{onClick:()=>e("/post-ad"),"data-testid":"button-back-to-listings",children:"Back to Create Listing"})})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:i.jsxs(te,{className:"w-full max-w-md",children:[i.jsxs(Ke,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/20",children:i.jsx(wt,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),i.jsx(Je,{children:"Payment Successful!"}),i.jsx(Ut,{children:a.type==="credits"?`${a.creditsAdded} AI credits have been added to your account`:`Payment confirmed for ${a.itemCount} items`})]}),i.jsxs(je,{className:"space-y-4 text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:a.type==="credits"?"Your credits never expire! Use them anytime for AI-powered listing generation.":"You can now continue generating AI descriptions for your items."}),i.jsx(B,{onClick:()=>e("/post-ad"),className:"w-full","data-testid":"button-create-listing",children:a.type==="credits"?"Create a Listing":"Continue to Listing"})]})]})})}function cQ(){const[,e]=Br();return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:i.jsxs(te,{className:"w-full max-w-md",children:[i.jsxs(Ke,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-orange-100 dark:bg-orange-900/20",children:i.jsx(Wn,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),i.jsx(Je,{children:"Payment Cancelled"}),i.jsx(Ut,{children:"Your payment was cancelled. No charges were made to your account."})]}),i.jsxs(je,{className:"space-y-4 text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"You can try again whenever you're ready. Your items are still saved."}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(B,{onClick:()=>e("/post-ad"),className:"w-full","data-testid":"button-try-again",children:"Try Again"}),i.jsx(B,{onClick:()=>e("/"),variant:"outline",className:"w-full","data-testid":"button-back-home",children:"Back to Home"})]})]})]})})}function uQ(){const[e,t]=m.useState(!1),{isSignedIn:n,isLoaded:r,getToken:s}=ia(),{user:a}=Nv(),{data:o}=jt({queryKey:["/api/user/credits"],queryFn:async()=>{if(!n)return null;const l=await s(),c=await fetch("/api/user/credits",{headers:{Authorization:`Bearer ${l}`}});if(!c.ok)throw new Error("Failed to fetch credits");return c.json()},enabled:n});return m.useEffect(()=>{const l=document.documentElement;e?l.classList.add("dark"):l.classList.remove("dark")},[e]),i.jsx("nav",{className:"sticky top-0 z-50 bg-background border-b",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex items-center justify-between h-16 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("button",{className:"text-2xl font-bold text-primary hover-elevate active-elevate-2 px-2 py-1 rounded-md","data-testid":"link-home",onClick:()=>window.location.href="/",children:"SellFast.Now"}),i.jsx("div",{className:"hidden md:flex items-center flex-1 max-w-md",children:i.jsxs("div",{className:"relative w-full",children:[i.jsx(Tf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(xt,{type:"search",placeholder:"Search listings...",className:"pl-10 h-10","data-testid":"input-search"})]})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(B,{size:"icon",variant:"ghost",onClick:()=>t(!e),"data-testid":"button-theme-toggle",children:e?i.jsx($z,{className:"h-5 w-5"}):i.jsx(_z,{className:"h-5 w-5"})}),r?n?i.jsxs(i.Fragment,{children:[o&&i.jsxs(ct,{variant:"secondary",className:"hidden md:flex items-center gap-1 px-3 cursor-pointer hover-elevate",onClick:()=>window.location.href="/credits","data-testid":"badge-credits",children:[i.jsx(vr,{className:"h-3 w-3"}),i.jsx("span",{"data-testid":"text-credits-balance",children:o.creditsRemaining})]}),i.jsxs(B,{variant:"ghost",className:"hidden md:flex","data-testid":"button-my-listings",onClick:()=>window.location.href="/dashboard",children:[i.jsx(jz,{className:"h-4 w-4 mr-2"}),"My Listings"]}),i.jsxs(B,{variant:"default",className:"hidden sm:flex bg-secondary hover:bg-secondary","data-testid":"button-post-ad",onClick:()=>window.location.href="/post-ad",children:[i.jsx(_c,{className:"h-4 w-4 mr-2"}),"Post Ad"]}),i.jsx("div",{"data-testid":"user-button",children:i.jsx(k3,{afterSignOutUrl:"/",appearance:{elements:{avatarBox:"w-9 h-9"}}})})]}):i.jsxs(i.Fragment,{children:[i.jsx(g2,{mode:"modal",children:i.jsx(B,{variant:"ghost","data-testid":"button-login",children:"Login"})}),i.jsx(s$,{mode:"modal",children:i.jsx(B,{variant:"default","data-testid":"button-signup",children:"Sign Up"})})]}):i.jsx("div",{className:"w-20 h-9"})]})]}),i.jsx("div",{className:"md:hidden pb-3",children:i.jsxs("div",{className:"relative",children:[i.jsx(Tf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(xt,{type:"search",placeholder:"Search listings...",className:"pl-10 h-10","data-testid":"input-search-mobile"})]})})]})})}function dQ(){return i.jsxs(R$,{children:[i.jsx(Jn,{path:"/",component:hB}),i.jsx(Jn,{path:"/sign-in",component:iQ}),i.jsx(Jn,{path:"/sign-up",component:aQ}),i.jsx(Jn,{path:"/post-ad",component:YW}),i.jsx(Jn,{path:"/listings/:id",component:Cq}),i.jsx(Jn,{path:"/dashboard",component:Tq}),i.jsx(Jn,{path:"/users/:userId",component:eQ}),i.jsx(Jn,{path:"/users/:userId/history",component:nQ}),i.jsx(Jn,{path:"/create-review/:token",component:rQ}),i.jsx(Jn,{path:"/unsubscribe",component:sQ}),i.jsx(Jn,{path:"/mobile-upload/:sessionId",component:oQ}),i.jsx(Jn,{path:"/payment/success",component:lQ}),i.jsx(Jn,{path:"/payment/cancel",component:cQ}),i.jsx(Jn,{component:vV})]})}function fQ(){return i.jsx(t5,{client:vt,children:i.jsxs(mV,{children:[i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(uQ,{}),i.jsx(dQ,{})]}),i.jsx(PU,{})]})})}const hQ="pk_test_cXVpY2stcmVwdGlsZS04LmNsZXJrLmFjY291bnRzLmRldiQ";Sk(document.getElementById("root")).render(i.jsx(y2,{publishableKey:hQ,children:i.jsx(fQ,{})}));
